#+LATEX_HEADER:

#+TITLE: 数理逻辑

currnet mark: 507

free mark: 
  
数理逻辑: P28

* 命题逻辑

** 命题与命题表达式

*** 符号

**** 逻辑符号（逻辑连词）<<MK1>>

表[[MK9][命题符号]]的逻辑关系，为 $\{(,),\lnot,\to\}$ 具体如下：

***** 否定<<MK2>>

定义符号为 $\lnot$ ，[[MK28][真值]]表：

\begin{tabular}{|l|l|} 
\hline
p & \lnot p\\
\hline
1&0\\
0&1\\
\hline
\end{tabular}

***** 蕴含<<MK3>>

定义符号为 $\to$ ，[[MK28][真值]]表：

\begin{tabular}{|l|l|l|} 
\hline
p & p & p \rightarrow p\\
\hline
0&0&1\\
0&1&1\\
1&0&0\\
1&1&1\\
\hline
\end{tabular}

***** 推导连词<<MK4>>

推导连词可由[[MK2][否定]]与[[MK3][蕴含]]推导所得，故不影响之后定理的证明

****** 合取<<MK5>>

定义符号为 $\land$ ，[[MK28][真值]]表：

\begin{tabular}{|l|l|l|} 
\hline
p & p & p \land p\\
\hline
0&0&0\\
0&1&0\\
1&0&0\\
1&1&1\\
\hline
\end{tabular}

为方便书写，定义连续合取 $(\phi_1\land...\land\phi_n)=(\phi_1\land(\phi_2\land...\land\phi_n))$

******* 推导过程

对于[[MK15][表达式]] $\{s_1,s_2\}\subset\mathcal{L}_0$ 定义表达式 $z=(\lnot(s_1\to(\lnot s_2)))$

则根据[[MK28][表达式真值]]有 $\bar{v}(z)=H_{\lnot}(H_{\to}(H_{\lnot}(\bar{v}(s_1)),H_{\lnot}(\bar{v}(s_2))))$ 根据[[MK30][逻辑函数]]定义可得 $\bar{v}(z)$ 与合取真值相同

****** 析取<<MK6>>

定义符号为 $\lor$ ，[[MK28][真值]]表：

\begin{tabular}{|l|l|l|} 
\hline
p & p & p \lor p\\
\hline
0&0&0\\
0&1&1\\
1&0&1\\
1&1&1\\
\hline
\end{tabular}

为方便书写，定义连续析取 $(\phi_1\lor...\lor\phi_n)=(\phi_1\lor(\phi_2\lor...\lor\phi_n))$

******* 推导过程

对于[[MK15][表达式]] $\{s_1,s_2\}\subset\mathcal{L}_0$ 定义表达式 $z=((\lnot s_1)\to s_2)$

则根据[[MK28][表达式真值]]有 $\bar{v}(z)=H_{\to}(H_{\lnot}(\bar{v}(s_1)),\bar{v}(s_2))$ 根据[[MK30][逻辑函数]]定义可得 $\bar{v}(z)$ 与析取真值相同

****** 双向蕴含<<MK7>>

定义符号为 $\leftrightarrow$ ，[[MK28][真值]]表：

\begin{tabular}{|l|l|l|} 
\hline
p & p & p \leftrightarrow p\\
\hline
0&0&1\\
0&1&0\\
1&0&0\\
1&1&1\\
\hline
\end{tabular}

******* 推导过程

对于[[MK15][表达式]] $\{s_1,s_2\}\subset\mathcal{L}_0$ 定义表达式 $z=((s_1\to s_2)\land(s_2\to s_1))$ 其中 $\land$ 为[[MK5][合取]]

则根据[[MK28][表达式真值]]有 $\bar{v}(z)=H_{\land}(H_{\to}(s_1\to s_2),H_{\to}(s_2\to s_1))$ 根据[[MK30][逻辑函数]]定义可得 $\bar{v}(z)$ 与双向蕴含真值相同

其中 $H_{\land}$ 为合取的[[MK21][逻辑函数]]

***** 逻辑函数<<MK21>>

[[MK2][否定]]函数 $H_{\lnot}:\{T,F\}\to\{T,F\}$ 满足 $H_{\lnot}(T)=F\land H_{\lnot}(F)=T$

[[MK3][蕴含]]函数 $H_{\to}:\{T,F\}\times\{T,F\}\to\{T,F\}$ 满足 $H_{\to}(T,F)=F$

       以及 $H_{\to}(T,T)=H_{\to}(F,F)=H_{\to}(F,T)=T$

[[MK5][合取]]函数 $H_{\land}:\{T,F\}\times\{T,F\}\to\{T,F\}$ 满足 $H_{\land}(T,T)=T$ 以及 $H(T,F)_{\land}=H_{\land}(F,F)=H_{\land}(F,T)=F$

[[MK6][析取]]函数 $H_{\lor}:\{T,F\}\times\{T,F\}\to\{T,F\}$ 满足 $H_{\lor}(T,T)=T$ 以及 $H(T,F)_{\lor}=H_{\lor}(F,F)=H_{\lor}(F,T)=F$

[[MK7][双向蕴含]]函数 $H_{\leftrightarrow}:\{T,F\}\times\{T,F\}\to\{T,F\}$ 满足 $H_{\leftrightarrow}(T,T)=H_{\leftrightarrow}(F,F)=T$

           以及 $H_{\leftrightarrow}(F,T)=H_{\leftrightarrow}(T,F)=T$

**** 原子命题<<MK9>>

[[MK1][逻辑符号]]的操作变量，无法用其他原子命题或逻辑符号的组合表示

为[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，例如 $A=\left\{a_i\big|i\in I\land I\subset\mathbb{N}\right\}$

*** 基本符号集<<MK10>>

定义 $\Sigma=\{\lnot,\to\}\cup A$ 其中 $A$ 为[[MK9][命题符号]]集合

则基本符号集定义为 $\Sigma^*=\bigcup_{i\in\mathbb{N}}\Sigma^i$ 其中 $\Sigma^i$ 是[[~/文档/note/离散数学/lssx.org::MK107][笛卡尔积]]的幂

对于任意 $s=<s_1,...,s_n>\in\Sigma^*$ 根据[[~/文档/note/离散数学/lssx.org::MK105][有序组]]可简化表述为 $s=s_1...s_n$

进一步定义 $s[i]=s_i$ 为有序组 $s$ 上第 $i$ 个元素

**** 性质<<MK11>>

基本符号集 $\Gamma^*$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]

***** 证明

由于[[MK9][原子命题]]是[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，故可得对于任意 $n\in\mathbb{N}$ 有 $\Sigma^i$ 亦为有限集

则根据[[~/文档/note/离散数学/lssx.org::MK95][定理1]]可得 $\Sigma^*=\bigcup_{i\in\mathbb{N}}\Sigma^i$ 是[[~/文档/note/离散数学/lssx.org::MK93][之多可数集]]，显然 $\Sigma^*$ 不是有限集

故可得 $\Sigma^*$ 是可数集

*** 准语言<<MK12>>

对于任意 $L\subset\Sigma^*$ 其中 $\Sigma^*$ 是[[MK10][基本符号基]]，若满足：

（1） $\forall a_i\in A$ 有 $a_i\in L$

（2） $\forall s\in L$ 有 $(\lnot s)=<(,\lnot,s,)>\in L$

（3） $\forall \{s_1,s_2\}\subset L$ 有 $(s_1\to s_2)=<(,s_1,\to,s_2,)>\in L$

则 $L$ 为 $\Sigma$ 的准语言，以符号 $L_0$ 表示，进一步定义 $\Sigma$ 的所有准语言集合为 $\mathcal{L}$

*** 命题语言<<MK13>>

若 $\mathcal{L}_0$ 满足对于任意 $L\in\mathcal{L}$ 均有 $\mathcal{L}_0\subset\mathcal{L}$ 则 $\mathcal{L}_0$ 是命题语言

即所有[[MK12][准语言]]的[[~/文档/note/离散数学/lssx.org::MK58][并]]，以符号 $\mathcal{L}=\bigcap\mathcal{L}_0$ 表示

**** 定理<<MK14>>

$\mathcal{L}_0$ 是 $\Sigma$ 上最小的[[MK12][准语言]]，即 $\mathcal{L}_0=\bigcap_{L\in\mathcal{L}} L$

***** 证明

****** 是准语言

对于任意 $x\in\mathcal{L}$ 均有 $L\in\mathcal{L}_0\rightarrow x\in L$ ，又由于对于任意 $L\in\mathcal{L}_0$ 有 $L$ 是[[MK12][准语言]]，则：

（1） $\forall a_i\in A$ 有 $a_i\in L$ 即有 $a_i\in\mathcal{L}$

（2） $\forall s\in\mathcal{L}$ 有 $s\in L$ ，进一步有 $(\lnot s)\in L$ ，最终有 $(\lnot s)\in\mathcal{L}$

（3） $\forall \{s_1,s_2\}\subset\mathcal{L}$ 有 $\{s_1,s_2\}\subset L$ ，则有 $(s_1\to s_2)\in L$ 即 $(s_1\to s_2)\in\mathcal{L{$   

综上所述 $\mathcal{L}$ 是准语言

****** 是最小准语言

若存在 $L\subset\Sigma^*$ 比 $\mathcal{L}$ 小，即存在 $x\in L$ 满足 $x\not\in\mathcal{L}$ 显然与 $\mathcal{L}$ 定义矛盾

*** 命题表达式<<MK15>>

对于任意 $s\in\mathcal{L}_0$ 称 $s$ 是 $\Sigma$ 上的命题表达式

根据[[MK10][基本符号集]]，对于任意 $s=<s_1,...,s_n>\in\Sigma^*$ 可简化表述为 $s=s_1...s_n$ ，且 $s[i]=s_i$ 为有序组 $s$ 上第 $i$ 个元素

进一步定义 $|s|=|<s_1,...,s_n>|=n$ 为命题表达式的长度

**** 相等<<MK19>>

对于任意 $\{s_1,s_2\}\subset\mathcal{L}_0$ 若满足 $|s_1|=|s_2|\land\forall i<|s_1|\rightarrow s_1[i]=s_2[i]$

则称表达式 $s_1,s_2$ 相等

**** 定理1（可读性）<<MK17>>

任意命题表达式 $s\in\mathcal{L}$ 以下三项中有且仅有一项成立：

（1） 存在 $a_i\in A$ 满足 $s=a_i$ ，其中 $A$ 是[[MK9][命题符号]]

（2） 存在 $\phi\in\mathcal{L}$ 满足 $s=(\lnot \phi)$

（3） 存在 $\{\phi_1,\phi_2\}\subset\mathcal{L}_0$ 满足 $s=(\phi_1\to\phi_2)$

***** 证明

****** 必在三种情况中<<MK18>>

假设存在 $s\in\mathcal{L}_0$ 满足不在三种情况中，则根据[[MK12][准语言定义]]可得 $\mathcal{L}_0-\{s\}$ 亦为准语言

显然与[[MK14][定理]]矛盾，故假设不成立

****** 三种情况互斥

满足条件（1）时 $s[1]=a_i$ 对于任意 $s'$ 满足条件（2）或（3）根据定义必有 $s'[1]=($

满足条件（2）时 $s[2]=\lnot$ 对于任意 $s'$ 满足条件（1）有 $|s'|=1$ 显然不满足，对于任意 $s'=(\phi_1\to\phi_2)$

可得 $\phi_1\in\mathcal{L}_0$ 即 $s[2]=\phi_1[1]$ 根据[[MK18][之前证明]]可得 $\phi_1$ 必在三种情况中，故 $\phi_1[1]$ 仅可能为 $($ 或 $a_i$

综上所述当 $s$ 满足（2）时与其他两种情况互斥

满足条件（3）是由于上述证明可得 $s$ 不可能满足条件（1）（2）

**** 定理2（前缀引理）<<MK19>>

对于任意 $s\in\mathcal{L}_0$ 设 $s=<\sigma_1,...,\sigma_n>$ 其中 $\sigma_i\in\Sigma$ 定义 $s_k=<\sigma_1,...,\sigma_k>,k<n$

则有 $s_k\not\in\mathcal{L}_0$

***** 证明

根据[[MK17][可读性]]有下列情况，分别证明后可得结论

****** $s=a_i$

显然后缀为 $\varnothing$ ，根据[[MK14][定理]]易证 $\varnothing\not\in\mathcal{L}_0$

****** $s=(\lnot\phi)$ 或 $s=(\phi_1\to\phi_2)$

由于是前缀且 $s[1]=($ 则显然 $s_k\ne a_i$ 。又根据[[MK22][定理5]]可得任意 $s_k$ 均有 $s_k[1],s_k[|s_k|]$ 之间 $(,)$ 个数不相等

又根据[[MK22][定理5]]可得任意 $s'\in\mathcal{L}_0$ 不为 $a_i$ 形式的均有 $s'[0],s'[|s'|]$ 之间的 $(,)$ 个数一致

故可得 $s_k\not\in\mathcal{L}_0$

**** 定理3（后缀引理）<<MK20>>

对于任意 $s\in\mathcal{L}_0$ 设 $s=<\sigma_1,...,\sigma_n>$ 其中 $\sigma_i\in\Sigma$ 定义 $s_k=<\sigma_{k},...,\sigma_n>,1<k\leq n$

则有 $s_k\not\in\mathcal{L}_0$

***** 证明

根据[[MK17][可读性]]有下列情况，分别证明后可得结论

****** $s=a_i$

显然后缀为 $\varnothing$ ，根据[[MK14][定理]]易证 $\varnothing\not\in\mathcal{L}_0$

****** $s=(\lnot\phi)$ 或 $s=(\phi_1\to\phi_2)$

由于是后缀且 $s[|s|]=)$ 则显然 $s_k\ne a_i$ 。又根据[[MK22][定理5]]可得任意 $s_k$ 均有 $s_k[0],s_k[|s_k|]$ 之间 $(,)$ 个数不相等

又根据[[MK22][定理5]]可得任意 $s'\in\mathcal{L}_0$ 不为 $a_i$ 形式的均有 $s'[0],s'[|s'|]$ 之间的 $(,)$ 个数一致

故可得 $s_k\not\in\mathcal{L}_0$

**** 定理4（唯一可读性）<<MK21>>

任意命题表达式 $s\in\mathcal{L}_0$ 以下三项中有且仅有一项成立：

（1） 存在唯一的 $a_i\in A$ 满足 $s=a_i$ ，其中 $A$ 是[[MK9][命题符号]]

（2） 存在唯一的 $\phi\in\mathcal{L}$ 满足 $s=(\lnot \phi)$

（3） 存在唯一一组 $\{\phi_1,\phi_2\}\subset\mathcal{L}_0$ 满足 $s=(\phi_1\to\phi_2)$

***** 证明

对于任意 $s\in\mathcal{L}_0$ 时，根据[[MK17][可读性]]定理可得：

（1） 若 $s=a_i$ 显然成立

（2） 若 $s=(\lnot\phi)$ 若存在 $\phi'\ne\phi$ 满足 $s=(\lnot\phi')$ 则根据[[MK19][相等]]定义必有 $\phi'[i]\ne\phi[i]$ 或 $|\phi|\ne|\phi'|$

     若 $|\phi|\ne|\phi'|$ 则显然有 $|(\lnot\phi)|\ne|(\lnot\phi')|$ 显然 $s=(\lnot\phi')$ 不成立

     若 $|\phi|=|\phi'|\land\phi'[i]\ne\phi[i]$ 则有 $s[i+2]=\phi'(i)=\phi[i]$ 显然矛盾，故不成立

（3） 若 $s=(\phi_1\to\phi_2)$ 若存在 $\{\psi_1,\psi_2\}\subset\mathcal{L}_0$ 满足 $s=(\psi_1\to\psi_2)\land(\psi_1\ne\phi_1\lor\psi_2\ne\phi_2)$ 则

     a. 若 $|\phi_1|+|\phi_2|\ne|\psi_1|+|\psi_2|$ 则有 $|(\psi_1\to\psi_2)|\ne|(\phi_1\to\phi_2)|$ 显然不成立

     b. 若 $|\phi_1|=|\phi_2|\land|\psi_1|=|\psi_2|$ 则必有 $\phi_1[i]\ne\psi_1[i]\lor\phi_2[i]\ne\psi_2[i]$

        即有 $s[1+i]\ne s[1+i]\lor s[2+|\phi_2|+i]\nes[2+|\phi_2|+i]$ 显然不可能

     c. 若 $|\phi_1|+|\phi_2|=|\psi_1|+|\psi_2|$ 且 b 不成立，则必有 $\psi_1,\phi_1$ 其中一个是另一个的真前缀

        根据[[MK19][前缀引理]]可得若成立，则必有 $\phi_1\not\in\mathcal{L}_0\lor\psi_1\not\in\mathcal{L}_0$ 显然与[[MK17][可读性]]矛盾

综上所述，对于任意 $s\in\mathcal{L}_0$ 唯一可读性定理成立

**** 定理5<<MK22>>

任意命题表达式 $s\in\mathcal{L}_0$ 根据[[MK17][可读性]]若有形式 $(\lnot\phi)$ 或 $(\phi_1\to\phi_2)$ 则：

（1） $s[1]=($ 和 $s[|s|]=)$ 之间的 $($ 和 $)$ 个数相等

（2） 任意 $s[i],i\ne|s|$ 与 $s[1]$ 之间的 $($ 的个数大于 $)$ 的个数

（3） 任意 $s[i],i\ne1$ 与 $s[|s|]$ 之间的 $($ 的个数小于 $)$ 的个数

***** 证明

根据以下证明，以及任意 $s\in\mathcal{L}_0$ 均有 $|s|<\infty$ 基于数学归纳法证得

****** $|s|$ 最短形式<<MK23>>

当 $\phi,\phi_1,\phi_2$ 是 $(\lnot a_i)$ 或 $(a_i\to a_j)$ 的形式时，则易证 $s=(\lnot\phi)$ 或 $s=(\phi_1\to\phi_2)$

时显然结论（1）（2）（3）均成立

****** 归纳假设

假设对于任意 $s\in\mathcal{L}_0$ 若 $|s|<n$ 则命题成立，满足（1）（2）（3）

****** 长度为 $n$ 时

对于任意 $s\in\mathcal{L}_0$ 若 $|s|=n$ 且 $s$ 不为最短形式时，显然 $|\phi|<n$ 故根据归纳假设 $\phi$ 命题成立

且 $\phi\ne a_i$ ，则有：

由于满足（1）故 $\phi[1],\phi[|\phi|]$ 之间的 $(,)$ 个数相等，设均为 $n$ ，又由于 $\phi[1]=(,\phi[|\phi|]=)$

故 $s[1]=($ 和 $s[|s|]=)$ 之间的 $($ 和 $)$ 个数均为 $n+1$ 即相等

由于满足（2）且显然任意 $s[i]=)\land i\ne|s|$ 均在 $\phi$ 中

若 $i=|s|-1$ 即 $s[i]\to\phi[|\phi|]$ ，则由于（1） $\phi[0],\phi[|\phi|]$ 之间的 $(,)$ 均为 $n$ 显然 $s[0],s[i]$ 之间 $($ 个数比 $)$ 多 $1$

若上述不成立，则根据（2） $\phi[1]$ 之间 $($ 个数大于 $)$ 设为 $m>n$ 显然 $s[1],s[i]$ 之间 $($ 个数为 $m+1$ ， $)$ 仍为 $n$

显然 $m+1>n$ 则命题成立。同理可证（3）
 
*** 子表达式<<MK24>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\phi\in\mathcal{L}_0$ 若对于 $\psi\in\mathcal{L}_0$ 存在 $1\leq n\leq|\phi|$ 满足对于任意 $1\leq i\leq|\psi|$ 均有 $\psi[i]=\phi[n+i]$

则称 $\psi$ 是 $\phi$ 的子表达式

**** 定理1<<MK25>>

任意命题表达式 $s\in\mathcal{L}_0$ 有 $|s|>1$

（1） 任意 $s[i]=($ 有且仅有唯一 $s[j]=),j>i$ 满足 $<s[i],...,s[j]>\in\mathcal{L}_0$ 

（2） 任意 $s[i]=)$ 有且仅有唯一 $s[j]=(,j<i$ 满足 $<s[i],...,s[j]>\in\mathcal{L}_0$ 

***** 证明

根据以下证明，以及任意 $s\in\mathcal{L}_0$ 均有 $|s|<\infty$ 基于数学归纳法证得

****** 一对括号

根据[[MK21][唯一可读]]仅有 $s=(\lnot a_i)$ 或 $s=(a_i\to a_j)$ 两种形式，显然此时（1）（2）满足

****** 归纳假设

对于任意 $s\in\mathcal{L}_0$ 且括号对数小于 $n$ 的命题（1）（2）均成立

****** $n$ 对括号

根据[[MK21][唯一可读]]有且仅有 $s=(\lnot\phi)$ 或 $s=(\phi_1\to \phi_2)$ 两种形式

*******  $s=(\lnot\phi)$ 时

对于任意 $s[i]=($ 若 $i=1$ 则根据[[MK19][前缀引理]]有 $s[|s|]=)$ 满足条件（1）

若 $i>1$ 则 $s[i]$ 在 $\phi$ 中，显然 $\phi$ 中括号对数为 $n-1$ 根据归纳假设 $\phi$ 中有唯一 $)$ 满足条件（1）

此时唯一不在 $\phi$ 中，且在 $s[i]$ 之后的 $)$ 为 $s[|s|]$ 显然根据[[MK20][后缀引理]]可得 $<s[i],...,s[|s|]>\not\in\mathcal{L}_0$

综上所述，对于任意 $s[i]=($ 满足条件（1）

*******  $s=(\phi_1\to \phi_2)$ 时

对于任意 $s[i]=($ 若 $i=1$ 则根据[[MK19][前缀引理]]有 $s[|s|]=)$ 满足条件（1）

若 $i>1$ 且 $s[i]$ 在 $\phi_1$ 中，由于 $\phi_1$ 中括号对数显然小于 $n$ 故根据归纳假设在 $\phi_1$ 中有唯一与之对应的 $)$

假设存在 $s[j],j>i$ 满足 $<s[i],...,s[j]>\in\mathcal{L}$ 则根据以下证明可得假设不成立

******** 若 $s[j]$ 在 $\phi_2$ 中

则同样根据归纳假设对于 $\phi_1[|\phi_1|]=)$ 在 $\phi_1$ 中有唯一的 $\phi_1[1]=($ 与之对应满足条件

此时若 $i>2$ 即 $s[i]$ 在 $\phi_1[1]$ 右边，则 $\phi_1[|\phi_1|]$ 在 $<s[i],...,s[j]>$ 中不存在与之对应的 $($ 满足条件（2）

与归纳假设矛盾。

此时若 $i=2$ ，则对于 $\phi_2[1]=($ 来说，若 $s[i]$ 不为 $\phi_2[|\phi_2|]=)$ 同理可证与条件（1）矛盾

若 $s[j]$ 为 $\phi_2[|\phi_2|]=)$ 则显然 $<s[i],...,s[j]>=\phi_1\to\phi_2\in\mathcal{L}_0$ 与[[MK21][唯一可读性]]矛盾

******** 若 $s[j]=s[|s|]$

则根据[[MK20][后缀引理]]可得 $<s[i],...,s[|s|]>\not\in\mathcal{L}_0$ 与假设矛盾

**** 定理2<<MK26>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\phi\in\mathcal{L}_0$ 以及 $\psi$ 是 $\phi$ 的子表达式，则

（1） 若 $\psi\ne\phi$ 则 $\phi$ 必为 $\phi=(\lnot s_0)$ 或 $\phi=(s_1\to s_2)$ 的形式

（2） 若 $\phi=(\lnot s_0)$ 且 $\psi\ne s_0$ 则 $\psi$ 是 $s_0$ 的子表达式；

     若 $\phi=(s_1\to s_2)$ 且 $\psi\ne s_1\land\psi\ne s_2$ 则有 $\psi$ 是 $s_1$ 的子表达式或 $\psi$ 是 $s_2$ 的子表达式
     
***** 证明

****** 证明（1）

若 $\psi\ne\phi$ 根据[[MK21][唯一可读性]]三种必成立其一，若 $\phi=a_i$ 显然无法拆分，故必不成立

****** 证明（2）

******* $\phi=(\lnot s_0),s_0\in\mathcal{L}_0$ 形式

根据[[MK19][前缀引理]]以及[[MK20][后缀引理]]可得 $\psi$ 不包含 $\phi[1]$ 以及 $\phi[|\phi|]$ ，故 $\psi$ 必为 $\lnot s_0$ 的子串

根据[[MK21][唯一可读性]]以及 $s_0\in\mathcal{L}_0$ 可得对于任意 $\psi\in\mathcal{L}_0$ 均有 $\psi[1]\ne\lnot$ 故可得 $\psi$ 必为 $s_0$ 的子串

******* $\phi=(s_1\to s_2),\{s_1,s_2\}\subset\mathcal{L}_0$ 形式

根据[[MK19][前缀引理]]以及[[MK20][后缀引理]]可得 $\psi$ 不包含 $\phi[1]$ 以及 $\phi[|\phi|]$ ，故 $\psi$ 必为 $s_1\to s_2$ 的子串

显然当且仅当 $\psi[1]$ 在 $s_1$ 中且 $\psi[|\psi|]$ 在 $s_2$ 中时 $\psi$ 不是 $s_1$ 或 $s_2$ 的子表达式，假设成立

显然此时 $|\psi|>1$ 根据[[MK22][定理5]]可得 $\psi[1]=($ 以及 $\psi[|\psi|]=)$ 设 $\psi[1]$ 在 $\phi,s_1$ 中的对应位置为 $\phi[i]$ 以及 $s_1[i']$

根据[[MK25][定理1]] $s_1[i']$ 在 $s_1$ 中有且仅有唯一 $s_1[j'],j'>i'$ 满足 $<s_1[i],...,s_1[j']>\in\mathcal{L}_0$

设 $s_1[j']$ 在 $\phi$ 中对应位置为 $\phi[j_1]$ ，即有 $<\phi[i],...,\phi[j_1]>\in\mathcal{L}_0$

定义 $\psi[|\psi|]$ 在 $\phi$ 中的对应位置为 $\phi[j_2]$ 且在 $s_2$ 中，显然 $s_2$ 在 $s_1$ 右边故有 $j_2>i$ 且 $<\phi[i],...,\phi[j_2]>\in\mathcal{L}_0$

又由于 $\phi[j_1]$ 位于 $s_1$ 中，故有 $j_1\ne j_2$ 。

由于 $\phi\in\mathcal{L}_0$ 故根据[[MK25][定理1]]可得有且仅有唯一 $\phi[j],j>i$ 满足 $<\phi[i],...,\phi[j]>\in\mathcal{L}$ 与上述结论矛盾

故假设不成立，不存在子表达式 $\psi$ 满足 $\psi[1]$ 在 $s_1$ 中且 $\psi[|\psi|]$ 在 $s_2$ 中

即子表达式 $\psi$ 要么存在与 $s_1$ 中，要么存在于 $s_2$ 中

** 真假赋值<<MK27>>

一个关于[[MK13][命题语言]] $\mathcal{L}_0$ 的真假赋值，定义为[[~/文档/note/离散数学/lssx.org::MK175][函数]] $v:A\to\{T,F\}$ 其中 $A$ 是[[MK9][原子命题]]

定义 $\mathcal{L}_0$ 的所有真假赋值集合为 $V(\mathcal{L}_0)$

*** 扩展函数<<MK28>>

[[MK13][命题语言]] $\mathcal{L}_0$ 及其[[MK27][真假赋值]] $v$ ，则有 $\bar{v}$ 定义为

（1） $v(a_i)=\bar{v}(a_i)$

（2） $\bar{v}(<(,\lnot,\phi,)>)=H_{\lnot}(\bar{v}(\phi))$ 其中 $\phi\in\mathcal{L}_0$ 且 $H_{\lnot}$ 是[[MK21][逻辑函数]]

（3） $\varphi(<(,\phi_1,\to,\phi_2,)>)=H_{\to}(\bar{v}(\phi_1),\bar{v}(\phi_2))$ 其中 $\{\phi_1,\phi_2\}\subset\mathcal{L}_0$ 且 $H_{\to}$ 是[[MK21][逻辑函数]]

则 $\bar{v}$ 被定义为表达式真值

**** 定理1（唯一扩张性）<<MK29>>

$\bar{v}$ 是 $\mathcal{L}_0$ 到 $\{T,F\}$ 的[[~/文档/note/离散数学/lssx.org::MK175][函数]]，且定义域为 $\mathcal{L}_0$

***** 证明<<MK30>>

根据[[MK21][唯一可读性]]可得对于任意 $s\in\mathcal{L}_0$ 均有条件中的三种形式，故显然 $\bar{v}$ 定义域为 $\mathcal{L}_0$

显然当 $|s|=1$ 时必有 $s=a_i$ 此时 $\bar{v}(s)=v(s)$ 且 $v$ 是[[~/文档/note/离散数学/lssx.org::MK175][函数]]，故 $\bar{v}(s)$ 真值唯一

定义 *归纳假设* 当 $|s|=n$ 时对于任意 $|s'|<n\land s'\in\mathcal{L}_0$ 均有函数 $\bar{v}(s')$ 满足定理条件

当 $s=(\lnot\phi)$ 时有 $|\phi|<n$ 故有 $\bar{v}(\phi)$ 唯一，又根据唯一可读性可得 $\phi$ 唯一，故有 $\bar{v}(s)$ 唯一

同理可证当 $s=(\phi_1\to\phi_2)$ 时亦有 $\bar{v}(s)$ 唯一

则根据任意 $s\in\mathcal{L}_0$ 均有 $|s|<\infty$ 以及数学归纳法可得对于任意 $s\in\mathcal{L}_0$ ：

（1） 均存在 $\bar{v}(s)$

（2） $\bar{v}(s)$ 唯一

即 $\bar{v}$ 是 $\mathcal{L}_0$ 到 $\{T,F\}$ 的[[~/文档/note/离散数学/lssx.org::MK175][函数]]

***** 推论1（排中律）<<MK31>>

[[MK13][命题语言]] $\mathcal{L}_0$ 的[[MK27][真假赋值]] $v$ 及其[[MK28][表达式真值]] $\bar{v}$ 对任意 $s\in\mathcal{L}_0$ 的值唯一

即 $\bar{v}(s)$ 非真即假

****** 证明

根据[[MK29][定理1]]可得 $\bar{v}$ 是[[~/文档/note/离散数学/lssx.org::MK175][函数]]，则结果唯一

***** 推论2<<MK504>>

素数有无限个

****** 证明

命题为素数有无限个，若命题正确，则素数有有限个。假设 $a_1,...,a_n$ 为所有素数，显然 $2$ 是质数，故 $n\geq 2$

定义 $x=\prod_{i=1}^n a_i+1$ 则有 $x$ 被任意 $a_i$ 除均余 $1$ 。若 $x$ 是素数，则假设不成立。

若 $x$ 不是素数，由于 $x>1$ ,则 $x$ 可分解成质数的乘积，由于 $a_1,..,a_n$ 均不是其质因子

故存在其他质数可以整除 $x$ 假设亦不成立

综上所述命题为素数有无限个命题为假，根据排中律素数有无限个证明命题为真。

**** 定理2（局部确定性）

设 $s\in\mathcal{L}_0$ 是[[MK13][命题语言]]，假设 $a_1,...,a_m$ 是 $s$ 中出现的所有[[MK9][原子命题]]

则若[[MK27][真假赋值]] $u,v$ 满足 $u(a_i)=v(a_i),1\leq i\leq m$ 则有 $u(s)=v(s)$

***** 证明

当 $|s|=1$ 时显然成立，当 $|s|=n>1$ 时根据[[MK21][唯一可读性]]可用[[MK30][类似归纳法]]证明

*** 可满足性<<MK32>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有[[MK27][真假赋值]] $v$ 及其[[MK28][扩展函数]] $\bar{v}$ 若：

（1） 对于任意 $s\in\mathcal{L}_0$ 有 $\bar{v}(s)=T$ 则称 $v$ 满足 $s$ 或 $s$ 被 $v$ 满足

（2） 对于任意 $S\subset\mathcal{L}_0$ 若有 $\forall s\in S\rightarrow \bar{v}(s)=T$ 则称则称 $v$ 满足 $S$ 或 $S$ 被 $v$ 满足

则对于集合 $S\subset\mathcal{L}_0$ 若存在真假赋值 $v$ 满足 $S$ ，则称 $S$ 是可满足的

**** 重言式（永真式）<<MK33>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $s\in\mathcal{L}_0$ 满足 $\forall v\in V(\mathcal{L}_0)\rightarrow \bar{v}=T$ 其中 $v\in V(\mathcal{L}_0)$ 是[[MK27][真假赋值]] $\bar{v}$ 是其[[MK28][表达式真值]]

则称 $s$ 是重言式，例 $(\phi\to\phi)$

**** 矛盾式（永假式）

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $s\in\mathcal{L}_0$ 满足 $\forall v\in V(\mathcal{L}_0)\rightarrow \bar{v}=F$ 其中 $v\in V(\mathcal{L}_0)$ 是[[MK27][真假赋值]] $\bar{v}$ 是其[[MK28][表达式真值]]

则称 $s$ 是矛盾式，例 $(\lnot(\phi\to\phi))$

*** 逻辑结论<<MK34>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $s\in\mathcal{L}_0$ 以及 $S\subset\mathcal{L}_0$

若满足对于任意[[MK27][真假赋值]] $v\in V(\mathcal{L}_0)$ 若有 $v$ [[MK32][满足]] $S$ 则有 $v$ 满足 $s$

则称 $s$ 是 $S$ 的逻辑结论，记作 $S\vDash s$ 。其中 $v\in V(\mathcal{L}_0)$ 是[[MK27][真假赋值]]

**** 逻辑结论举例<<MK35>>

***** I1

\begin{aligned}
\{A\}\vDash A\lor B
\end{aligned}

***** 简化规则<<MK36>>

\begin{aligned}
\{(A\land B)\}\vDash A\\
\{(A\land B)\}\vDash B\\
\end{aligned}

***** 添加规则

\begin{aligned}
\{A\}&\vDash A\lor B\\
\{B\}&\vDash A\lor B\\
\end{aligned}

***** 二难推论

\begin{aligned}
\{(A\lor B)\land(A\rightarrow C)\land(B\rightarrow C)\}\vDash C\\
\end{aligned}

***** 假言推理

\begin{aligned}
\{(A\land (A\rightarrow B))\}\vDash B\\
\end{aligned}

****** 证明

\begin{tabular}{|l|l|l|l|l|l|} 
\hline
A & B & A\rightarrow B & A\land (A\rightarrow B)\\
\hline
0&0&1&0\\
1&0&0&0\\
0&1&1&0\\
1&1&1&1\\
\hline
\end{tabular}

故当 $\bar{v}((A\land (A\rightarrow B)))=T$ 时必有 $\bar{v}(B)=T$

***** 否定后件

\begin{aligned}
\{((A\rightarrow B)\land (\lnot B))\}\vDash(\lnot A)\\
\end{aligned}

****** 证明

\begin{tabular}{|l|l|l|l|l|l|l|l|} 
\hline
A & B & A\rightarrow B & \lnot B & (A\rightarrow B)\land \lnot B & \lnot A\\
\hline
0&0&1&1&1&1\\
1&0&0&1&0&0\\
0&1&1&0&0&1\\
1&1&1&0&0&0\\
\hline
\end{tabular}

故当 $\bar{v}(((A\rightarrow B)\land (0\lnot B)))=T$ 时必有 $\bar{v}((\lnot A))=T$

***** 选言三段论

\begin{aligned}
\{((\lnot A)\land(A\lor B))\}&\vDash B\\
\end{aligned}

****** 证明

\begin{tabular}{|l|l|l|l|l|l|l|} 
\hline
A & B & \lnot A & A \lor B & \lnot A\land (A\lor B)\\
\hline
0&0&1&0&0\\
1&0&0&1&0\\
0&1&1&1&1\\
1&1&0&1&0\\
\hline
\end{tabular}

故当 $\bar{v}(((\lnot A)\land(A\lor B)))=T$ 时必有 $\bar{v}(B)=T$

***** 假言三段论（蕴含的传递性）<<MK37>>

\begin{aligned}
\{((A\rightarrow B)\land(B\rightarrow C))\}&\vDash(A\rightarrow C)\\
\end{aligned}

****** 证明

\begin{tabular}{|l|l|l|l|l|l|l|l|} 
\hline
A & B & C & A\rightarrow B & B\rightarrow C & (A\rightarrow B)\land(B\rightarrow C) & A\rightarrow C\\
\hline
0&0&0&1&1&1&1\\
1&0&0&0&1&0&0\\
0&1&0&1&0&0&1\\
0&0&1&1&1&1&1\\
1&1&0&1&0&0&0\\
1&0&1&0&1&0&1\\
0&1&1&1&1&1&1\\
1&1&1&1&1&1&1\\
\hline
\end{tabular}

故当 $\bar{v}(((A\rightarrow B)\land(B\rightarrow C)))=T$ 时必有 $\bar{v}((A\rightarrow C))=T$

***** I7

\begin{aligned}
\{((A\rightarrow B)\land(C\rightarrow D))\}\vDash((A\land C)\rightarrow (B\land D))\\
\end{aligned}

****** 证明

\begin{tabular}{|l|l|l|l|l|l|l|l|l|l|l|} 
\hline
A & B & C & D & A\rightarrow B & C\rightarrow D & (A\rightarrow B)\land(C\rightarrow D) & A\land C & B\land D & (A\land C)\rightarrow (B\land D)\\
\hline
0&0&0&0&1&1&1&0&0&1\\
1&0&0&0&0&1&0&0&0&1\\
0&1&0&0&1&1&1&0&0&1\\
0&0&1&0&1&0&0&0&0&1\\
0&0&0&1&1&1&1&0&0&1\\
1&1&0&0&1&1&1&0&0&1\\
1&0&1&0&0&0&0&1&0&0\\
1&0&0&1&0&1&0&0&0&1\\
0&1&1&0&1&0&0&0&0&1\\
0&1&0&1&1&1&1&0&1&1\\
0&0&1&1&1&1&1&0&0&1\\
1&1&1&0&1&0&0&1&0&0\\
1&1&0&1&1&1&1&0&1&1\\
1&0&1&1&0&1&0&1&0&1\\
0&1&1&1&1&1&1&0&1&1\\
1&1&1&1&1&1&1&1&1&1\\
\hline
\end{tabular}

故当 $\bar{v}(((A\rightarrow B)\land(C\rightarrow D)))=T$ 时必有 $\bar{v}(((A\land C)\rightarrow (B\land D)))=T$

***** I8（双向蕴含传递）

\begin{aligned}
\{((A\leftrightarrow B)\land(B\leftrightarrow C))\}\vDash(A\leftrightarrow C)\\
\end{aligned}

****** 证明

\begin{tabular}{|l|l|l|l|l|l|l|l|} 
\hline
A & B & C & A\leftrightarrow B & B\leftrightarrow C & (A\leftrightarrow B)\land(B\leftrightarrow C) & A\leftrightarrow C\\
\hline
0&0&0&1&1&1&1\\
1&0&0&0&1&0&0\\
0&1&0&0&0&0&1\\
0&0&1&1&0&0&0\\
1&1&0&1&0&0&0\\
1&0&1&0&0&0&1\\
0&1&1&0&1&0&0\\
1&1&1&1&1&1&1\\
\hline
\end{tabular}

故当 $\bar{v}(((A\leftrightarrow B)\land(B\leftrightarrow C)))=T$ 时必有 $\bar{v}((A\leftrightarrow C))=T$

*** 逻辑等价<<MK38>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\phi\in\mathcal{L}_0,\psi\in\mathcal{L}_0$ 若对于任意[[MK28][扩展函数]]，若有 $\bar{v}(\phi),\bar{v}(\psi)$ 有意义，则 $\bar{v}(\phi)=\bar{v}(\psi)$

则称[[MK15][命题表达式]] $\phi,\psi$ 逻辑等价，记作 $\phi\sim\psi$

**** 定理

***** 定理1<<MK39>>

[[MK13][命题语言]] $\mathcal{L}_0$ 的逻辑等价是[[~/文档/note/离散数学/lssx.org::MK132][等价关系]]

****** 证明

显然对于任意 $\varphi\in\mathcal{L}_0,\phi\in\mathcal{L}_0,\psi\in\mathcal{L}_0$ 以及任意 $\bar{v}(\varphi),\bar{v}(\phi),\bar{v}(\psi)$ 有意义的[[MK28][扩展函数]] $\bar{v}$ 有

（1） $\bar{v}(\phi)=\bar{v}(\phi)$ 即 $\phi\sim\phi$ [[~/文档/note/离散数学/lssx.org::MK124][自反性]]

（2） 若 $\bar{v}(\phi)=\bar{v}(\psi)$ 则 $\bar{v}(\psi)=\bar{v}(\phi)$ 即 $\phi\sim\psi\rightarrow\psi\sim\phi$ [[~/文档/note/离散数学/lssx.org::MK126][对称性]]

（3） 若 $\bar{v}(\varphi)=\bar{v}(\phi),\bar{v}(\phi)=\bar{v}(\psi)$ 则 $\varphi\sim\phi\land\phi\sim\psi\rightarrow\varphi\sim\psi$ 即[[~/文档/note/离散数学/lssx.org::MK128][传递性]]

***** 等价替换定理<<MK40>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\phi\in\mathcal{L}_0$ 存在 $\eta\in\mathcal{L}_0$ 是 $\phi$ 的[[MK24][子表达式]]，若存在 $\psi\sim\eta,\psi\in\mathcal{L}_0$

则定义 $\phi'$ 是 $\phi$ 将 $\eta$ 替换为 $\psi$ 后的符号串，则有 $\phi'\in\mathcal{L}_0$ 以及 $\phi\sim\phi'$

****** 证明

对于任意 $\phi$ 满足 $\eta$ 是 $\phi$ 的子表达式且 $\eta\sim\psi$ ，根据[[MK21][唯一可读性]]以及[[MK26][定理2]]易证依次展开 $\phi$ 可寻找子表达式 $\eta$

又由于 $|\phi|<\infty$ 故展开次数 $n<\infty$ 则根据以下证明以及数学归纳法可得结论

******* 一次展开<<MK41>>

对于任意 $\phi$ 满足 $\eta$ 是 $\phi$ 的子表达式，根据[[MK21][唯一可读性]]，若满足如下情况

（1） $\phi=\eta$ 显然对于任意[[MK28][扩展函数]]均有 $\bar{v}(\phi)=\bar{v}(\eta)=\bar{v}(\psi)$ 

（2） $\phi=(\lnot\eta)$ 则对于任意[[MK28][扩展函数]]均有 $\bar{v}(\phi)=H_\lnot(\bar{v}(eta))=H_\lnot(\bar{v}(\psi))$

（3） $\phi=(\eta\to\tau)$ 则对于任意[[MK28][扩展函数]]均有 $\bar{v}(\phi)=H_\to(\bar{v}(eta),\bar{v}(\tau))=H_\lnot(\bar{v}(\psi),\bar{v}(\tau))$

（4） $\phi=(\eta\to\phi),\phi=(\eta\to\eta)$ 与（3）同理 

综上所述，上述命题表达式 $\phi$ 替换的 $\phi'$ 后对于任意扩展函数均有 $\bar{v}(\phi)=\bar{v}(\phi')$ ，即 $\phi\sim\phi'$

******* 归纳假设

对于任意 $\phi$ 满足 $\eta$ 是 $\phi$ 的子表达式，且到达 $\eta$ 需要的展开次数小于 $n$ ，则定理成立

******* 任意情况

对于任意 $\phi\in\mathcal{L}_0$ 满足 $\eta$ 是 $\phi$ 的子表达式，到达 $\eta$ 需要的展开次数为 $n>1$

根据[[MK21][唯一可读性]]可得 $\phi=a_i$ 时显然成立，当 $\phi=(\lnot\tau)$ 或 $\phi=(\tau_1\to\tau_2)$ 时

由于展开次数 $n>1$ 可得 $\eta\ne\tau\land\eta\ne\tau_1\land\eta\ne\tau_2$ ，则根据[[MK26][定理2]]可得 $\eta$ 必为 $\tau_1,\tau_2,\tau$ 的[[MK24][子表达式]]

显然 $\tau_1,\tau_2,\tau$ 到 $\eta$ 的展开次数为 $n-1$ 定义替换 $\eta$ 后的表达式为 $\tau_1',\tau_2',\tau'$

根据归纳假设对于任意扩展函数 $\bar{v}(\tau)=\bar{v}(\tau'),\bar{v}(\tau_1)=\bar{v}(\tau_1'),\bar{v}(\tau_2)=\bar{v}(\tau_2')$

又[[MK41][同理可证]] $\phi'=(\lnot\tau')$ 或 $\phi'=(\tau'_1\to\tau'_2)$ 均有 $\bar{v}(\phi)=\bar{v}(\phi')$ ，即 $\phi\sim\phi'$

**** 逻辑等价式举例<<MK42>>

***** 双重否定<<MK43>>

$\lnot\lnot A{|\!\!\!=\!\!\!|}A$

***** 幂等律<<MK44>>

$A\lor A{|\!\!\!=\!\!\!|}A,A\land A{|\!\!\!=\!\!\!|}A$

***** 交换律<<MK45>>

\begin{aligned}
A\lor B&{|\!\!\!=\!\!\!|}B\lor A\\
A\land B&{|\!\!\!=\!\!\!|}B\land A
\end{aligned}

***** 结合律<<MK46>>

\begin{aligned}
(A\lor B)\lor C&{|\!\!\!=\!\!\!|}A\lor (B\lor C)\\
(A\land B)\land C&{|\!\!\!=\!\!\!|}A\land (B\land C)
\end{aligned}

****** 证明

或[[MK28][真值]]表

\begin{tabular}{|l|l|l|l|l|l|l|} 
\hline
A & B & C & A\lor B & (A\lor B)\lor C & B\lor C & A\lor (B\lor C)\\
\hline
0&0&0&0&0&0&0\\
1&0&0&1&1&0&1\\
0&1&0&1&1&1&1\\
0&0&1&0&1&1&1\\
1&1&0&1&1&1&1\\
1&0&1&1&1&1&1\\
0&1&1&1&1&1&1\\
1&1&1&1&1&1&1\\
\hline
\end{tabular}

与[[MK28][真值]]表

\begin{tabular}{|l|l|l|l|l|l|l|} 
\hline
A & B & C & A\land B & (A\land B)\land C & B\land C & A\land (B\land C)\\
\hline
0&0&0&0&0&0&0\\
1&0&0&0&0&0&0\\
0&1&0&0&0&0&0\\
0&0&1&0&0&0&0\\
1&1&0&1&0&0&0\\
1&0&1&0&0&0&0\\
0&1&1&0&0&1&0\\
1&1&1&1&1&1&1\\
\hline
\end{tabular}

***** 分配率<<MK47>>

\begin{aligned}
A\lor (B\land C)&{|\!\!\!=\!\!\!|}(A\lor B)\land (A\lor C)\\
A\land (B\lor C)&{|\!\!\!=\!\!\!|}(A\land B)\lor (A\land C)
\end{aligned}

****** 证明

\begin{tabular}{|l|l|l|l|l|l|l|l|} 
\hline
A & B & C & A\lor B & A\lor C & B\land C & A\lor (B\land C) & (A\lor B)\land (A\lor C)\\
\hline
0&0&0&0&0&0&0&0\\
1&0&0&1&1&0&1&1\\
0&1&0&1&0&0&0&0\\
0&0&1&0&1&0&0&0\\
1&1&0&1&1&0&1&1\\
1&0&1&1&1&0&1&1\\
0&1&1&1&1&1&1&1\\
1&1&1&1&1&1&1&1\\
\hline
\end{tabular}

\begin{tabular}{|l|l|l|l|l|l|l|l|} 
\hline
A & B & C & A\land B & A\land C & B\lor C & A\land (B\lor C) & (A\land B)\lor (A\land C)\\
\hline
0&0&0&0&0&0&0&0\\
1&0&0&0&0&0&0&0\\
0&1&0&0&0&1&0&0\\
0&0&1&0&0&1&0&0\\
1&1&0&1&0&1&1&1\\
1&0&1&0&1&1&1&1\\
0&1&1&0&0&1&0&0\\
1&1&1&1&1&1&1&1\\
\hline
\end{tabular}

***** 吸收律

\begin{aligned}
A\land (A\lor B)&{|\!\!\!=\!\!\!|}A\\
A\lor (A\land B)&{|\!\!\!=\!\!\!|}A\\
\end{aligned} 

****** 证明

        \begin{tabular}{|l|l|l|l|l|} 
\hline
A & B & A \land B & A\lor(A\land B)\\
\hline
0&0&0&0\\
1&0&0&1\\
0&1&0&0\\
1&1&1&1\\
\hline
\end{tabular}

\begin{tabular}{|l|l|l|l|l|} 
\hline
A & B & A \lor B & A\land(A\lor B)\\
\hline
0&0&0&0\\
1&0&1&1\\
0&1&1&0\\
1&1&1&1\\
\hline
\end{tabular}

***** 蕴含等式<<MK48>>

\begin{aligned}
A\rightarrow B&{|\!\!\!=\!\!\!|}\lnot A\lor B
\end{aligned}

****** 证明 

\begin{tabular}{|l|l|l|l|l|l|} 
\hline
A & B & \lnot A & \lnot A\lor B & A\rightarrow B\\
\hline
0&0&1&1&1\\
1&0&0&0&0\\
0&1&1&1&1\\
1&1&0&1&1\\
\hline
\end{tabular}

***** 等价等值式<<MK49>>

\begin{aligned}
A\leftrightarrow B&{|\!\!\!=\!\!\!|}(B\rightarrow A)\land (A\rightarrow B){|\!\!\!=\!\!\!|}(\lnot A\lor B)\land(\lnot B\lor A)
\end{aligned}

****** 证明

\begin{tabular}{|l|l|l|l|l|l|l|l|} 
\hline
A & B & \lnot A & \lnot B & \lnot A \lor B & \lnot B\lor A & (\lnot A\lor B)\land(\lnot B\lor A) & A\leftrightarrow B\\
\hline
0&0&1&1&1&1&1&1\\
1&0&0&1&0&1&0&0\\
0&1&1&0&1&0&0&0\\
1&1&0&0&1&1&1&1\\
\hline
\end{tabular}

***** 零率<<MK50>>

\begin{aligned}
A\lor 1&{|\!\!\!=\!\!\!|}1\\
A\land 0&{|\!\!\!=\!\!\!|}0
\end{aligned}

***** 同一律

\begin{aligned}
A\land 1&{|\!\!\!=\!\!\!|}A\\
A\lor 0&{|\!\!\!=\!\!\!|}A
\end{aligned}

***** 排中律<<MK51>>

\begin{aligned}
A\lor \lnot A&{|\!\!\!=\!\!\!|}1\\
\end{aligned}

***** 矛盾律<<MK52>>

\begin{aligned}
A\land \lnot A&{|\!\!\!=\!\!\!|}0\\
\end{aligned}

***** 蕴含关系

\begin{aligned}
(A\land B) \rightarrow C&{|\!\!\!=\!\!\!|}A\rightarrow (B \rightarrow C)\\
\end{aligned}

****** 证明

\begin{tabular}{|l|l|l|l|l|l|l|} 
\hline
A & B & C & A\land B & B\rightarrow C & (A\land B) \rightarrow C & A\rightarrow (B \rightarrow C)\\
\hline
0&0&0&0&1&1&1\\
1&0&0&0&1&1&1\\
0&1&0&0&0&1&1\\
0&0&1&0&1&1&1\\
1&1&0&1&0&0&0\\
1&0&1&0&1&1&1\\
0&1&1&0&1&1&1\\
1&1&1&1&1&1&1\\
\hline
\end{tabular}

***** 假言易位（逆否命题）<<MK53>>

\begin{aligned}
A\rightarrow B&{|\!\!\!=\!\!\!|}\lnot B\rightarrow \lnot A\\
\end{aligned}

****** 证明

\begin{tabular}{|l|l|l|l|l|l|l|} 
\hline
A & B & \lnot A & \lnot B & A\rightarrow B & \lnot B\rightarrow \lnot A\\
\hline
0&0&1&1&1&1\\
1&0&0&1&1&1\\
0&1&1&0&0&0\\
1&1&0&0&1&1\\
\hline
\end{tabular}

***** 归谬论

\begin{aligned}
(A\rightarrow B)\land(A\rightarrow\lnot B)&{|\!\!\!=\!\!\!|}\lnot A\\
\end{aligned}

****** 证明

\begin{tabular}{|l|l|l|l|l|l|l|} 
\hline
A & B & A\rightarrow B & \lnot B & A\rightarrow \lnot B & (A\rightarrow B)\land(A\rightarrow\lnot B) & \lnot A\\
\hline
0&0&1&1&1&1&1\\
1&0&0&1&1&0&0\\
0&1&1&0&1&1&1\\
1&1&1&0&0&0&0\\
\hline
\end{tabular}

***** 等价等值式2<<MK54>>

\begin{aligned}
A\leftrightarrow B&{|\!\!\!=\!\!\!|}(A\land B)\lor(\lnot A\land\lnot B)\
\end{aligned}

****** 证明

\begin{tabular}{|l|l|l|l|l|l|l|l|} 
\hline
A & B & A\land B & \lnot A & \lnot B & \lnot A \land \lnot B & (A\land B)\lor(\lnot A\land\lnot B) & A\leftrightarrow B\\
\hline
0&0&0&1&1&1&1&1\\
1&0&0&0&1&0&0&0\\
0&1&0&1&0&0&0&0\\
1&1&1&0&0&0&1&1\\
\hline
\end{tabular}

***** 等价否定式

\begin{aligned}
A\leftrightarrow B&{|\!\!\!=\!\!\!|}\lnot B\leftrightarrow \lnot A\\
\end{aligned}

** 布尔函数（真值函数）<<MK55>>

所有[[~/文档/note/离散数学/lssx.org::MK175][函数]] $v:\{T,F\}^n\to\{T,F\}$ 均被成为真值函数（布尔函数），其中 $\{T,F\}$ 是[[~/文档/note/离散数学/lssx.org::MK107][笛卡尔幂]]

*** 定理1（诱导）<<MK56>>

[[MK13][命题语言]] $\mathcal{L}_0$ 对于任意 $s\in\mathcal{L}_0$ 设其[[MK9][原子命题]]均在[[~/文档/note/离散数学/lssx.org::MK105][有序组]] $<a_1,...,a_{n}>$ 中，

则 $s$ 可诱导[[MK55][布尔函数]] $f_s:\{T,F\}^n\to\{T,F\}$ 满足对于任意 $\sigma\in\{T,F\}^n$ 有 $f_s\left(v_\sigma(a_1),...,v_\sigma(a_{n-1})\right)=\bar{v}_\sigma(s)$

其中 $\bar{v}_\sigma$ 是[[MK27][真假赋值]] $v_\sigma(a_i)=\begin{cases}\sigma[i]&i\leq n\\T&i> n\end{cases}$ 的[[MK28][扩展函数]]， $\sigma[i]$ 是[[~/文档/note/离散数学/lssx.org::MK105][有序组]]位选
**** 证明

对于任意 $\sigma\in\{T,F\}^n$ 定义[[MK27][真假赋值]] $v_\sigma(a_i)=\begin{cases}\sigma[i]&i\leq n\\T&i> n\end{cases}$ 及其[[MK28][扩展函数]] $\bar{v}_\sigma$

故可定义 $f_s\left(v_\sigma(a_1),...,v_\sigma(a_{n-1})\right)=\bar{v}_\sigma(s)$

*** 定理2（可表示性）

[[MK55][布尔函数]] $f:\{T,F\}^n\to\{T,F\}$ 若[[MK13][命题语言]] $\mathcal{L}_0$ 有[[MK9][原子命题]] $|A|\geq n$

则存在一个[[MK15][命题表达式]] $s\in\mathcal{L}_0$ 及其[[MK56][诱导]]的布尔函数 $f_s$ ，满足对于任意 $\sigma\in\{T,F\}^n$ 均有 $f(\sigma)=f_s(\sigma)$

**** 证明

由于 $\{T,F\}$ 有穷集，故可得 $\{T,F\}^n$ 亦为有穷集，故设 $\left\{\sigma\big|\sigma\in\{T,F\}^n\land f(\sigma)=T\right\}=\{\sigma_1,...,\sigma_m\}$

则对于 $\sigma_i$ 定义表达式 $\theta_{i,j}=\begin{cases}a_j&\sigma_i[j]=T\\(\lnot)a_j&\sigma_i[j]=F\end{cases}$ 进而定义[[MK6][连续合取]]表达式 $\phi_{\sigma_i}=(\theta_{i,1}\land...\land\theta_{i,n})$

进一步定义[[MK6][连续析取]]表达式 $\psi=(\phi_{\sigma_1}\lor...\lor\phi_{\sigma_m})$ 进而定义改表达式[[MK56][诱导]]的函数 $f_\psi$

则对于任意 $\sigma_i$ 满足 $f(\sigma_i)=T$ 定义[[MK27][真假赋值]] $v_{\sigma_i}(a_j)=\begin{cases}\sigma[j]&j\leq n\\T&j> n\end{cases}$ 及其[[MK28][扩展函数]] $\bar{v}_{\sigma_i}$ 

根据 $\theta_{i,j},\phi_{\sigma_i},\bar{v}_{\sigma_i}$ 定义易证 $\bar{v}_{\sigma_i}(\phi_i)=T$ 进一步根据[[MK6][析取定义]]可得 $f_{\psi}(\sigma_i)=\bar{v}_{\sigma_i}(\psi)=T$

对于任意 $\sigma_i$ 满足 $f(\sigma_i)=F$ 根据 $\theta_{i,j},\phi_{\sigma_i},\bar{v}_{\sigma_i}$ 定义易证 $\bar{v}_{\sigma_i}(\phi_j)=F$

又根据析取定义可得 $f_{\psi}(\sigma_i)=\bar{v}_{\sigma_i}(\psi)=F$

综上所述，对于任意 $\sigma\in\{T,F\}^n$ 有 $f(\sigma)=f_\psi(\sigma)$

** 证明与定理<<MK57>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有子集 $\Gamma\subset\mathcal{L}_0$ 以及[[MK15][命题表达式]]的有限[[~/文档/note/离散数学/lssx.org::MK105][有序组]] $s=<\phi_1,...,\phi_n>$ 若对于任意 $\phi_i$ 必有以下之一成立：

（1） $\phi_i\in\Gamma$ ；或者

（2） $\phi_i$ 是[[MK58][逻辑公理]]；或者

（3） 存在 $1\leq j_1\leq j_2\leq i$ 满足 $\phi_{j_2}=(\phi_{j_1}\to\phi_i)$

则称序列 $s$ 是集合 $\Gamma$ 的 *证明*

进一步对于 $\phi\in\mathcal{L}_0$ 存在 $s$ 满足 $s[|s|]=\phi$ 则称 $\phi$ 是 $\Gamma$ 的 *定理* ，记作 $\Gamma\vdash\phi$ 

*** 逻辑公理<<MK58>>

[[MK15][命题表达式]]集合 $\phi_1\in\mathcal{L}_0\land\phi_2\in\mathcal{L}_0\land\phi_3\in\mathcal{L}_0$ 其中 $\mathcal{L}_0$ 是[[MK13][命题语言]]

定义以下[[MK33][重言式]]为逻辑公理，注： $\phi_1,\phi_2,\phi_3$ 可以相等

（1） 蕴含分配 $((\phi_1\to(\phi_2\to\phi_3))\to((\phi_1\to\phi_2)\to(\phi_1\to\phi_3)))$

（2） 自蕴含 $(\phi_1\to\phi_1)$

（3） 第一宽容 $(\phi_1\to(\phi_2\to\phi_1))$

（4） 第二宽容 $(\phi_1\to((\lnot\phi_1)\to\phi_2))$

（5） 第一归谬 $(((\lnot\phi_1)\to\phi_1)\to\phi_1)$

（6） 第三宽容 $((\lnot\phi_1)\to(\phi_1\to\phi_2))$

（7） 合取 $(\phi_1\to((\lnot\phi_2)\to(\lnot(\phi_1\to\phi_2))))$

**** 推论1<<MK59>>

[[MK13][命题语言]] $\mathcal{L}_0$ 对于任意 $\Gamma\subset\mathcal{L}_0$ 若 $\phi$ 是逻辑公理，则有 $\Gamma\vdash\phi$

***** 证明

根据[[MK57][证明]]定义可得 $<\phi>$ 是 $\Gamma$ 的证明，即 $\Gamma\vdash\phi$

**** 推论2<<MK60>>

[[MK13][命题语言]] $\mathcal{L}_0$ 对于任意 $\Gamma\subset\mathcal{L}_0$ 以及任意 $\phi\in\mathcal{L}_0\land\phi_1\in\mathcal{L}_0\land\phi_2\in\mathcal{L}_0\land\phi_3\in\mathcal{L}_0$ 均有

（1） $\Gamma\vdash((\phi_1\to\phi_2)\to((\phi_3\to\phi_1)\to(\phi_3\to\phi_2)))$

（2） $\Gamma\vdash((\phi_1\to(\phi_2\to\phi_3))\to(\phi_2\to(\phi_1\to\phi_3)))$

（3） $\Gamma\vdash((\phi_3\to\phi_1)\to((\phi_1\to\phi_2)\to(\phi_3\to\phi_2)))$

（4） $\Gamma\vdash((\lnot(\lnot\phi))\to\phi)$

（5） $\Gamma\vdash((\phi\to(\lnot\phi))\to(\lnot\phi))$ 

（6） $\Gamma\vdash(\phi\to(\lnot(\lnot\phi)))$

***** 证明

根据[[MK59][推论1]]有以下证明步骤

1. 根据[[MK58][第一宽容]] $\Gamma\vdash((\phi_1\to\phi_2)\to(\phi_3\to(\phi_1\to\phi_2)))$

2. 根据第1步 $\Gamma\cup\{(\phi_1\to\phi_2)\}\vdash(\phi_3\to(\phi_1\to\phi_2)))$

3. 根据蕴含分配 $\Gamma\vdash((\phi_3\to(\phi_1\to\phi_2))\to((\phi_3\to\phi_1)\to(\phi_3\to\phi_2)))$

4. 根据第2步以及导出引理显然有 $\Gamma\cup\{(\phi_1\to\phi_2)\}\vdash((\phi_3\to\phi_1)\to(\phi_3\to\phi_2))$

5. 根据[[MK64][演绎引理]] $\Gamma\vdash((\phi_1\to\phi_2)\to((\phi_3\to\phi_1)\to(\phi_3\to\phi_2)))$ 即（1）证得

6. 根据蕴含分配 $\Gamma\vdash((\phi_1\to(\phi_2\to\phi_3))\to((\phi_1\to\phi_2)\to(\phi_1\to\phi_3)))$

7. 根据上一步 $\Gamma\cup\{(\phi_1\to(\phi_2\to\phi_3))\}\vdash((\phi_1\to\phi_2)\to(\phi_1\to\phi_3))$

8. 根据第一宽容 $\Gamma\vdash(((\phi_1\to\phi_2)\to(\phi_1\to\phi_3))\to(\phi_2\to((\phi_1\to\phi_2)\to(\phi_1\to\phi_3))))$

9. 根据第7，8步以及导出引理 $\Gamma\cup\{(\phi_1\to(\phi_2\to\phi_3))\}\vdash(\phi_2\to((\phi_1\to\phi_2)\to(\phi_1\to\phi_3)))$

10. 根据蕴含分配 $\Gamma\vdash((\phi_2\to((\phi_1\to\phi_2)\to(\phi_1\to\phi_3)))\to((\phi_2\to(\phi_1\to\phi_2))\to(\phi_2\to(\phi_1\to\phi_3))))$

11. 根据第10，11步以及演绎引理 $\Gamma\cup\{(\phi_1\to(\phi_2\to\phi_3))\}\vdash((\phi_2\to(\phi_1\to\phi_2))\to(\phi_2\to(\phi_1\to\phi_3)))$

12. 根据第一宽容 $\Gamma\vdash(\phi_2\to(\phi_1\to\phi_2))$

13. 根据第11，12步以及演绎引理 $\Gamma\cup\{(\phi_1\to(\phi_2\to\phi_3))\}\vdash(\phi_2\to(\phi_1\to\phi_3))$

14. 根据上一步以及导出引理 $\Gamma\vdash((\phi_1\to(\phi_2\to\phi_3))\to(\phi_2\to(\phi_1\to\phi_3)))$ 即（2）证得

15. 根据（2）有 $\Gamma\vdash(((\phi_1\to\phi_2)\to((\phi_3\to\phi_1)\to(\phi_3\to\phi_2)))\to((\phi_3\to\phi_1)\to((\phi_1\to\phi_2)\to(\phi_3\to\phi_2))))$

16. 根据（1），上一步以及导出引理 $\Gamma\vdash((\phi_3\to\phi_1)\to((\phi_1\to\phi_2)\to(\phi_3\to\phi_2)))$ 即（3）证得

17. 根据[[MK58][第三宽容]] $\Gamma\vdash((\lnot(\lnot\phi))\to((\lnot\phi)\to\phi))$

18. 根据第一归谬 $\Gamma\vdash(((\lnot\phi)\to\phi)\to\phi)$

19. 根据第一宽容 $\Gamma\vdash((((\lnot\phi)\to\phi)\to\phi)\to((\lnot(\lnot\phi))\to(((\lnot\phi)\to\phi)\to\phi)))$

20. 根据[[MK63][导出引理]] $\Gamma\vdash((\lnot(\lnot\phi))\to(((\lnot\phi)\to\phi)\to\phi))$

21. 根据蕴含分批 $\Gamma\vdash(((\lnot(\lnot\phi))\to((\lnot\phi)\to\phi))\to((\lnot(\lnot\phi))\to\phi))$

22. 根据第17，21步以及导出引理 $\Gamma\vdash((\lnot(\lnot\phi))\to\phi)$ 即（4）证得

23. 根据（3）有 $\Gamma\vdash(((\lnot(\lnot\phi))\to\phi)\to((\phi\to(\lnot\phi))\to((\lnot(\lnot\phi))\to(\lnot\phi))))$

24. 根据（4）以及导出引理 $\Gamma\vdash((\phi\to(\lnot\phi))\to((\lnot(\lnot\phi))\to(\lnot\phi)))$

25. 根据（3） $\Gamma\vdash(((\phi\to(\lnot\phi))\to((\lnot(\lnot\phi))\to(\lnot\phi)))\to((((\lnot(\lnot\phi))\to(\lnot\phi))\to(\lnot\phi))\to((\phi\to(\lnot\phi))\to(\lnot\phi))))$

26. 根据上一步以及导出引理 $\Gamma\vdash((((\lnot(\lnot\phi))\to(\lnot\phi))\to(\lnot\phi))\to((\phi\to(\lnot\phi))\to(\lnot\phi)))$

27. 根据第一归谬 $\Gamma\vdash(((\lnot(\lnot\phi))\to(\lnot\phi))\to(\lnot\phi))$

28. 根据第27，28步以及导出引理 $\Gamma\vdash((\phi\to(\lnot\phi))\to(\lnot\phi))$ 即（5）证得

29. 根据第二宽容 $\Gamma\vdash(\phi\to((\lnot\phi)\to(\lnot(\lnot\phi))))$

30. 根据（5） $\Gamma\vdash(((\lnot\phi)\to(\lnot(\lnot\phi)))\to(\lnot(\lnot\phi)))$

31. 根据第一宽容 $\Gamma\vdash((((\lnot\phi)\to(\lnot(\lnot\phi)))\to(\lnot(\lnot\phi)))\to(\phi\to(((\lnot\phi)\to(\lnot(\lnot\phi)))\to(\lnot(\lnot\phi)))))$

32. 根据第30，31步以及导出引理 $\Gamma\vdash(\phi\to(((\lnot\phi)\to(\lnot(\lnot\phi)))\to(\lnot(\lnot\phi))))$

33. 根据蕴含分配 $\Gamma\vdash((\phi\to(((\lnot\phi)\to(\lnot(\lnot\phi)))\to(\lnot(\lnot\phi))))\to((\phi\to((\lnot\phi)\to(\lnot(\lnot\phi))))\to(\phi\to(\lnot(\lnot\phi)))))$

34. 根据第32，33步以及导出引理 $\Gamma\vdash((\phi\to((\lnot\phi)\to(\lnot(\lnot\phi))))\to(\phi\to(\lnot(\lnot\phi))))$

35. 根据第29，34步以及导出引理 $\Gamma\vdash(\phi\to(\lnot(\lnot\phi)))$

**** 推论3<<MK61>>

[[MK13][命题语言]] $\mathcal{L}_0$ 对于任意 $\Gamma\subset\mathcal{L}_0$ 以及任意 $\phi_1\in\mathcal{L}_0\land\phi_2\in\mathcal{L}_0$ 均有

（1） $\Gamma\vdash(((\lnot\phi_2)\to(\lnot\phi_1))\to(\phi_1\to\phi_2))$

（2） $\Gamma\vdash((\phi_1\to\phi_2)\to((\lnot\phi_2)\to(\lnot\phi_1)))$

***** 证明

****** 证明（1）

1. 根据[[MK60][推论2（3）]] $\Gamma\vdash((\phi_2\to((\lnot\phi_2)\to\phi_1))\\\to((((\lnot\phi_2)\to\phi_1)\to((\lnot\phi_1)\to\phi_1))\to(\phi_2\to((\lnot\phi_1)\to\phi_1))))$

2. 根据[[MK58][第二宽容]] $\Gamma\vdash(\phi_2\to((\lnot\phi_2)\to\phi_1))$

3. 由步骤1，2得 $\Gamma\vdash((((\lnot\phi_2)\to\phi_1)\to((\lnot\phi_1)\to\phi_1))\to(\phi_2\to((\lnot\phi_1)\to\phi_1)))$

4. 根据[[MK60][推论2（3）]] $\Gamma\vdash(((\lnot\phi_1)\to(\lnot\phi_2))\to(((\lnot\phi_2)\to\phi_1)\to((\lnot\phi_1)\to\phi_1)))$

5. 根据[[MK60][推论2（3）]] $\Gamma\vdash((((\lnot\phi_1)\to(\lnot\phi_2))\to(((\lnot\phi_2)\to\phi_1)\to((\lnot\phi_1)\to\phi_1)))\\\to(((((\lnot\phi_2)\to\phi_1)\to((\lnot\phi_1)\to\phi_1))\to(\phi_2\to((\lnot\phi_1)\to\phi_1)))\\\to(((\lnot\phi_1)\to(\lnot\phi_2))\to(\phi_2\to((\lnot\phi_1)\to\phi_1)))))$

6. 由步骤4，5可得 $\Gamma\vdash(((((\lnot\phi_2)\to\phi_1)\to((\lnot\phi_1)\to\phi_1))\to(\phi_2\to((\lnot\phi_1)\to\phi_1)))\\\to(((\lnot\phi_1)\to(\lnot\phi_2))\to(\phi_2\to((\lnot\phi_1)\to\phi_1))))$

7. 由步骤3，6可得 $\Gamma\vdash(((\lnot\phi_1)\to(\lnot\phi_2))\to(\phi_2\to((\lnot\phi_1)\to\phi_1)))$

8. 根据[[MK60][推论2（3）]] $\Gamma\vdash((((\lnot\phi_1)\to(\lnot\phi_2))\to(\phi_2\to((\lnot\phi_1)\to\phi_1)))\\\to(((\phi_2\to((\lnot\phi_1)\to\phi_1))\to((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1)))\\\to(((\lnot\phi_1)\to(\lnot\phi_2))\to((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1)))))$

9. 有步骤7，8可得 $\Gamma\vdash(((\phi_2\to((\lnot\phi_1)\to\phi_1))\to((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1)))\\\to(((\lnot\phi_1)\to(\lnot\phi_2))\to((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1))))$

10. 根据[[MK60][推论2（3）]] $\Gamma\vdash((\phi_2\to((\lnot\phi_1)\to\phi_1))\to((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1)))$

11. 由步骤9，10可得 $\Gamma\vdash(((\lnot\phi_1)\to(\lnot\phi_2))\to((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1)))$

12. 根据[[MK60][推论2（3）]] $\Gamma\vdash((\phi_1\to((\lnot\phi_1)\to(\lnot\phi_2)))\\\to((((\lnot\phi_1)\to(\lnot\phi_2))\to((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1)))\\\to(\phi_1\to((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1)))))$

13. 根据[[MK58][第二宽容]]可得 $\Gamma\vdash(\phi_1\to((\lnot\phi_1)\to(\lnot\phi_2)))$

14. 由步骤12，13可得 $\Gamma\vdash((((\lnot\phi_1)\to(\lnot\phi_2))\to((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1)))\\\to(\phi_1\to((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1))))$

15. 由步骤11，14可得 $\Gamma\vdash(\phi_1\to((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1)))$

16. 由步骤15可得 $\Gamma\vdash(\phi'_1\to((((\lnot\phi'_1)\to\phi'_1)\to\phi'_1)\to(\phi_2\to\phi'_1)))$ 其中 $\phi'_1=(((\lnot\phi_1)\to\phi_1)\to\phi_1)$

17. 根据[[MK58][第一宽容]] $\Gamma\vdash(((\lnot\phi_1)\to\phi_1)\to\phi_1)$ 即 $\Gamma\vdash\phi'_1$

18. 由步骤16，17可得 $\Gamma\vdash((((\lnot\phi'_1)\to\phi'_1)\to\phi'_1)\to(\phi_2\to\phi'_1))$

19. 根据[[MK58][第一宽容]] $\Gamma\vdash(((\lnot\phi'_1)\to\phi'_1)\to\phi'_1)$

20. 由步骤18，19可得 $\Gamma\vdash(\phi_2\to\phi'_1)$ 根据步骤16中 $\phi'_1$ 定义有 $\Gamma\vdash(\phi_2\to(((\lnot\phi_1)\to\phi_1)\to\phi_1))$

21. 由步骤19可得 $\Gamma\vdash(\phi'_2\to(((\lnot\phi_1)\to\phi_1)\to\phi_1))$ 其中 $\phi'_2=(\lnot(\phi_2\to\phi_1))$

22. 根据[[MK60][推论2（3）]] $\Gamma\vdash((\phi'_2\to(((\lnot\phi_1)\to\phi_1)\to\phi_1))\\\to(((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1))\to(\phi'_2\to(\phi_2\to\phi_1))))$

23. 由步骤22，21可得 $\Gamma\vdash(((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1))\to(\phi'_2\to(\phi_2\to\phi_1)))$

24. 根据[[MK60][推论2（3）]] $\Gamma\vdash((((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1))\to(\phi'_2\to(\phi_2\to\phi_1)))\\\to(((\phi'_2\to(\phi_2\to\phi_1))\to(\phi_2\to\phi_1))\\\to(((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1))\to(\phi_2\to\phi_1))))$

25. 由步骤24，23可得 $\Gamma\vdash(((\phi'_2\to(\phi_2\to\phi_1))\to(\phi_2\to\phi_1))\\\to(((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1))\to(\phi_2\to\phi_1)))$

26. 根据[[MK58][第一归谬]] $\Gamma\vdash(((\lnot(\phi_2\to\phi_1))\to(\phi_2\to\phi_1))\to(\phi_2\to\phi_1))$

27. 根据步骤25，26以及21中 $\phi'_2=(\lnot(\phi_2\to\phi_1))$

    可得 $\Gamma\vdash(((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1))\to(\phi_2\to\phi_1))$

28. 根据[[MK60][推论2（3）]] $\Gamma\vdash((((\lnot\phi_1)\to(\lnot\phi_2))\to((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1)))\\\to((((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1))\to(\phi_2\to\phi_1))\\\to(((\lnot\phi_1)\to(\lnot\phi_2))\to(\phi_2\to\phi_1))))$

29. 由步骤11，28可得 $\Gamma\vdash((((((\lnot\phi_1)\to\phi_1)\to\phi_1)\to(\phi_2\to\phi_1))\to(\phi_2\to\phi_1))\\\to(((\lnot\phi_1)\to(\lnot\phi_2))\to(\phi_2\to\phi_1)))$

30. 由步骤29，27可得 $\Gamma\vdash(((\lnot\phi_1)\to(\lnot\phi_2))\to(\phi_2\to\phi_1))$

****** 证明（2）

1. 根据[[MK60][推论2（6）]] $\Gamma\vdash(\phi_2\to(\lnot(\lnot\phi_2)))$

2. 根据[[MK58][第一宽容]] $\Gamma\vdash((\phi_2\to(\lnot(\lnot\phi_2)))\to((\lnot(\lnot\phi_1))\to(\phi_2\to(\lnot(\lnot\phi_2)))))$

3. 根据步骤1，2有 $\Gamma\vdash((\lnot(\lnot\phi_1))\to(\phi_2\to(\lnot(\lnot\phi_2))))$

4. 根据[[MK58][蕴含分配]] $\Gamma\vdash(((\lnot(\lnot\phi_1))\to(\phi_2\to(\lnot(\lnot\phi_2))))\to(((\lnot(\lnot\phi_1))\to\phi_2)\to((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2)))))$

5. 根据步骤3，4有 $\Gamma\vdash(((\lnot(\lnot\phi_1))\to\phi_2)\to((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2))))$

6. 根据[[MK60][推论2（4）]] $\Gamma\vdash((\lnot(\lnot\phi_1))\to\phi_1)$

7. 根据[[MK60][推论2（3）]] $\Gamma\vdash(((\lnot(\lnot\phi_1))\to\phi_1)\to((\phi_1\to\phi_2)\to((\lnot(\lnot\phi_1))\to\phi_2)))$

8. 根据步骤6，7有 $\Gamma\vdash((\phi_1\to\phi_2)\to((\lnot(\lnot\phi_1))\to\phi_2))$

9. 根据[[MK58][第一宽容]] $\Gamma\vdash((((\lnot(\lnot\phi_1))\to\phi_2)\to((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2))))\\\to((\phi_1\to\phi_2)\to(((\lnot(\lnot\phi_1))\to\phi_2)\to((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2))))))$

10. 由步骤5，9可得 $\Gamma\vdash((\phi_1\to\phi_2)\to(((\lnot(\lnot\phi_1))\to\phi_2)\to((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2)))))$

11. 根据[[MK58][蕴含分配]]可得 $\Gamma\vdash(((\phi_1\to\phi_2)\to(((\lnot(\lnot\phi_1))\to\phi_2)\to((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2)))))\\\to(((\phi_1\to\phi_2)\to((\lnot(\lnot\phi_1))\to\phi_2))\to((\phi_1\to\phi_2)\to((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2))))))$

12. 由步骤10，11可得 $\Gamma\vdash(((\phi_1\to\phi_2)\to((\lnot(\lnot\phi_1))\to\phi_2))\to((\phi_1\to\phi_2)\to((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2)))))$

13. 由步骤8，12可得 $\Gamma\vdash((\phi_1\to\phi_2)\to((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2))))$

14. 根据结论（1） $\Gamma\vdash(((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2)))\to((\lnot\phi_2)\to(\lnot\phi_1)))$

15. 根据[[MK60][推论2（3）]] $\Gamma\vdash(((\phi_1\to\phi_2)\to((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2))))\\\to((((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2)))\to((\lnot\phi_2)\to(\lnot\phi_1)))\\\to((\phi_1\to\phi_2)\to((\lnot\phi_2)\to(\lnot\phi_1)))))$

16. 由步骤15，13可得 $\Gamma\vdash((((\lnot(\lnot\phi_1))\to(\lnot(\lnot\phi_2)))\to((\lnot\phi_2)\to(\lnot\phi_1)))\\\to((\phi_1\to\phi_2)\to((\lnot\phi_2)\to(\lnot\phi_1))))$

17. 由步骤16，14可得 $\Gamma\vdash((\phi_1\to\phi_2)\to((\lnot\phi_2)\to(\lnot\phi_1)))$

**** 推论4<<MK62>>

[[MK13][命题语言]] $\mathcal{L}_0$ 对于任意 $\Gamma\subset\mathcal{L}_0$ 以及任意 $\phi_1\in\mathcal{L}_0\land\phi_2\in\mathcal{L}_0$ 均有

（1） $\Gamma\vdash((\lnot(\phi_1\to\phi_2))\to(\lnot\phi_2))$

（2） $\Gamma\vdash((\lnot(\phi_1\to\phi_2))\to\phi_1)$

***** 证明

1. 根据[[MK58][第一宽容]]可得 $\Gamma\vdash(\phi_2\to(\phi_1\to\phi_2))$

2. 根据[[MK61][推论3（2）]]可得 $\Gamma\vdash((\phi_2\to(\phi_1\to\phi_2))\to((\lnot(\phi_1\to\phi_2))\to(\lnot\phi_2)))$

3. 由步骤1，2可得 $\Gamma\vdash((\lnot(\phi_1\to\phi_2))\to(\lnot\phi_2))$ 即结论（1）证得

4. 根据[[MK58][第三宽容]]可得 $\Gamma\vdash((\lnot\phi_1)\to(\phi_1\to\phi_2))$

5. 根据[[MK61][推论3（2）]]可得 $\Gamma\vdash(((\lnot\phi_1)\to(\phi_1\to\phi_2))\to((\lnot(\phi_1\to\phi_2))\to(\lnot(\lnot\phi_1))))$

6. 由步骤4，5可得 $\Gamma\vdash((\lnot(\phi_1\to\phi_2))\to(\lnot(\lnot\phi_1)))$

7. 根据[[MK60][推论2（3）]] $\Gamma\vdash(((\lnot(\phi_1\to\phi_2))\to(\lnot(\lnot\phi_1)))\to(((\lnot(\lnot\phi_1))\to\phi_1)\to((\lnot(\phi_1\to\phi_2))\to\phi_1)))$

8. 由步骤6，7可得 $\Gamma\vdash(((\lnot(\lnot\phi_1))\to\phi_1)\to((\lnot(\phi_1\to\phi_2))\to\phi_1))$

9. 根据[[MK60][推论2（4）]] $\Gamma\vdash((\lnot(\lnot\phi_1))\to\phi_1)$

10. 由步骤9，8可得 $\Gamma\vdash((\lnot(\phi_1\to\phi_2))\to\phi_1)$ 即结论（2）证得

*** 导出引理<<MK63>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0,\phi\in\mathcal{L}_0,\psi\in\mathcal{L}_0$ 若 $\psi,(\psi\to\phi)$ 均为 $\Gamma$ 的[[MK58][定理]]，即 $\Gamma\vdash\psi,\Gamma\vdash(\psi\to\phi)$

则 $\phi$ 亦为 $\Gamma$ 的定理，即 $\Gamma\vdash\phi$

**** 证明

根据[[MK57][定理]]定义，存在 $s_1=<\theta_1,...,\theta_n,\psi>,s_2=<\eta_1,...,\eta_m,(\psi\to\phi)>$ 是 $\Gamma$ 的[[MK57][证明]]

易证 $s=<\theta_1,...,\theta_n,\psi,\eta_1,...,\eta_m,(\psi\to\phi)>$ 亦为 $\Gamma$ 的证明

进一步有 $s=<\theta_1,...,\theta_n,\psi,\eta_1,...,\eta_m,(\psi\to\phi),\phi>$ 亦为 $\Gamma$ 的证明，故 $\Gamma\vdash\phi$ 

*** 演绎引理<<MK64>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0,\phi\in\mathcal{L}_0,\psi\in\mathcal{L}_0$ 若有[[MK57][证明]] $\Gamma\cup\{\psi\}\vdash\phi$ 则有证明 $\Gamma\vdash(\psi\to\phi)$

**** 证明

根据定义有 $\Gamma\cup\{\psi\}$ 的证明 $s=<\psi_1,...,\psi_n>$ 其中 $\psi_n=\phi$

对于 $\psi_1$ 若 $\psi_1\in\{\psi\}$ 则有 $\psi_1=\psi$ ，故 $(\psi\to\psi_1)=(\psi\to\psi)$ 是[[MK58][自蕴含公理]]

即 $s=<(\psi\to\psi_1)>$ 是 $\Gamma$ 的证明。若 $\psi_1\in\Gamma$ 或 $\psi_1$ 是逻辑公理，

则有 $\Gamma$ 的证明 $<\psi_1,(\psi_1\to(\psi\to\psi_1)),(\psi\to\psi_1)>$ 其中第二条是[[MK58][第一宽容公理]]。即有 $\Gamma\vdash(\psi\to\psi_1)$

当 $1\leq i\leq n$ 时，假设对于任意 $1\leq j\leq i$ 均有 $\Gamma\vdash\phi_j$ 则

若 $\psi_i\in\Gamma\cup\{\psi\}$ 或 $\psi_i$ 是逻辑公理时，与 $\psi_1$ 同理可证 $\Gamma\vdash(\psi\to\psi_i)$

若存在 $1\leq j_1\leq j_2<i$ 满足 $\psi_{j_2}=(\psi_{j_1}\to\psi_i)$ 则根据假设有 $\Gamma\vdash(\psi\to\psi_{j_2})=(\psi\to(\psi_{j_1}\to\psi_i))$

则根据[[MK58][蕴含分配公理]] $\Gamma\vdash((\psi\to(\psi_{j_1}\to\psi_i))\to((\psi\to\psi_{j_1})\to(\psi\to\psi_i)))$

根据[[MK63][导出引理]]可得 $\Gamma\vdash((\psi\to\psi_{j_1})\to(\psi\to\psi_i))$ 又根据假设有 $\Gamma\vdash(\psi\to\psi_{j_1})$

同理根据导出引理 $\Gamma\vdash(\psi\to\psi_i)$

综上所述，根据数学归纳法，对于任意 $\psi_i$ 均有 $\Gamma\vdash(\psi\to\psi_i)$ 由于 $\psi_n=\phi$ 即有 $\Gamma\vdash(\psi\to\phi)$

*** 引理<<MK65>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 若有 $\Gamma'\subset\Gamma$ 满足 $\Gamma'\vdash\phi$ 则有 $\Gamma\vdash\phi$ ，其中 $\phi\in\mathcal{L}_0$

**** 证明

若 $\Gamma'\vdash\phi$ 则有 $\Gamma'$ 的[[MK57][证明]] $<\phi_1,...,\phi_n>$ 满足 $\phi_n=\phi$

根据数学归纳法易证 $<\phi_1,...,\phi_n>$ 亦为 $\Gamma$ 的证明，即有 $\Gamma\vdash\phi$ 

** 命题逻辑性质

*** 一致性<<MK66>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 则：

（1） $\Gamma$ 是不一致的充要条件是，存在 $\phi\in\mathcal{L}_0$ 满足 $\Gamma\vdash\phi$ 以及 $\Gamma\vdash(\lnot\phi)$

（2） $\Gamma$ 是一致的充要条件是，不存在 $\phi\in\mathcal{L}_0$ 满足 $\Gamma\vdash\phi$ 以及 $\Gamma\vdash(\lnot\phi)$

**** 极大一致性<<MK67>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 是[[MK66][一致的]]，若对于任意 $\phi\in\mathcal{L}_0$ 均有若 $\Gamma\cup\{\phi\}$ 仍为一致则有 $\phi\in\Gamma$

则称 $\Gamma$ 有极大一致性

**** 定理1<<MK68>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 则 $\Gamma$ 不一致的充要条件是对于任意 $\phi\in\mathcal{L}_0$ 均有 $\Gamma\vdash\phi$

即任意[[MK15][命题表达式]]均为 $\Gamma$ 的[[MK57][定理]]

***** 证明

****** 必要

根据[[MK12][准语言]]以及[[MK13][命题语言]]定义易证若 $\phi\in\mathcal{L}_0$ 则 $(\lnot\phi)\in\mathcal{L}_0$

又由于任意 $\phi\in\mathcal{L}_0$ 均有 $\Gamma\vdash\phi$ 故有 $\Gamma\vdash(\lnot\phi)$ 即 $\Gamma$ [[MK66][不一致]]

****** 充分

由于 $\Gamma\vdash\phi$ 以及 $\Gamma\vdash(\lnot\phi)$ 则对于任意 $\psi\in\mathcal{L}_0$ 根据[[MK58][第三宽容公理]] $\Gamma\vdash((\lnot\phi)\to(\phi\to\psi))$

则根据[[MK63][导出引理]]有 $\Gamma\vdash(\phi\to\psi)$ 同理亦有 $\Gamma\vdash\psi$

**** 定理2<<MK69>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 是[[MK66][一致的]]，则对于任意 $\phi\in\mathcal{L}_0$ 可得 $\Gamma\cup\{\phi\},\Gamma\cup\{(\lnot\phi)\}$ 至少有一个是一致的

***** 证明

假设 $\Gamma\cup\{(\lnot\phi)\},\Gamma\cup\{\phi\}$ 均为非一致，则根据[[MK68][定理1]]可得 $\Gamma\cup\{(\lnot\phi)\}\vdash\phi$ 又根据[[MK80][冗余假设]]可得 $\Gamma\vdash\phi$

又由于 $\Gamma\cup\{\phi\}$ 非一致，同理可证 $\forall\psi\in\mathcal{L}_0\rightarrow\Gamma\cup\{\phi\}\vdash\psi$ 根据[[MK64][演绎引理]] $\Gamma\vdash(\phi\to\psi)$

结合上述两个条件可得 $\forall\psi\in\mathcal{L}_0\rightarrow\Gamma\vdash\psi$ 根据[[MK68][定理1]]可得 $\Gamma$ 不一致

与条件 $\Gamma$ 一致矛盾，故可得假设不成立，即 $\Gamma\cup\{(\lnot\phi)\},\Gamma\cup\{\phi\}$ 至少有一个是一致的

则满足上述条件

**** 定理3<<MK70>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 是[[MK67][极大一致]]的，则有以下命题成立：

（1） 对于任意 $\phi\in\mathcal{L}_0$ 有 $\phi\in\Gamma$ 和 $(\lnot\phi)\in\Gamma$ 二者有且仅有一项成立

（2） 对于任意 $\phi\in\mathcal{L}_0$ 以及 $\Gamma\vdash\phi$ 有 $\phi\in\Gamma$

（3） 对于任意 $\phi_1\in\mathcal{L}_0\land\phi_2\in\mathcal{L}_0$ 则 $(\phi_1\to\phi_2)\in\Gamma$ 的充要条件是 $\phi_1\not\in\Gamma$ 或 $\phi_2\in\Gamma$

***** 证明

****** 证明（1）

根据[[MK69][定理2]]可得 $\Gamma\cup\{\phi\},\Gamma\cup\{(\lnot\phi)\}$ 至少有一个是一致的，进一步根据[[MK67][定义]]可得（1）

****** 证明（2）

假设 $\phi\not\in\Gamma$ 则根据[[MK67][定义]]有 $\Gamma\cup\{\phi\}$ [[MK66][不一致]]，则根据结论（1）可得 $(\lnot\phi)\in\Gamma$

则根据[[MK57][证明]]易得 $\Gamma\vdash(\lnot\phi)$ 又根据条件有 $\Gamma\vdash\phi$ 可得 $\Gamma$ 不一致，与条件矛盾

****** 证明（3）

******* 充分

若 $(\phi_1\to\phi_2)\in\Gamma$ 则假设 $\phi_1\in\Gamma$ 且 $\phi_2\not\in\Gamma$ 则根据[[MK58][合取公理]] $\Gamma\vdash(\phi_1\to((\lnot\phi_2)\to(\lnot(\phi_1\to\phi_2))))$

根据[[MK63][导出引理]] $\Gamma\vdash((\lnot\phi_2)\to(\lnot(\phi_1\to\phi_2)))$ 又根据（1）以及 $\phi_2\not\in\Gamma$ 有 $(\lnot\phi_2)\in\Gamma$

同理 $\Gamma\vdash(\lnot(\phi_1\to\phi_2))$ 又由于 $(\phi_1\to\phi_2)\in\Gamma$ 根据[[MK57][定理定义]]有 $\Gamma\vdash(\phi_1\to\phi_2)$

即 $\Gamma$ [[MK66][不一致]]，与条件矛盾，故假设不成立，则有 $\phi_1\not\in\Gamma$ 或 $\phi_2\in\Gamma$

******* 必要

若 $\phi_1\not\in\Gamma$ 成立，则根据（1）有 $(\lnot\phi_1)\in\Gamma$ 即根据[[MK57][证明]]易得 $\Gamma\vdash(\lnot\phi_1)$

又根据[[MK58][第三宽容公理]]有 $\Gamma\vdash((\lnot\phi_1)\to(\phi_1\to\phi_2))$ 故根据[[MK63][导出引理]] $\Gamma\vdash(\phi_1\to\phi_2)$

根据（2）有 $(\phi_1\to\phi_2)\in\Gamma$

若 $\phi_2\in\Gamma$ 成立，则有 $\Gamma\vdash\phi_2$ ，根据[[MK58][第一宽容公理]]有 $\Gamma\vdash(\phi_2\to(\phi_1\to\phi_2))$

即根据导出引理以及（2）同理可证 $(\phi_1\to\phi_2)\in\Gamma$

若同时成立，则同理由 $\phi_2\in\Gamma$ 

**** 定理4<<MK71>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 是[[MK67][极大一致]]的，则 $\Gamma$ 一定是[[MK32][可满足]]的

***** 证明

定义[[MK27][真假赋值]] $v_\Gamma(a)=\begin{cases}T&a\in A\cap\Gamma\\F&a\not\in A\cap\Gamma\end{cases}$ 其中 $A$ 是[[MK9][原子命题]]集合，对应的[[MK28][扩展函数]]定义为 $\bar{v}_\Gamma$

定义 $\Gamma_n=\left\{\phi\big|\phi\in\Gamma\land|\phi|=n\right\}$ 则对于任意 $\phi\in\mathcal{L}_0\land|\phi|=n$ 时显然有 $\phi\in A$

故显然对于任意 $\phi\in\Gamma_1$ 有 $\bar{v}_\Gamma(\phi)=T$ ，对于任意 $\phi\not\in\Gamma_1$ 有 $\bar{v}_\Gamma(\phi)=F$ 

对于任意 $n\in\mathbb{N}\land n>1$ 假设有对于任意 $\phi\in\mathcal{L}_0,1\leq i<n$

均有 $\forall\phi\in\Gamma_i\rightarrow\bar{v}_\Gamma=T$ 以及 $\forall\phi\not\in\Gamma_i\rightarrow\bar{v}_\Gamma=F$ 

根据[[MK21][唯一可读性]]对于任意 $\phi\in\mathcal{L}_0\land|\phi|=n$ 有且仅有 $\phi=(\lnot\psi),\phi=(\psi_1\to\psi_2)$

其中 $\psi\in\mathcal{L}_0\land\psi_1\in\mathcal{L}_0\land\psi_2\in\mathcal{L}_0$ 且显然 $\max(|\psi|,|\psi_1|,|\psi_2|)<|\phi|$

假设 $\phi=(\lnot\psi)$ 则根据[[MK70][定理3]]（1）可知 $\psi\in\Gamma$ 和 $(\lnot\psi)\in\Gamma$ 有且仅有一项成立

故当 $\phi=(\lnot\psi)\in\Gamma$ 时必有 $\psi\not\in\Gamma$ 根据前提假设有 $\bar{v}_\Gamma(\phi)=H_\lnot(\bar{v}(\psi))=T$

故当 $\phi=(\lnot\psi)\not\in\Gamma$ 时必有 $\psi\in\Gamma$ 根据前提假设有 $\bar{v}_\Gamma(\phi)=H_\lnot(\bar{v}(\psi))=F$

假设 $\phi=(\psi_1\to\psi_2)$ 则根据[[MK70][定理3]]可得 $\phi\in\Gamma$ 的充要条件为 $\psi_1\not\in\Gamma$ 或 $\psi_2\in\Gamma$

故当 $\phi=(\psi_1\to\psi_2)\in\Gamma$ 时根据[[MK21][逻辑函数]]易证 $\bar{v}_\Gamma(\phi)=H_\to(\bar{v}(\psi_1),\bar{v}(\psi_2))=T$

故当 $\phi=(\psi_1\to\psi_2)\not\in\Gamma$ 时有 $\psi_1\in\Gamma\land\psi_2\not\in\Gamma$ 根据前提假设 $\bar{v}_\Gamma(\psi_1)=T\land\bar{v}_\Gamma(\psi_2)=F$

故根据[[MK21][逻辑函数]]易证 $\bar{v}_\Gamma(\phi)=H_\to(\bar{v}(\psi_1),\bar{v}(\psi_2))=F$

根据[[MK10][基本符号集]]可得 $\forall\phi\in\mathcal{L}_0\rightarrow|\phi|<\infty$ 故根据数学归纳法可得对于任意 $\phi\in\mathcal{L}_0$

均有 $\forall\phi\in\Gamma_i\rightarrow\bar{v}_\Gamma=T$ 以及 $\forall\phi\not\in\Gamma_i\rightarrow\bar{v}_\Gamma=F$ ，显然 $\bar{v}_\Gamma$ 满足 $\Gamma$

**** 定理5<<MK72>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 是[[MK66][一致的]]，则存在 $\Gamma^*\subset\mathcal{L}_0$ 满足：

（1） $\Gamma\subset\Gamma^*$

（2） $\Gamma^*$ 是[[MK67][极大一致]]的

***** 证明

根据[[MK11][性质]]以及[[MK13][命题语言]]定义易证 $\mathcal{L}_0$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，则定义 $\mathcal{L}_0=\left\{\phi_n\big|n\in\mathbb{N}\right\}$

定义 $f:\mathcal{L}_0\to\mathbb{N}$ 是[[~/文档/note/离散数学/lssx.org::MK29][等势函数]]，即对于任意 $\psi\in\mathcal{L}_0$ 有 $\phi_{f(\psi)}=\psi$，定义 $\Gamma_0=\Gamma$ 给定 $\Gamma_n$ 定义 $\Gamma_{n+1}$ ：

（1） 若 $\Gamma_n\cup\{\phi_n\}$ [[MK66][一致]]，则 $\Gamma_{n+1}=\Gamma_n\cup\{\phi_n\}$

（2） 若 $\Gamma_n\cup\{(\lnot\phi_n)\}$ [[MK66][一致]]，则 $\Gamma_{n+1}=\Gamma_n\cup\{(\lnot\phi_n)\}$

根据[[MK69][定理2]]可得上面两条至少成立一条，故进一步定义 $\Gamma^*=\bigcup_{n\in\mathbb{N}}\Gamma_n$

****** 证明 $\Gamma_n$ 一致<<MK73>>

对于任意 $\Gamma_{n+1}$ 已知 $\Gamma_n$ 一致，则对于 $\phi_n\in\mathcal{L}_0$ 根据[[MK69][定理2]]可得 $\Gamma\cup\{\phi_n\},\Gamma\cup\{(\lnot\phi_n)\}$ 至少有一个是一致的

即根据定义 $\Gamma_{n+1}$ 是一致的。由于 $\Gamma_0$ 是一致的，故根据数学归纳法可得 $\Gamma_n$ 亦是一致的

****** 证明 $\Gamma^*$ 一致

******* $\Gamma^*$ 的[[MK57][证明]]均有 $\Gamma_n$ 包含<<MK74>>

对于任意 $\Gamma^*$ 的[[MK57][证明]] $<\mu_1,...,\mu_u>$ 中的任意 $\mu_i$ 

当 $i=1$ 时必有 $\mu_1$ 是公理或 $\mu_1\in\Gamma^*$

若是公理，则有 $\Gamma_{f(\mu_1)}\cup\{\phi_{f(\mu_1)}\}$ 是一致的，若 $\mu_1\in\Gamma^*$ 则存在 $n\in\mathbb{N}$ 满足 $\mu_1\in\Gamma_n$

当 $1<i\leq u$ 假设对于任意 $1\leq j< i$ 均满足存在 $\Gamma_{n_j}$ 使得 $\mu_j\in\Gamma_{n_j}$ 

则定义 $n=\max(n_{j_1},...,n_{j_{i-1}})$ 显然有 $\mu_j\in\Gamma_n$ 则证明 $<\mu_1,...,\mu_{i-1},\mu_i>$ 有 $\Gamma_n\vdash\mu_i$

此时若 $f(\mu_i)\leq n$ 则有 $\{\mu_1,...,\mu_i\}\subset\Gamma_n$ 反之根据定义有 $u\leq v\rightarrow\Gamma_u\subset\Gamma_v$ 易证 $\{\mu_1,...,\mu_{i-1}\}\subset\Gamma_{f(\mu_i)}$ 

根据[[MK76][定理7]]有 $\Gamma_{f(\mu_i)}\cup\{\mu_i\}$ 是一致的，故有 $\Gamma_{f(\mu_i)+1}=\Gamma_{f(\mu_i)}\cup\{\mu_i\}$ 即 $\{\mu_1,...,\mu_i\}\subset\Gamma_{f(\mu_i)+1}$ 

综上所述，故根据数学归纳法对于任意 $\mu_i$ 在 $<\mu_1,...,\mu_u>$ 中均存在 $\Gamma_n$ 满足 $\mu_i\in\Gamma_n$

又由于所有证明均为有限有序组

故对于任意 $\Gamma^*$ 的证明 $<\mu_1,...,\mu_u>$ 中的任意 $\mu_i,1\leq i\leq u$ 均存在 $\Gamma_n$ 满足 $\mu_i\in\Gamma_n$

******* 证明结论

假设 $\Gamma^*$ 不一致，则根据定义存在 $\phi\in\mathcal{L}_0$ 满足 $\Gamma^*\vdash\phi$ 以及 $\Gamma^*\vdash(\lnot\phi)$

则有[[MK57][证明]] $<\mu_1,...,\mu_u>,<\eta_1,...,\eta_v>$ 满足 $\mu_u=\phi,\eta_v=(\lnot\phi)$

根据[[MK74][之前证明]]对于任意 $\mu_i$ 均有 $\Gamma_{n_{j_i}}$ 满足 $\mu_i\in\Gamma_{n_{j_i}}$ ，对于任意 $\eta_i$ 均有 $\Gamma_{n_{j_{u+i}}}$ 满足 $\eta_i\in\Gamma_{n_{j_{u+1}}}$

定义 $n=\max(n_{j_1},...,n_{j_{u+v}})$ 根据 $\Gamma_i$ 的构造易证 $\{\mu_1,...,\mu_u\}\cup\{\eta_1,...,\eta_v\}\subset\Gamma_n$  

显然 $\Gamma_n\vdash\phi\land\Gamma_n\vdash(\lnot\phi)$ 不一致，与[[MK73][之前证明]]矛盾。故假设不成立， $\Gamma^*$ 一致

****** 证明 $\Gamma^*$ 极大一致

假设 $\Gamma^*$ 不是极大一致，则存在 $\phi\in\mathcal{L}_0$ 满足 $\phi\not\in\Gamma^*$ 以及 $\Gamma^*\cup\{\phi\}$ 一致

显然 $\Gamma_{f(\phi)}\cup\{\phi\}\subset\Gamma^*\cup\{\phi\}$ 则根据[[MK75][定理6]] $\Gamma_{f(\phi)}\cup\{\phi\}$ 一致

根据构造定义有 $\Gamma_{f(\phi)+1}=\Gamma_{f(\phi)}\cup\{\phi\}$ 又由于义 $\Gamma^*=\bigcup_{n\in\mathbb{N}}\Gamma_n$

故有 $\phi\in\Gamma^*$ 矛盾，故假设不成立， $\Gamma^*$ 是[[MK67][极大一致]]的

**** 定理6<<MK75>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 是[[MK66][一致的]]，则任意 $\Gamma'\subset\Gamma$ 必为一致

***** 证明

假设存在 $\Gamma'\subset\Gamma$ 不一致，即有 $\phi\in\mathcal{L}_0$ 满足 $\Gamma'\vdash\phi\land\Gamma'\vdash(\lnot\phi)$

根据[[MK65][引理]]可得 $\Gamma\vdash\phi\land\Gamma\vdash(\lnot\phi)$ 不一致，故矛盾，假设不成立

**** 定理7<<MK76>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 是[[MK66][一致的]]，对于任意 $\phi\in\mathcal{L}_0$ 若有 $\Gamma\vdash\phi$ 则 $\Gamma\cup\{\phi\}$ 是一致的

***** 证明

假设 $\Gamma\cup\{\phi\}$ 不一致，则根据[[MK68][定理1]]有 $\Gamma\cup\{\phi\}\vdash(\lnot\phi)$ 根据[[MK81][推论]]有 $\Gamma\vdash(\lnot\phi)$

根据[[MK66][定义]]可得 $\Gamma$ 不一致，与条件故矛盾，即假设不成立

*** 可靠性定理<<MK77>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 以及 $\phi\in\mathcal{L}_0$ ，若 $\Gamma\vdash\phi$ 则有 $\Gamma\vDash\phi$

即若 $\phi$ 是 $\Gamma$ 的[[MK57][定理]]，则 $\phi$ 是 $\Gamma$ 的[[MK34][逻辑结论]]

**** 证明

根据定义有 $\Gamma$ 的[[MK57][证明]] $s_n=<\phi_1,...,\phi_n>$ 其中 $\phi_n=\phi$

当 $i=1$ 时有且仅有 $\phi_1\in\Gamma$ 或 $\phi_1$ 是[[MK58][逻辑公理]]，由于逻辑公理均为[[MK33][重言式]]

故对于任意[[MK32][满足]] $\Gamma$ 的[[MK27][真假赋值]] $v$ 其[[MK28][扩展函数]]均有 $\bar{v}(\phi_1)=T$ 即 $\Gamma\vDash\phi_1$ 

对于任意 $1\leq i\leq n$ 假设对于任意 $1\leq k<i$ 均有 $\Gamma\vDash\phi_k$ 则对于 $\phi_i$

若 $\phi_i\in\Gamma$ 或 $\phi_i$ 是逻辑公理，则同理可证 $\Gamma\vDash\phi$

若存在 $1\leq j_1<j_2<i$ 有 $\phi_{j_2}=(\phi_{j_1}\to \phi_i)$ 则对于任意满足 $\Gamma$ 的真假赋值的扩展函数

根据假设以及[[MK21][逻辑函数]]有 $\bar{v}(\phi_{j_1})=T,\bar{v}(\phi_{j_2})=H_{\to}(\bar{v}(\phi_{j_1}),\bar{v}(\phi_i))=T$

显然根据逻辑函数当且仅当 $\bar{v}(\phi_i)=T$ 时有 $H_{\to}(\bar{v}(\phi_{j_1}),\bar{v}(\phi_i))=T$

又由于 $|s|<\infty$ 有限，故综上所述，根据数学归纳法对于任意 $\phi_i$ 均有 $\Gamma\vDash\phi_i$

又由于 $\phi_n=\phi$ 故有 $\Gamma\vDash\phi$

**** 推论

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 若 $\Gamma$ 是[[MK32][可满足的]]，则 $\Gamma$ 是[[MK66][一致的]]

***** 证明

若 $\Gamma$ 可满足，即存在[[MK28][扩展函数]] $\bar{v}$ 。假设不是一致的，则存在 $\phi\in\mathcal{L}_0$ 满足 $\Gamma\vdash\phi$ 以及 $\Gamma\vdash(\lnot\phi)$

根据[[MK77][可靠性定理]]可得 $\Gamma\vDash\phi,\Gamma\vDash(\lnot\phi)$ 则根据[[MK21][逻辑函数]] $\bar{v}(\phi)=T\land\bar{v}((\lnot\phi))=H_{\lnot}(\bar{v}(\phi))=T$

显然矛盾，故假设不成立，即 = $\Gamma$ 是[[MK66][一致的]]

*** 完备性<<MK78>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ ，若 $\Gamma$ 所有的[[MK34][逻辑结论]]都可以被[[MK57][证明]]，则称 $\Gamma$ 是完备的

**** 第一完备性定理<<MK79>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ ，若 $\Gamma$ 是[[MK66][一致的]]的充要条件是 $\Gamma$ 是[[MK32][可满足的]]

***** 证明

根据[[MK72][定理5]]存在 $\Gamma^*$ 满足 $\Gamma\subset\Gamma^*$ 且 $\Gamma^*$ 是[[MK67][极大一致]]的

又根据[[MK71][定理4]]可得 $\Gamma^*$ 是[[MK32][可满足]]的，即存在[[MK27][真假赋值]]的[[MK28][扩展函数]] $\bar{v}$ 满足 $\forall\phi\in\Gamma^*\rightarrow\bar{v}(\phi)=T$

又由于 $\Gamma\subset\Gamma^*$ 故有 $\forall\phi\in\Gamma\rightarrow\bar{v}(\phi)=T$ 即 $\Gamma$ 是[[MK32][可满足的]]

**** 第二完备性定理

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0,\phi\in\mathcal{L}_0$ 则 $\Gamma\vDash\phi$ 的充要条件是 $\Gamma\vdash\phi$

即 $\phi$ 是 $\Gamma$ 的[[MK34][逻辑结论]]的充要条件是 $\phi$ 是 $\Gamma$ 的[[MK57][定理]]

***** 证明

必要条件有[[MK77][可靠性定理]]证得，以下证充分性

若 $\Gamma\vDash\phi$ 则对于任意[[MK32][满足]] $\Gamma$ 的[[MK28][扩展函数]]均有 $\bar{v}(\phi)=T$ 。定义 $\Gamma_1=\Gamma\cup\{(\lnot\phi)\}$

则对于任意[[MK32][满足]] $\Gamma$ 的[[MK28][扩展函数]]必有 $\bar{v}((\lnot\phi))=F$ 即 $\Gamma_1$ 不可满足

根据[[MK79][第一完备性定理]]可得 $\Gamma_1$ 不是[[MK66][一致的]]，根据[[MK68][定理]]可得 $\Gamma_1\vdash \phi$

则根据[[MK80][冗余假设]]引理可得 $\Gamma\vdash\phi$ 

**** 冗余假设引理<<MK80>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0,\phi\in\mathcal{L}_0$ 若 $\Gamma\cup\{(\lnot\phi)\}\vdash\phi$ 则有 $\Gamma\vdash\phi$

***** 证明

根据[[MK59][推论]]以及[[MK58][第一归谬公理]]可得 $\Gamma\vdash(((\lnot\phi)\to\phi)\to\phi)$

根据 $\Gamma\cup\{(\lnot\phi)\}\vdash\phi$ 以及[[MK64][演绎引理]]有 $\Gamma\vdash((\lnot\phi)\to\phi)$ 则根据[[MK63][导出引理]]有 $\Gamma\vdash\phi$

***** 推论<<MK81>>

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0,\phi\in\mathcal{L}_0$ 若 $\Gamma\cup\{\phi\}\vdash(\lnot\phi)$ 则有 $\Gamma\vdash(\lnot\phi)$

****** 证明

根据 $\Gamma\cup\{\phi\}\vdash(\lnot\phi)$ 以及[[MK64][演绎引理]]有 $\Gamma\vdash(\phi\to(\lnot\phi))$ 

根据[[MK60][推论]]（5）可得 $\Gamma\vdash((\phi\to(\lnot\phi))\to(\lnot\phi))$ 则根据[[MK63][导出引理]]有 $\Gamma\vdash(\lnot\phi)$

*** 紧致性定理

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ ，则 $\Gamma$ 是[[MK66][一致的]]的充要条件是任意[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $\Gamma'\subset\Gamma$ 是一致的

**** 证明
  
***** 充分

对于任意 $\Gamma'\subset\Gamma$ 假设不一致，有 $\Gamma'\vdash\phi,\Gamma'\vdash(\lnot\phi)$ 根据[[MK65][引理]]有 $\Gamma\vdash\phi,\Gamma\vdash(\lnot\phi)$ 与一致条件矛盾

故假设不成立

***** 必要

假设 $\Gamma$ 不一致，故有 $\Gamma\vdash\phi,\Gamma\vdash(\lnot\phi)$ 则存在[[MK57][证明]] $<\phi_1,...,\phi_n>,<\psi_1,...,\psi_m>$ 满足 $\phi_n=\phi,\psi_m=(\lnot\phi)$

则取 $\Gamma'=\{\phi_1,...,\phi_n,\psi_1,...,\psi_m\}\cap\Gamma$ 则显然 $<\phi_1,...,\phi_n>,<\psi_1,...,\psi_m>$ 亦为 $\Gamma'$ 的证明

即 $\Gamma'\vdash\phi,\Gamma'\vdash(\lnot\phi)$ 不一致。由于证明是有限有序组，故 $\Gamma$ 是有限集，与有限子集一致条件矛盾

故假设不成立， $\Gamma$ 一致

**** 推论1

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ ，则 $\Gamma$ 是[[MK32][可满足]]的充要条件是任意[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $\Gamma'\subset\Gamma$ 是可满足的

***** 证明

根据[[MK79][第一完备性定理]]可得可满足与一致为充要条件，则根据紧致性定理可得结论

**** 推论2

[[MK13][命题语言]] $\mathcal{L}_0$ 有 $\Gamma\subset\mathcal{L}_0$ 则 $\Gamma\vDash\phi\in\mathcal{L}_0$ 的充要条件为存在有限子集 $\Gamma'\subset\Gamma$ 满足 $\Gamma'\vDash\phi$

***** 证明

****** 充分

由于 $\Gamma\vDash\phi$ 根据[[MK34][逻辑结论]]对于任意[[MK27][真假赋值]] $v$ 满足 $\Gamma$ 则有 $v$ 满足 $\phi$ ，即[[MK28][扩展函数]]有 $\bar{v}(\phi)=T$

则显然有 $\bar{v}((\lnot\phi))=F$ 故有 $\Gamma\cup\{(\lnot\phi)\}$ 不可满足。根据[[MK79][第一完备性]]可得 $\Gamma\cup\{(\lnot\phi)\}$ [[MK66][不一致]]

根据[[MK68][定理1]]可得 $\Gamma\cup\{(\lnot\phi)\}\vdash\phi$ 根据[[MK80][冗余假设]]可得 $\Gamma\vdash\phi$ 则存在[[MK57][证明]] $<\phi_1,...,\phi_n>$ 满足 $\phi_n=\phi$

即定义 $\Gamma'=\{\phi_1,...,\phi_n\}\cap\Gamma$ 显然 $\Gamma'$ 有限集且 $<\phi_1,...,\phi_n>$ 亦为 $\Gamma'$ 的证明

****** 必要

若存在有限子集 $\Gamma'\subset\Gamma$ 满足 $\Gamma'\vDash\phi$ ，假设 $\Gamma\not\vDash\phi$ 则存在[[MK27][真假赋值]] $v$ 满足 $\Gamma$ 且[[MK28][扩展函数]]有 $\bar{v}(\phi)=F$

由于满足 $\Gamma$ 则必满足 $\Gamma'$ 又根据 $\Gamma'\vDash\phi$ 可得 $\bar{v}(\phi)=T$ 矛盾，故假设不成立，即 $\Gamma\vDash\phi$

** 范式

*** 基本术语定义

**** 文字<<MK82>>

[[MK9][原子命题]]被称为正文字，原子命题的否定称为负文字。

**** 析取子句<<MK83>>

有限个[[MK82][文字]]的[[MK6][析取]]。

**** 合取子句<<MK84>>

有限个[[MK82][文字]]的[[MK5][合取]]。

*** 合取范式<<MK85>>

命题公式 $A$ 的合取范式 $A'$ 满足：

（1） $A{|\!\!\!=\!\!\!|}A'$

（2） $A'$ 为[[MK83][析取子句]]或若干有限个[[MK83][析取子句]]的[[MK5][合取]]

*** 析取范式<<MK86>>

命题公式 $A$ 的析取范式 $A'$ 满足：

（1） $A{|\!\!\!=\!\!\!|}A'$

（2） $A'$ 为[[MK84][合取子句]]或若干有限个[[MK84][合取子句]]的[[MK6][析取]]

*** 定理1（范式存在定理）<<MK87>>

任何命题公式都可化为[[MK38][逻辑等价]]的[[MK85][合取范式]]或[[MK86][析取范式]]

**** 证明

对于命题公式 $A$ ：

（1） 可用[[MK48][蕴含等式]]，[[MK49][等价等值式]]，[[MK54][等价等值式2]]将命题公式中的[[MK3][蕴含]]与[[MK7][双向蕴含]]去除

（2） 可用[[MK186][德摩根律]]将否定连接词 $\lnot$ 深入，直至只作用于[[MK82][文字]]

（3） 经过前两步，命题中只含 $\land,\lor$ 以及括号。最后利用[[MK47][分配率]]配出需要的合取（析取）子串。

*** 主合取范式<<MK88>>

命题公式 $A(p_1,...,p_n)$ 的主合取范式 $A'$ 满足：

（1） $A'$ 为 $A$ 的[[MK85][合取范式]]

（2） $A'$ 的每一个[[MK83][析取子句]]满足：

      a）所有的[[MK82][文字]]及其[[MK2][否定]]不同时存在

      b）但二者其一正好出现一次

      c）[[MK83][析取子句]]中文[[MK9][原子命题]]的次序一致（ $p_1,...,p_n$ ）

（3） $A'\sim A$ 即 $A$ 与 $A'$ [[MK38][等价]]

*** 主析取范式<<MK89>>

命题公式 $A$ 的主析取范式 $A'$ 满足：

（1） $A'$ 为 $A$ 的[[MK86][析取范式]]

（2） $A'$ 的每一个[[MK84][合取子句]]满足：

      a）所有的[[MK82][文字]]及其[[MK2][否定]]不同时存在

      b）但二者其一正好出现一次

      c）[[MK84][合取子句]]中文[[MK9][原子命题]]的次序一致（ $p_1,...,p_n$ ）

（3） $A'\sim A$ 即 $A$ 与 $A'$ [[MK38][等价]]

*** 定理2<<MK90>>

任意命题公式 $A$ 其[[MK38][逻辑等价]]的主合取（析取）范式存在且唯一

**** 证明

下面以主合取范式为例证明，主析取范式同理。

***** 证明存在

定义命题 $A(p_1,...,p_n)$ 根据[[MK87][定理1]]可得 $A$ 等价于其[[MK85][合取范式]] $A'$ ，定义 $A'$ 由 $A'_1,...,A'_s$ 的 $s$ 个[[MK83][析取子句]]组成。

利用[[MK40][替换原理]]，可利用以下替换构造主合取范式：

（1） 若 $A'_i$ 中却少某项 $p_j$ 则 $A'_i{|\!\!\!=\!\!\!|}A'_i\lor0$

     根据[[MK52][矛盾律]]及[[MK47][分配率]]可得 $A'_i\lor0{|\!\!\!=\!\!\!|}A'_i\lor(p_j\land \lnot p_j){|\!\!\!=\!\!\!|}(A'_i\lor p_j)\land(A'_i\lor\lnot p_j)$ ，故可补全合取子式中不包含的[[MK82][文字]]。

（2） 根据[[MK44][幂等律]] $A_i\land A_i{|\!\!\!=\!\!\!|}A_i$ 结合[[MK45][交换律]]，[[MK46][结合律]]可去除重复的[[MK83][析取子句]] 

（3） 根据[[MK44][幂等律]] $p_j\land p_j{|\!\!\!=\!\!\!|}p_j$ 结合[[MK45][交换律]]，[[MK46][结合律]]可去除 $A_i$ 中 $p_j$ 的重复项

（4） 根据[[MK51][排中律]] $p_j\lor\lnot p_j{|\!\!\!=\!\!\!|}1$ 结合[[MK50][零律]]及[[MK45][交换律]]可得 $A_i{|\!\!\!=\!\!\!|}1$

     且 $A_1\land...\land A_{i-1}\land A_i\land A_{i+1} \land...A_s{|\!\!\!=\!\!\!|}A_1\land...\land A_{i-1}\land A_{i+1} \land...A_s$ 故去除 $p_j,\lnot p_j$ 同时存在的项。

又根据[[MK46][结合律]]，析取与合取可以无视计算顺序，最终可得满足[[MK88][主合取范式]]条件的命题公式。

***** 证明唯一

定义命题 $A(p_1,...,p_n)$ 存在两个不同的[[MK88][主合取范式]] $B,C$ 则必有 $A{|\!\!\!=\!\!\!|}B,A{|\!\!\!=\!\!\!|}C$ 根据[[MK39][等价传递]] $B{|\!\!\!=\!\!\!|}C$

由于 $B,C$ 是两个不同的主合取范式，则必存在至少一个不同个[[MK83][析取子句]]。

即存在[[MK83][析取子句]] $B^*_i$ 仅存在 $B$ 或 $C$ 中。不妨设 $B^*_i$ 仅存在 $B$ 中。

由于命题 $A(p_1,...,p_n)$ 且 $B,C$ 为[[MK88][主合取范式]]，故其[[MK83][析取子句]]的形式为 $\textcircled{}p_1\lor\textcircled{ }p_2\lor...\lor\textcircled{ }p_n$ 排列。

其中 $\textcircled{ }$ 可放 $\lnot$ 或不放。

对于中某一特定[[MK83][析取子句]] $P_j=q_1\lor...\lor q_n$ ，其中 $q_i=\textcircled{j}_ip_i$ 且 $\textcircled{j}_i$ 为该子句下特定的 $p_i$ 前缀，可为 $\lnot$ 或无。

根据[[MK6][析取]]定义，当且仅当 $\forall i\big(((1\leq i\leq n)\land i\in N)\rightarrow q_i=0\big)$ 时 $P_j=0$ 

且此时对于任意其他析取子句 $P_l,l\ne j$ ， $P_{l}$ 必存在一个 $q_k$ 使得 $\textcircled{l}_k$ 不同与 $\textcircled{j}_k$ （否则两个子句相同）。

由于[[MK88][主合取范式]]定义，必有 $\textcircled{j}_kp_k=\lnot\textcircled{l}_kp_k$

故当 $\textcircled{j}_kp_k=0$ 时 $\textcircled{l}_kp_k=1$ ,则当 $P_j=0$ 时对于任意 $l\ne j$ 均有 $P_l=1$ 。

综上所述，当某一[[MK83][析取子句]]真值为 $0$ 时，其他所有析取子句真值为 $1$ 。

由于 $B,C$ 均为析取子句的合取，故当给定一组[[MK27][真假赋值]]的[[MK28][扩展函数]]使得 $\bar{v}(B^*_i)=F$ 时，

有 $\bar{v}(B)=F$ 此时除 $B^*_i$ 外任意[[MK88][主合取范式]]的析取子句真值为 $1$ ，故可得 $\bar{v}(C)=T$ 。

上述结论与 $B{|\!\!\!=\!\!\!|}C$ 矛盾，故假设不成立，主合取范式唯一。

*** 等值类

若命题公式拥有相同的[[MK88][主析取范式]]，则其运算结果等值，属于同一等值类。

**** 等值类的数量

若命题公式为 $A(p_1,...,p_n)$ ，则其[[MK89][主析取范式]] $A'$ 的[[MK84][合取子式]]形式为 $\textcircled{ }p_1\land\textcircled{ }p_2\land...\land\textcircled{ }p_n$ 其中 $\textcircled{ }$ 可放 $\lnot$ 或不放。

故能表示的不同合取子式的数量为 $2^n$ 。

每一个合取子式对于 $A'$ 来说仅有包含和被包含两种互斥可能。故 $A'$ 最多可表达 $2^{2^n}$ 中可能的等值类。

** \\命题公式

*** 基本定义<<MK91>>

**** 命题常元<<MK92>>

一个确定的具体的命题，称为命题常元。与[[MK93][命题变元]]对应。

**** 命题变元<<MK93>>

根据[[MK94][定义]]命题公式即为对不同命题的逻辑运算，命题变项为命题公式中可变的命题，即逻辑运算的输入项。

**** 命题公式<<MK94>>

命题公式（又称 *真值函数* 或 *合适公式* ）可按下列[[~/文档/note/离散数学/lssx.org::MK51][归纳定义]]生成:

基础条款：[[MK93][命题变项]]本身是命题公式。

归纳条款：如果 $A$ 是命题公式，则 $\lnot A$ 是命题公式。如果 $A$ 和 $B$ 是命题公式，那么 $A\land B, A\lor B,A\rightarrow B,A\leftrightarrow B$ 都是命题公式。

终极条款：当且仅当有限次地应用以上条款所得到的包含[[MK93][命题变项]]，[[MK9][联结词]]和圆括号（用于判别优先级）的符号串是命题公式。

命题公式的定义是一个递归定义形式。命题公式本身不是命题，没有[[MK28][真值]]，只有对其[[MK93][命题变项]]进行赋值后，它才有[[MK28][真值]]。

若定义命题公式为 $A$ 其[[MK93][命题变项]]为 $p_1,...,p_n$ 则可记作 $A(p_1,...,p_n)$

*** 命题公式分类

**** 原子命题

仅包含[[MK93][命题变元]]的[[MK94][命题公式]]

**** 可满足式

若命题公式 $A$ 至少对一个[[MK93][命题变项]]赋值，使得[[MK28][真值]]为 $1$ ，则称命题公式 $A$ 为可满足式。[[MK33][永真式]]是可满足时。

*** 命题公式关系

**** 命题公式关系性质

***** 等价对称

若 $A{|\!\!\!=\!\!\!|}B$ 则有 $B{|\!\!\!=\!\!\!|}A$  

***** 假言易位

若 $A{|\!\!\!=}B$ 则有 $\lnot A{|\!\!\!=}\lnot B$ ，可由[[MK53][假言易位]]证明

***** 蕴含传递

若 $A{|\!\!\!=}B$ 且 $B{|\!\!\!=}C$ 则有 $A{|\!\!\!=}C$  

***** 蕴含可替

若 $A{|\!\!\!=}B$ 且 $A{|\!\!\!=\!\!\!|}A',B{|\!\!\!=\!\!\!|}B'$ 则有 $A'{|\!\!\!=}B'$

** \\命题形式系统

*** 定义

一个满足以下条件的符号体系：

**** 公理

若干个[[MK33][重言式]]作为公理，即无需证明得真理。

**** 推理规则<<MK95>>

定义为从前提得到结论的思维过程，需满足：

（1） [[MK33][重言式]]可以导出[[MK33][重言式]]的推理规则

（2） 前提条件真值为 $1$ 时，结论真值亦为 $1$ 。

***** 命题逻辑基础推理规则<<MK96>>

规则 $P$ ：在推导的过程中，可随时引入前提集合中的任意一个前提

规则 $T$ ：在推导的过程中，可以随时引入公式 $S$ ，公式 $S$ 是由其前的一个或多个公式推导出来的逻辑结果

规则 $CP$ ：如果能从给定的前提集合 $\Gamma$ 与公式 $P$ 推导出 $S$ ，则能从此前提集合 $\Gamma$ 推导出 $P\rightarrow S$ 。

**** 综合

公理和推理规则能保证正确的前提可以推出正确的结论

*** 举例

**** 命题演算系统（PC）

***** 公理<<MK97>>

$A,B,C$ 可代表任意[[MK94][命题公式]]

A1<<MK98>>: $A\rightarrow(B\rightarrow A)$

A2<<MK99>>: $(A\rightarrow(B\rightarrow C))\rightarrow((A\rightarrow B)\rightarrow(A\rightarrow C))$

A3<<MK100>>: $(\lnot A\rightarrow\lnot B)\rightarrow(B\rightarrow A)$

***** 推理规则<<MK101>>

假设公式集合 $\Gamma$ ， 若满足：

（1） $A\in\Gamma$ 或 $A$ 为 $\Gamma$ 的[[MK57][演绎结果]]

（2） 当 $\Gamma$ 中公式真值均为 $1$ 时有 $A\rightarrow B=1$

则 $\Gamma{|\!-}B$ ，即 $B$ 亦为 $\Gamma$ 的[[MK57][演绎结果]]。特别的，当 $\Gamma=\varnothing$ 时 $B$ 为[[MK57][定理]]

****** 推论：推理规则保真性<<MK102>>

已知 $\Gamma$ 为一个公式集合，当 $\Gamma$ 中所有公式真值均为 $1$ 时，其[[MK57][演绎结果]]的真值亦为 $1$

******* 证明

******** 定义 $A_{s_k}$ 

根据[[MK57][演绎结果]]定义假设公式序列 $A_1,...,A_m$ ，取其中任一公式 $A_{s_0}$

根据[[MK97][公理]]中定义，PC系统的公理为[[MK33][重言式]]，且根据条件 $\Gamma$ 中的命题公式真值亦为 $1$

（1） 则若 $A_{s_0}\in\Gamma$ 或 $A_{s_0}$ 为[[MK97][公理]]时 $A_{s_0}=1$

（2） 当 $A_{s_0}$ 为[[MK57][演绎结果]]时必存在 $A_{s_1}\rightarrow A_{s_0}=1,s_1<s_0$

同理 $A_{s_1}$ 或者满足 $A_{s_1}=1$ 或者满足 $A_{s_2}\rightarrow A_{s_1}=1,s_2<s_1$

依次类推直至 $A_{s_k}$ 使得 $A_{s_k}\in\Gamma$ 或者 $A_{s_k}$ 为公理。故得反向序列 $A_{s_0},...,A_{s_k}$ 满足 $A_{s_i}\rightarrow A_{s_{i+1}}=1$ 及 $s_k<...<s_0$

******** 证明 $A_{s_k}$ 的存在性：

由于 $s_0\leq\infty$ 有限，且 $s_i$ 满足 $s_i<s_{i-1}$ 且若 $A_{s_i}$ 不满足 $A_{s_k}$ 条件，则必有 $A_{s_{i+1}}$ 属于公式序列且满足 $A_{s_{i+1}}\rightarrow A_{s_i}=1$ 且 $s_{i+1}<s_i$

由于 $s_{i+1}<s_i$ 可得 $A_{s_{i+1}}\ne A_{s_{i}}$ 且任意 $A_{s_i}$ 于公式序列中排与 $A_{s_0}$ 前，故一共有 $s_0-1$ 个公式排与 $A_{s_0}$ 之前。

假设 $A_{s_k}$ 不存在，则对于任意 $u\in N,u<\infty$ 可经过 $u$ 次类推寻得 $A_{s_u}$ 。当 $u>s_0$ 时需要 $u$ 个公式

然则公式序列中位于 $A_{s_0}$ 前的公式共有 $s_0-1$ 个，且不能重复出现，故矛盾。故必然存在 $A_{s_k}$

******** 证明结论

故根据条件 $A_{s_k}=1$ ，再根据[[MK37][蕴含传递]]以及 $A_{s_{i+1}}\rightarrow A_{s_i}=1$ 可得 $A_{s_i}=1$

***** 性质

****** 合理性

由于[[MK97][公理]]均为[[MK33][重言式]]，且根据[[MK102][保真性]]可得：

（1） 公理导出的结果均为[[MK33][重言式]]

（2） [[MK57][演绎结果]]必为[[MK34][逻辑结果]]

****** 一致性

根据[[MK31][排中律]]不存在 $(B\rightarrow A)\land(B\rightarrow\lnot A)=1$ 故不可能有 $({|\!-}A)\land({|\!-}\lnot A)=1$ 

****** 完备性

略

***** 元定理

证明暂略

****** 演绎定理

$\Gamma{|\!-}A\rightarrow B$ 与 $\Gamma\cup \{A\}{|\!-}B$ 等价

****** 归谬定理

若 $\Gamma\cup \{\lnot A\}{|\!-}B$ 且 $\Gamma\cup \{\lnot A\}{|\!-}\lnot B$ 则有 $\Gamma{|\!-}A$ 

****** 穷举定理

若 $\Gamma\cup \{\lnot A\}{|\!-}B$ 且 $\Gamma\cup \{A\}{|\!-}B$ 则有 $\Gamma{|\!-}B$ 

**** MIU系统

***** 公理

MI

***** 推理规则<<MK103>>

规则1：如果串的最后一个符号是I，则可以加上一个U

规则2：如果串符合Mx，则可以再加上x而生成Mxx，x代表任何一个由M,I,U组成的串

规则3：如果串中出现连续3个I，则可以用U代替III得到新串

规则4：如果串中出现UU，则可以将UU删去得到新串

***** 判定问题

MU是否系统中的串？

****** 证明

定义310系统，M对应3，I对应1，U对应0。则有MI=31，MU=30。此时30能被3整除，31不能。

由于能被3整除的数，各个位上数的和（定义为 $x$ ）必为3的倍数，故根据[[MK103][规则]]：

******* 规则1：

如果串的最后一个符号是1，则可以加上一个3。则若 $x$ 不能被3整除，则 $x+3$ 亦不能

******* 规则2：

如果串符合3x，则可以再加上x而生成3xx，x代表任何一个由3,1,0组成的串

则若 $x$ 不能被3整除，则 $x+x-3$ 亦不能

******* 规则3：

如果串中出现连续三个1，则可以用0代替111得到新串

则若 $x$ 不能被3整除，则 $x-3$ 亦不能

******* 规则4：

如果串中出现00，则可以将00删去得到新串。此时 $x$ 的值不改变。

******* 总结

四个规则均无法从不能被3整除的数中演化出可以被3整除的数。故MU不是定理。

* 一阶逻辑

** 一阶语言<<MK104>>

*** 符号<<MK105>>

一阶逻辑包含以下固定符号：

（1） 逻辑符号：包含 $\{(,\lnot,\to,)\}$ 同[[MK1][命题逻辑符号]]，亦可有[[MK4][推导符号]] $\{\land,\lor,\leftrightarrow\}$

（2） 量词符号<<MK106>>： $\forall$ ，亦可有推导符号 $\exists$

（3） 等式符号： $\hat{=}$

（4） 变元符号<<MK107>>： $X=\left\{x_i\big|i\in\mathbb{N}\right\}$ 

除上述符号外，逗号亦被引入，作用于函数符号及谓词符号。同时一阶逻辑亦包含一下非固定符号：

（1） 常元符号<<MK108>>：定义为集合 $C$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]

（2） 函数符号<<MK109>>：定义为集合 $F$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]

（3） 谓词（关系）符号<<MK110>>：定义为集合 $P$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]

且满足 $|C|\geq|F|,|C|\geq|P|$ 

**** 符号假定1<<MK111>>

所有符号均为不同元素

**** 符号假定2<<MK112>>

存在函数 $\pi_P:P\to\mathbb{N}$ 以及函数 $\pi_F:F\to\mathbb{N}$ 满足：

（1） $\forall p_i\in P\rightarrow\pi_P(p_i)\in\mathbb{N}$ 以及 $\forall f_i\in F\rightarrow\pi_F(f_i)\in\mathbb{N}$

（2） 对于任意 $n\in\mathbb{N}$ 集合 $P_n=\left\{p_i\big|\pi_P(p_i)=n\right\}$ 和 $F_n=\left\{f_i\big|\pi_F(f_i)=n\right\}$ 均为[[~/文档/note/离散数学/lssx.org::MK89][可数集]]

***** 可能性证明

以 $F$ 为例，定义 $F_n=\left\{f_{ij}\big|i=n\land j\in\mathbb{N}\right\}$ 进一步定义 $F=\bigcup_{n\in\mathbb{N}}F_n$

根据[[~/文档/note/离散数学/lssx.org::MK95][定理1]]可得 $F$ 仍为[[~/文档/note/离散数学/lssx.org::MK93][之多可数集]]，又有 $F_1$ 是可数集，且 $F_1\subset F$

故根据[[~/文档/note/离散数学/lssx.org::MK33][定理7]]可得 $F$ 的[[~/文档/note/离散数学/lssx.org::MK35][基数]]大于等于 $F_1$ ，结合 $F$ 是至多可数集可得 $F$ 是可数集

同理可证存在满足符号假定的 $P$ 

**** 推导符号<<MK113>>

同理定义以下推导符号符号：

（1） 逻辑符号：分别为逻辑与，逻辑或，逻辑双向蕴含。即 $\{\land,\lor,\leftrightarrow\}$

（2） 量词符号：存在量词 $\exists$

**** 量词的顺序<<MK114>>

量词（不加括号）固定为从左至右叠加条件

即当有多个量词排列时，其中某一个量词的条件为其左边量词均成立的情况下，该量词成立，以此类推。

*** 基本符号串<<MK115>>

定义 $\Sigma_0=\{(,\lnot,\to,),\forall,\hat{=}\}\cup X\cup\{,\}$ 为所有[[MK105][固定符号]]，最后一项为逗号。

定义 $\Sigma_1=C\cup F\cup P$ 为所有[[MK105][非固定符号]]。定义 $\Sigma=\Sigma_0\cup\Sigma_1$ 以及 $\Sigma^n$ 为 $\Sigma$ 的 $n$ 次[[~/文档/note/离散数学/lssx.org::MK107][笛卡尔积]]

最终定义基本符号串 $\Sigma^*=\bigcup_{n\in\mathbb{N}}\Sigma^n$ 

**** 连接运算

定义 $s_1=\left<a_1,...,a_n\right>\in\Sigma^*\land s_2=\left<b_1,...,b_m\right>\in\Sigma^*$ 则 $s_1*s_2=\left<a_1,...,a_n,b_1,...,b_m\right>$ 

**** 引理<<MK116>>

[[MK115][基本符号串]] $|\Sigma^*|=|C|$

***** 证明

根据 $\Sigma_0$ 定义可得其为[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，根据[[MK105][符号定义]]可得 $\Sigma_1=C\cup P\cup F$ 又根据[[MK105][定义]]可得 $|C|\geq|F|,|C|\geq|P|$

根据[[~/文档/note/离散数学/lssx.org::MK86][定理3]]可得 $|\Sigma_1|=C$ ，同理可得 $|\Sigma|=|\Sigma_0\cup\Sigma_1|=|C|$

对于 $\Sigma^n,n\in\mathbb{N}$ 若 $|\Sigma_{n-1}|=|C|$ 则根据[[~/文档/note/离散数学/lssx.org::MK88][定理5]]易证 $|\Sigma_n|=|\Sigma_n\times\Sigma|=|C|$

故根据数学归纳法可得，对于任意 $n\in\mathbb{N}$ 均有 $|\Sigma_n|=|C|$

又根据[[~/文档/note/离散数学/lssx.org::MK86][定理3]]可得 $|\Sigma^*|=\left|\bigcup_{n\in\mathbb{N}}\Sigma^n\right|=|C|$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]

*** 项<<MK117>>

给定 $\Sigma^*$ ，定义合成封闭子集 $\mathcal{S}\subset\Sigma^*$ 为满足以下条件的集合：

（1） $X\cup C\subset S$ 即 $S$ 包含所有[[MK107][变元符号]]和[[MK108][常元符号]]

（2） 对于任意 $f_i\in F$ 以及 $\tau_i\in S,1\leq i\leq\pi_F(f_i)}$ 有字符串 $f_i(\tau_1,...,\tau_{\pi_F(f_i)})\in S$

则定义 $T=\bigcap\mathcal{S}$ 是所有合成封闭子集的交，则 $T$ 中的元素为项

定义 $\tau(x_1,...,x_n)$ 为项 $\tau$ 中的[[MK140][自由变元]]均在 $x_1,...,x_n$ 中

**** 相等

对于任意 $\tau_1\in T,\tau_2\in T$ 若满足 $|\tau_1|=|\tau_2|\land\forall i<|\tau_1|\rightarrow \tau_1[i]=\tau_2[i]$

则称表达式 $\tau_1,\tau_2$ 相等

**** 最小引理<<MK118>>

$T$ 是最小的合成封闭子集

***** 证明

[[MK14][同理]]可证

**** 可读性引理<<MK119>>

若 $\tau\in T$ 是[[MK117][项]]，那么以下两种情况有且仅有一种成立：

（1） $\tau=x_i\in X\lor\tau=c_i\in C$ 即是[[MK107][变元符号]]或[[MK108][常元符号]]

（2） $\tau=f_i(\tau_1,...,\tau_n)$ 其中 $\tau_i\in T,1\leq i\leq n$

***** 证明

显然（1），（2）不能同时成立

假设 $\tau$ 不是上述两种情况，根据[[MK118][最小引理]]可得 $T$ 是最小的合成封闭子集

则 $T-\{\tau\}$ 亦为合成封闭子集，与 $T$ 的最小引理矛盾，故假设不成立。

**** 括号对应引理<<MK120>>

任意 $\tau\in T$ 若有 $\tau[|\tau|]=)$ 则

（1） 任意 $\tau[i],i\ne|\tau|$ 与 $\tau[1]$ 之间的 $($ 的个数大于 $)$ 的个数

（2） 任意 $\tau[i],i\ne2$ 与 $\tau[|\tau|]$ 之间的 $($ 的个数小于 $)$ 的个数

（3） 有且仅有 $\tau[2]=($ 满足其间的 $($ 和 $)$ 个数相等

***** 证明

根据[[MK119][可读性]]易证左右括号成对出现。则根据以下证明， $\tau$ 为有限长度，以及数学归纳法可证

****** $2$ 对括号

此时根据[[MK119][可读性]]可知有且仅有 $\tau=f_u(\tau_1,....,\tau_n)$ 其中 $\tau_j=f_v(\tau_1,...,\tau_m)\land \forall i\ne j\rightarrow\tau_{i}\in X\cup C$ 的情况

则 $\tau[2],\tau[|\tau|]$ 之间有一对 $(,)$ 满足（1），$\tau_j[2]$ 与 $\tau[|\tau|]$ 间有 $1$ 个 $)$ ， $0$ 个 $($ 满足（2）

同理可证满足（3）

****** 归纳假设

假设对于任意括号对数小于 $n$ 大于 $2$ 的[[MK117][项]]均满足命题（1）（2）（3）

****** $n$ 对括号

显然根据[[MK119][可读性]]必有 $\tau=f_u(\tau_1,....,\tau_n)$ 形式

******* 证明（1）<<MK121>>

对于任意 $\tau[i]=(,i\ne2$ 显然必在 $\tau_i$ 中，设对应位置为 $\tau[j]$ 又根据[[MK119][可读性]]若 $\tau_i$ 包含 $($ 则 $\tau[|\tau|]=)$

显然 $\tau_i$ 括号对数小于 $n$ ，则根据归纳假设有 $\tau_i[j]$ 与 $\tau[|\tau|]$ 之间 $($ 个数 $h$ 小于 $)$ 个数 $k$ ，即 $h<k$

同理根据归纳假设对于任意 $\tau_z,i<z<n$ 有 $(,)$ 个数相等，设 $\tau_{i+1},...,\tau_n$ 里的括号对数为 $a$

则 $\tau_i[j]$ 与 $\tau[|\tau|]$ 间 $($ 的个数为 $\tau_i[j]$ 与 $\tau[|\tau|]$ 间 $($ 个数， $\tau_{i+1},...,\tau_n$ 中 $($ 个数，即 $h+a$

$\tau_i[j]$ 与 $\tau[|\tau|]$ 间 $)$ 的对数为为 $\tau_i[j]$ 与 $\tau[|\tau|]$ 间 $)$ 个数， $\tau_{i+1},...,\tau_n$ 中 $)$ 个数以及 $\tau_i[j]$ ，即 $k+1+a$

结合 $h<k$ 显然有 $h+a<k+1+a$ 即命题（1）成立

******* 证明（2）

与[[MK121][证明（1）]]类似可证

******* 证明（3）<<MK122>>

根据以上证明，不存在 $\tau[i],i\ne2$ 满足条件（3）

又由于 $\tau_i$ 括号对数小于 $n$ 根据归纳假设显然 $\tau_i$ 中 $($ 和 $)$ 个数相等，则显然t条件（3）成立

**** 前缀引理<<MK123>>

若 $\tau=<\tau_1,...,\tau_n>\in T$ 是[[MK117][项]]，那么其任意真前缀 $\tau_k=<\tau_1,...,\tau_k>,k<n$ 均有 $\tau_k\not\in T$

***** 证明

根据以下证明， $\tau$ 为有限长度，以及数学归纳法可证

****** 当 $|\tau|=1$ 时

根据[[MK119][可读性引理]]当 $\tau=c_i$ 或 $\tau=x_i$ 时其真前缀有且仅有空字符串，根据[[MK118][最小引理]]可得空串不属于 $T$

****** 归纳假设

对于任意 $|\tau|<n$ 其任意真前缀 $\tau_k$ 均有 $\tau_k\not\in T$

****** 当 $|\tau|=n$ 时

根据[[MK119][可读性引理]]仅有可能 $\tau=f_i(\tau_1,...,\tau_n)$ 显然 $f_1\not\in T$

若 $\tau_k=f_i(\tau'_1,...,\tau'_m)$ 则易证必有一对 $\tau'_i,\tau_i$ 满足一个为另一个的真前缀

显然 $|\tau_i|<n,|\tau'_i|<n$ 其任意真前缀均不属于 $T$ 则根据[[MK119][可读性]] $\tau_k,\tau$ 有一个不属于 $T$

又由于 $\tau\in T$ 为给定，故必有 $\tau_k\not\in T$

***** 推论<<MK124>>

若 $\tau\in T$ 是[[MK117][项]]，则任意 $\tau[i]=($ 则存在唯一 $\tau[j]=)\land j>i$ 满足 $<\tau[i-1],\tau[i],...,\tau[j]>\in T$

****** 证明

******* 唯一性

假设存在 $j'\ne j$ 满足 $<\tau[i-1],\tau[i],...,\tau[j']>\in T$

则显然 $<\tau[i-1],\tau[i],...,\tau[j]>$ 和 $<\tau[i-1],\tau[i],...,\tau[j']>$ 必定一个为另一个的真前缀

与[[MK123][前缀引理]]矛盾，故假设不成立

******* 存在性

根据[[MK119][可读性]]易证左右括号成对出现。根据以下证明， $|\tau|<\infty$ 以及数学归纳法可证存在性

******** 一对括号

显然有且仅有 $\tau=f_u(\tau_1,....,\tau_n)$ 其中 $\forall 1\leq i\leq n\rightarrow\tau_{i}\in X\cup C$ 情况

则对于唯一的 $\tau[2]=($ 存在 $k=\tau[|\tau|]$ 使得 $<\tau[1],\tau[2],...,\tau[|\tau|]>=\tau\in T$

******** 归纳假设

对于括号对数小与 $n$ 的 $\tau\in T$ 任意 $\tau[i]=($ 存在对应 $\tau[j]=)\land j>i$ 满足命题

******** $n$ 对括号时

若 $\tau$ 有 $n$ 对括号，则根据[[MK126][唯一可读]]有 $\tau=f_u(\tau_1,....,\tau_n),\tau_i\in T$ 形式，且唯一

显然 $\tau_i$ 中的括号对数小于等于 $n$ 即根据归纳假设 $\tau_i$ 中任意 $($ 均能在 $\tau_i$ 中找到唯一 $)$ 满足条件

对于 $\tau[2]=($ 存在 $\tau[|\tau|]=)$ 满足条件。

**** 后缀引理<<MK125>>

若 $\tau=<t_1,...,t_n>\in T$ 是[[MK117][项]]，那么其任意真后缀 $\tau_k=<t_k,...,t_n>,k<n$ 均有 $\tau_k\not\in T$

***** 证明

根据[[MK119][可读性]]任意含有括号的[[MK117][项]]有且仅有 $\tau=f_u(\tau_1,....,\tau_n),\tau_i\in T$ 形式

根据[[MK120][括号对应引理]]若 $k>2$ 则 $\tau_k$ 中不存在与 $\tau_k[|\tau_k|]=)$ 对应的 $($ 使其间 $($ 和 $)$ 相等

继续根据[[MK120][括号对应引理]]可得 $\tau_k\not\in T$

若 $k=1$ 则根据[[MK119][可读性]]不存在 $(\tau_1,...,\tau_n)$ 形式属于 $T$ ，即任意真后缀均不属于 $T$

***** 推论

若 $\tau\in T$ 是[[MK117][项]]，则任意 $\tau[j]=)$ 则存在唯一 $\tau[i]=(\land j>i$ 满足 $<\tau[i-1],\tau[i],...,\tau[j]>\in T$

****** 证明

根据[[MK125][后缀引理]]可用类似[[MK124][推论]]证明方法证明

**** 唯一可读性<<MK126>>

若 $\tau\in T$ 是[[MK117][项]]，那么以下两种情况有且仅有一种成立：

（1） 存在唯一的[[MK108][常元符号]] $c_i\in C$ 使得 $\tau=c_i$

（2） 存在唯一的[[MK107][变元符号]] $x_i\in X$ 使得 $\tau=x_i$

（3） 存在唯一[[MK109][函数符号]] $f_i\in F$ 以及唯一的一组 $<\tau_1,...,\tau_n>\in T^n$ 满足 $\tau=f_i(\tau_1,...,\tau_n)$

***** 证明

根据以下证明， $\tau$ 为有限长度，以及数学归纳法可证

****** 当 $|\tau|=1$ 时

根据[[MK119][可读性引理]]仅有 $\tau=c_i$ 或 $\tau=x_i$ ，又根据[[MK111][符号假定]]可得所有 $X,C$ 中元素均不同

故可得唯一

****** 归纳假设

对于任意 $|\tau|<n$ 唯一可读性成立

****** 当 $|\tau|=n$ 时<<MK127>>

根据[[MK119][可读性引理]]仅有可能 $\tau=f_i(\tau_1,...,\tau_n)$ 假设存在 $\tau'=f'_i(\tau'_1,...,\tau'_m)$ 满足：

（1） $\tau=\tau'$

（2） $f_i\ne f'_i$ 或存在 $i$ 使得 $\tau_i\ne\tau'_i$

则

（1） 根据[[MK111][符号假定]]若 $f'_i\ne f_i$ 则 $\tau[1]\ne\tau'[1]$ 继而与（1）矛盾，则有 $\tau'=f_i(\tau'_1,...,\tau'_m)$

（2） 若有 $\sum_{i=1}^n|\tau_i|\ne\sum_{i=1}^m|\tau'_i|$ 则有 $|\tau|\ne|\tau'|$ 显然有 $\tau\ne\tau'$

（3） 若 $m=n\land|\tau_i|=|\tau'_i|$ 则由于 $|\tau_i|<n$ 可得其形式唯一，可得 $\tau_i=\tau'_i$ 与 $\tau'$ 定义矛盾

（4） 若 $\sum_{i=1}^n|\tau_i|=\sum_{i=1}^m|\tau'_i|$ 且不满足（3），易证必存在一对 $\tau_i,\tau'_i$ 一个是另一个的真前缀

     根据[[MK123][前缀引理]]可得必有一个不属于 $T$ 进一步根据[[MK119][可读性]]易证 $\tau'\not\in T$

综上所述，当 $|\tau|=n$ 根据归纳假设，不存在 $\tau'$ 打破唯一性

*** 子项<<MK341>>

若 $\tau,\tau'$ 是[[MK117][项]]，若存在 $\left<\tau_1,...,\tau_n\right>$ 满足：

（1） $\tau_1=\tau,\tau_n=\tau'$

（2） 任意 $\tau_{i+1}$ 对于 $\tau_i$ 满足 $\tau_i=f_i(\tau^*_1,...,\tau^*_k)$ 且存在 $\tau^*_i=\tau_{i+1}$

则称 $\tau'$ 是 $\tau$ 的子项

**** 引理<<MK409>>

若 $\tau$ 是[[MK117][项]]，且 $\left<\tau[n],...,\tau[m]\right>\in T$ 亦为[[MK117][项]]，则 $\left<\tau[n],...,\tau[m]\right>$ 必是 $\tau$ 的[[MK341][子项]]

***** 证明

若 $n=1$ 则根据[[MK123][前缀引理]]可得对于任意 $m<|\tau|$ 均有 $\left<\tau[n],...,\tau[m]\right>\not\in T$ 则根据条件 $m=|\tau|$ 即有 $\tau=\tau'$

符合[[MK341][子项]]定义。

若 $n>1$ ，根据[[MK124][推论]]可得 $\tau$ 中 $($ 和 $)$ 个数相等，则定义 $z(\tau)$ 为 $\tau$ 中 $($ 和 $)$ 的对数

根据 $|\tau|<\infty$ 可得 $z(\tau)<\infty$ ，又根据数学归纳法以及下列证明可得结论

****** $z(\tau)=1$

此时 $\tau=f(\tau_1,...,\tau_k)$ 且 $\tau_i=c_i$ 或 $\tau_i=x_i$ ，根据[[MK126][唯一可读]]若 $\tau[n]=($ 或 $\tau[n]=,\a$

均可得 $\left<\tau[n],...,\tau[m]\right>\not\in T$ ，故必有 $\tau[n]=x_i$ 或 $\tau[n]=c_i$ 。

进一步可得存在 $1\leq i\leq k$ 满足 $\tau[n]=\tau_i$ 显然对于任意 $m\ne n$ 均有 $\left<\tau[n],...,\tau[m]\right>\not\in T$

故数组 $\left<\tau,\tau'\right>$ 满足[[MK341][子项]]要求

****** 归纳假设

对于任意 $z(\tau)<N$ 满足 $\tau$ 是[[MK117][项]]，且 $\left<\tau[n],...,\tau[m]\right>=\tau'$ 亦为[[MK117][项]]，有 $\tau'$ 必是 $\tau$ 的[[MK341][子项]] 

****** $z(\tau)=N$

根据[[MK126][唯一可读]]有 $\tau=f(\tau_1,...,\tau_k)$ 同理可得 $\tau[n]\ne($ 且 $\tau[n]\ne,\a$ 故必存在 $\tau_i$ 满足 $\tau[n]$ 位于 $\tau_i$ 中

假设存在 $j>i$ 满足 $\tau[m]$ 位于 $\tau_j$ 中，则根据[[MK126][唯一可读]]有 $\left<\tau[n],...,\tau[m]\right>$ 有 $f'(\tau'_1,...,\tau'_n)$ 形式

由于 $\tau_i$ 亦为[[MK117][项]]，故根据[[MK126][唯一可读]] $\tau_i[|\tau_i|]\ne f'$ ，则必有 $\tau[n+1]=($ 亦位于 $\tau_i$ 之中

则根据[[MK124][推论]]存在 $m'$ 满足 $\left<\tau[n],...,\tau[m']\right>\in T$ 且 $\tau[m']$ 位于 $\tau_i$ 之中

显然由于 $m$ 位于 $\tau_j$ 中，故可得 $\left<\tau[n],...,\tau[m']\right>$ 是 $\left<\tau[n],...,\tau[m]\right>$ 的真前缀

根据[[MK123][前缀引理]]可得 $\left<\tau[n],...,\tau[m']\right>\not\in T$ 故矛盾，假设不成立

则可得若 $\tau[n]$ 位于 $\tau_i$ 中，且 $\tau[m]$ 亦位于 $\tau_i$ 中。

由于 $\tau_i$ 亦为[[MK117][项]]且显然 $z(\tau_i)<N$ 故根据归纳假设可得 $\left<\tau[n],...,\tau[m]\right>$ 是 $\tau_i$ 的[[MK341][子项]]

则有 $\left<\tau'_1,...,\tau'_z\right>$ 满足 $\tau'_1=\tau_i,\tau'_z=\left<\tau[n],...,\tau[m]\right>$ 即有 $\left<\tau,\tau'_1,...,\tau'_z\right>$ 亦满足[[MK341][子项]]条件

故可得 $\left<\tau[n],...,\tau[m]\right>$ 是 $\tau$ 的[[MK341][子项]]

*** 表达式<<MK129>>

给定 $\Sigma^*$ 期[[MK117][项]]集为 $T$ ，定义表达式封闭子集 $L\subset\Sigma^*$ 为满足以下五个条件的集合：

（1） 若 $\tau_1\in T\land\tau_2\in T$ 则 $(\tau_1\hat{=}\tau_2)$

（2） 若 $\tau_i\in T,1\leq i\leq n$ 且 $p_i\in P,\pi_P(p_i)=n$ 则 $p_i(\tau_1,...,\tau_n)\in L$

（3） 若 $\phi\in L$ 则 $(\lnot\phi)\in L$

（4） 若 $\phi_1\in L\land\phi_2\in L$ 则 $(\phi_1\to\phi_2)\in L$

（5） 若 $\phi\in L$ 则 $(\forall x_i\phi)\in L$ ，其中 $x_i\in X$ 是[[MK107][变元]]

进一步定义 $\mathcal{L}=\bigcap L$ 即所有表达式封闭子集的交，则 $\mathcal{L}$ 中的元素为表达式

进一步定义（1）（2）为原始表达式，（3）（4）（5）为递归表达式

定义 $\phi(x_1,...,x_n)$ 为表达式 $\phi$ 中的[[MK140][自由变元]]均在 $x_1,...,x_n$ 中

为方便表述，定义 $\phi[n]$ 为表达式 $\phi$ 的第 $n$ 个[[MK105][符号]]，定义 $\phi[n:m]=\left<\phi[n],...,\phi[m]\right>,1\leq n\leq m\leq |\phi|$

*注：表达式集合亦可为不[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，以下所有需要用到不可数[[MK151][语言]]的情况均会作出说明*

**** 相等<<MK130>>

对于任意 $\phi_1\in\mathcal{L},\phi_2\in\mathcal{L}$ 若满足 $|\phi_1|=|\phi_2|\land\forall i<|\phi_1|\rightarrow \phi_1[i]=\phi_2[i]$

则称表达式 $\phi_1,\phi_2$ 相等

**** 最小引理<<MK131>>

$\mathcal{L}$ 是最小的表达式封闭集合

***** 证明

[[MK14][同理]]可证

**** 可读性引理<<MK132>>

若 $\phi\in\mathcal{L}$ 是[[MK129][表达式]]，那么以下五种情况有且仅有一种成立：

（1） 存在 $\tau_1\in T\land\tau_2\in T$ 使得 $\phi=(\tau_1\hat{=}\tau_2)$

（2） 存在 $\tau_i\in T,1\leq i\leq n$ 以及 $p_i\in P,\pi_P(p_i)=n$ 使得 $\phi=p_i(\tau_1,...,\tau_n)$

（3） 存在 $\psi\in\mathcal{L}$ 使得 $\phi=(\lnot\psi)$

（4） 存在 $\psi_1\in\mathcal{L}\land\psi_2\in\mathcal{L}$ 使得 $\phi=(\psi_1\to\psi_2)$

（5） 存在 $\psi\in\mathcal{L}$ 使得 $\phi=(\forall x_i\psi)$ ，其中 $x_i\in X$ 是[[MK107][变元]]

***** 证明

****** 互斥

对于任意 $\phi\in\mathcal{L}$

a. 若为（2）则 $\phi[1]=p_i$ 与其他h种冲突

b. 若为情况（5）则 $\phi[2]=\forall$ 与（1）（3）（4）冲突

c. 若为情况（3）则 $\phi[2]=\lnot$ 与（1）（4）冲突

d. 若为情况（4）则 $\phi$ 中包含 $\to$ 与（1）冲突

综上所述，五种情况最多只能有其中一种成立

****** 必然有一种成立

定义 $L$ 为仅包含上述五中情况元素的集合

根据[[MK129][表达式封闭集合]]定义可知，对于任意表达式封闭集合 $L'$ 有 $L\subset L'$ ，则根据 $\mathcal{L}$ 定义有 $L\subset\mathcal{L}$

同理根据定义可知 $L$ 是表达式封闭集合，则根据[[MK131][最小引理]]有 $\mathcal{L}\subset L$ ，故根据[[~/文档/note/离散数学/lssx.org::MK16][自反性]]有 $L=\mathcal{L}$

**** 括号对应引理<<MK133>>

任意 $\phi\in\mathcal{L}$ 有

（1） $\phi[|\phi|]=)$ 且 $\phi[2]=($ 或 $\phi[1]=($ 有且仅有一种成立，定义 $k\in\{1,2\}$ 满足 $\phi[k]=($

（2） 任意 $\phi[i],i\ne|\phi|$ 与 $\phi[k]$ 之间的 $($ 的个数大于 $)$ 的个数

（3） 任意 $\phi[i],i\ne2$ 与 $\phi[|\phi|]$ 之间的 $($ 的个数小于 $)$ 的个数

（4） 有且仅有 $\phi[|\phi|]$ 和 $\phi[k]$ 之间的 $($ 和 $)$ 个数相等

***** 证明

****** 证明（1）

根据[[MK132][可读性]]可得任意 $\phi\in\mathcal{L}$ 均有 $\phi[|\phi|]=)$ ，且要么 $\phi[2]=($ 要么 $\phi[1]=($ 

****** 证明其他<<MK134>>

对于任意 $\phi\in\mathcal{L}$ ，定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

则根据以下证明， $\phi$ 为有限长度，以及数学归纳法可证

******* $z(\phi)\leq 3$ 时

根据[[MK132][可读性]]有且仅有 $(\lnot\psi),(\psi_1\to\psi_2),(\forall x_i\psi)$ 形式

其中 $\psi,\psi_1,\psi_2$ 均为 $(\tau_1\hat{=}\tau_2),p_i(\tau_1,...,\tau_n)$ 形式， $\tau_i\in T$ 是[[MK117][项]]

根据项的[[MK120][括号对应原理]]易证命题（2）（3）（4）成立

******* 归纳假设

对于任意 $3<z(\phi)<n$ 均有命题（2）（3）（4）成立

******* $z(\phi)=n$ 时

根据[[MK132][可读性]]结合之前[[MK121][证明方法]]易证命题（2）和命题（3），[[MK122][同理可证]]命题（4）

**** 前缀引理<<MK135>>

若 $\phi=<\phi_1,...,\phi_n>\in\mathcal{L}$ 是[[MK129][表达式]]，那么其任意真前缀 $\phi_k=<\phi_1,...,\phi_k>,k<n$ 均有 $\phi_k\not\in\mathcal{L}$

***** 证明

任意 $\phi\in\mathcal{L}$ 根据[[MK133][括号对应引理]]要么 $\phi[2]=($ 要么 $\phi[1]=($ ，定义 $z\in\{1,2\}$ 满足 $\phi[z]=($

则对于任意真前缀 $\phi_k$ 若 $\phi_k[|\phi_k|]\ne)$ 则根据[[MK133][括号对应引理]]（1）得 $\phi_k\not\in T$

若 $\phi_k[|\phi_k|]=)$ 则根据[[MK133][括号对应引理]]（2） $\phi_k[z],\phi_k[|\phi_k|]$ 之间的 $($ 的个数大于 $)$ 的个数

则又根据[[MK133][括号对应引理]]（4）可得 $\phi_k\not\in T$

***** 推论<<MK136>>

若 $\phi=<\phi_1,...,\phi_n>\in\mathcal{L}$ 是[[MK129][表达式]]，则对于任意不在[[MK117][项]]中的 $\phi[i]=($ 存在唯一 $j>i$ 使以下两项有且仅有一项成立

（1） $<\phi[i],...,\phi[j]>\in\mathcal{L}$

（2） $<\phi[i-1],\phi[i],...,\phi[j]>\in\mathcal{L}$

****** 证明

******* （1）（2）互斥

假设对于 $\phi[i]=($ 存在 $\phi[k_1]=)$ 满足（1）， $\phi[k_2]=)$ 满足（2）

根据[[MK132][可读性]]显然 $<\phi[i-1],\phi[i],...,\phi[k_2]>$ 有 $p_i(\tau_1,...,\tau_n)$ 形式，则 $<\phi[i],...,\phi[k_2]>$ 中不包含 $\hat{=},\forall,\to,\lnot$ 

若 $k_1\leq k_2$ 根据[[MK132][可读性]] $<\phi[i],...,\phi[k_2]>$ 中必包含 $\hat{=},\forall,\to,\lnot$ 中至少一个，矛盾

若 $k_1>k_2$ 则根据[[MK133][括号对应引理]]可得 $\phi[i],\phi[k_1]$ 之间 $($ 的个数大于 $)$ 的个数

又根据[[MK133][括号对应引理]]可得任意 $\psi\in\mathcal{L}$ 均有最左最右括号对应，故 $<\phi[i],...,\phi[k_2]>\not\in\mathcal{L}$ 矛盾

综上所述，假设不成立

******* 唯一性

假设存在 $k_1\ne k_2$ 满足 $<\phi[i],...,\phi[k_1]>\in\mathcal{L},<\phi[i],...,\phi[k_2]>\in\mathcal{L}$

则一个必为另一个真前缀，故与[[MK135][前缀引理]]矛盾，故假设不成立

同理可证不存在 $k_1\ne k_2$ 满足 $<\phi[i-1],\phi[i],...,\phi[k_1]>\in\mathcal{L},<\phi[i-1],\phi[i],...,\phi[k_2]>\in\mathcal{L}$

******* 存在性

对于任意 $\phi\in\mathcal{L}$ ，定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

根据以下证明，$|\phi|<\infty$ 以及数学归纳法可证存在性

******** $z(\phi)=1$ 时

根据[[MK132][可读性]]有且仅有 $\phi=(\tau_1\hat{=}\tau_2)$ 和 $\phi=p_i(\tau_1,...,\tau_n)$ 形式

则对于唯一不在[[MK117][项]]中的 $\phi[1]=($ 或 $\phi[2]=($ 存在 $\phi[|\phi|]=)$ 满足命题

******** 归纳假设

对于任意 $z(\phi)<n$ 均存在对应 $)$ 使得 $<\phi[i],...,\phi[j]>\in\mathcal{L}$ 或 $<\phi[i-1],\phi[i],...,\phi[j]>\in\mathcal{L}$

******** $z(\phi)=n$ 时

根据[[MK132][可读性]]有且仅有 $\phi=(\lnot\psi),\phi=(\psi_1\to\psi_2),\phi=(\forall x_i\psi)$ 三种情况

显然 $z(\psi)<n,z(\psi_1)<n,z(\psi_2)<n$

则根据归纳假设对于任意 $\psi,\psi_1,\psi_2$ 内且不在[[MK117][项]]中的 $($ 均存在 $\psi,\psi_1,\psi_2$ 中存在 $)$

使得 $<\phi[i],...,\phi[j]>\in\mathcal{L}$ 或 $<\phi[i-1],\phi[i],...,\phi[j]>\in\mathcal{L}$

又对于唯一不在 $\psi,\psi_1,\psi_2$ 的 $\phi[1]=($ 有 $\phi[|\phi|]=)$

使得 $<\phi[i],...,\phi[j]>\in\mathcal{L}$ 或 $<\phi[i-1],\phi[i],...,\phi[j]>\in\mathcal{L}$

**** 唯一可读性<<MK137>>

若 $\phi\in\mathcal{L}$ 是[[MK129][表达式]]，那么以下五种情况有且仅有一种成立：

（1） 存在唯一 $\tau_1\in T\land\tau_2\in T$ 使得 $\phi=(\tau_1\hat{=}\tau_2)$

（2） 存在唯一 $\tau_i\in T,1\leq i\leq n$ 以及 $p_i\in P,\pi_P(p_i)=n$ 使得 $\phi=p_i(\tau_1,...,\tau_n)$

（3） 存在唯一 $\psi\in\mathcal{L}$ 使得 $\phi=(\lnot\psi)$

（4） 存在唯一 $\psi_1\in\mathcal{L}\land\psi_2\in\mathcal{L}$ 使得 $\phi=(\psi_1\to\psi_2)$

（5） 存在唯一 $\psi\in\mathcal{L}$ 使得 $\phi=(\forall x_i\psi)$ ，其中 $x_i\in X$ 是[[MK107][变元]]

***** 证明

对于任意 $\phi\in\mathcal{L}$ ，定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

根据以下证明， $\phi$ 为有限长度，以及数学归纳法可证

****** $z(\phi)=1$ 时

根据[[MK132][可读性]]原理有且仅有 $(\tau_1\hat{=}\tau_2),p_i(\tau_1,...,\tau_n)$ 两种形式，根据[[MK127][之前证明]]类似可证唯一性

****** 归纳假设

对于任意 $1<z(\phi)\leq n$ 唯一性均成立

****** $z(\phi)=n$ 时

根据[[MK132][可读性]]原理有且仅有以下情况

******* $\phi=(\lnot\psi)$ 时<<MK138>>

假设不唯一，即存在 $\psi'$ 满足 $\phi=(\lnot\psi')$ 以及以下任意一项：

（1） $|\psi'|\ne|\psi|$

（2） 存在 $i$ 使得 $\psi[i]\ne\psi'[i]$

（3） $\psi',\psi$ 可解析为[[MK132][可读性]]中不同情况

（4） $\psi',\psi$ 只能解析为[[MK132][可读性]]中同一情况，但组成该情况的子[[MK117][项]]和[[MK129][表达式]]不同

根据[[MK135][前缀引理]]与[[MK130][相等]]易证（1）（2）不成立，故有 $\psi=\psi'$

则（3）若成立，同一表达式可有不同情况表述，与[[MK132][可读性]]矛盾，故（3）不成立

又由于 $z(\phi)=n$ 则必有 $z(\psi)=z(\psi')=n-1$

则根据归纳假设，组成该形式的[[MK117][项]]和[[MK129][表达式]]唯一，故（4）不成立

******* $\phi=(\forall x_i\psi)$ 时

上一步同理可证

******* $\phi=(\psi_1\to\psi_2)$ 时

假设不唯一，则存在 $\psi'_1,\psi'_2$ 满足 $\phi=(\psi'_1\to\psi'_2)$ 以及以下任意一项（定义 $\psi=\psi_1\to\psi_2,\psi'=\psi'_1\to\psi'_2$ ）

（1） $|\psi'|\ne|\psi|$

（2） 存在 $i$ 使得 $\psi[i]\ne\psi'[i]$

（3） $\psi'_1$ 与 $\psi_1$ 或 $\psi'_2$ 与 $\psi_2$ 可解析为[[MK132][可读性]]中不同情况

（4） $\psi'_1$ 与 $\psi_1$ 或 $\psi'_2$ 与 $\psi_2$ 只能解析为[[MK132][可读性]]中同一情况，但组成该情况的子[[MK117][项]]和[[MK129][表达式]]不同

[[MK138][同理]]根据[[MK135][前缀引理]]与[[MK130][相等]]易证（1）（2）不成立，即 $\psi=\psi'$

再根据[[MK135][前缀引理]]可得若 $|\psi_1|\ne|\psi'_1|$ 则一个必为另一个真前缀，即必有一个不属于 $\mathcal{L}$ 故必有 $|\psi_1|=|\psi'_1|$

又根据 $\psi=\psi'$ 可推出 $|\psi_2|=|\psi'_2|$ [[MK130][同理]]结合归纳假设易证（3）（4）不成立

*** 子表达式<<MK139>>

若 $\phi\in\mathcal{L},\psi\in\mathcal{L}$ 是[[MK129][表达式]]，若存在 $\left<\phi_1,...,\phi_n\right>$ 满足：

（1） $\phi_1=\phi,\phi_n=\psi$

（2） 任意 $\phi_{i+1}$ 对于 $\phi_i$ 满足以下三种情况有且只有一种成立：

     （a） $\phi_i=(\lnot\phi_{i+1})$

     （b） $\phi_i=(\psi_1\to\psi_2)$ 其中 $\psi_1,\psi_2$ 至少有一个等于 $\phi_{i+1}$

     （c） $\phi_i=(\forall x_k\phi_{i+1})$

则称 $\psi$ 是 $\phi$ 的子表达式， $\left<\phi_1,...,\phi_n\right>$ 是 $\phi$ 到 $\psi$ 的子表达式链

**** 引理<<MK408>>

若 $\phi\in\mathcal{L}$ 是[[MK129][表达式]]，且 $\left<\phi[n],...,\phi[m]\right>\in \mathcal{L}$ 亦是[[MK129][表达式]]，则 $\left<\phi[n],...,\phi[m]\right>$ 必是 $\phi$ 的[[MK139][子表达式]]

***** 证明

对于任意 $\phi\in\mathcal{L}$ ，定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

****** $z(\phi)=1$

根据[[MK132][可读性]]有且仅有 $\phi=(\tau_1\hat{=}\tau_2),\phi=p_i(\tau_1,...,\tau_n)$

又根据[[MK137][唯一可读]]易证必有 $\phi=\left<\phi[n],...,\phi[m]\right>$ ，显然 $\phi$ 是自身的[[MK139][子表达式]]

****** 归纳假设

对于任意 $z(\phi)<N$ 满足 $\phi$ 是[[MK129][表达式]]，且 $\left<\phi[n],...,\phi[m]\right>\in \mathcal{L}$ 亦是[[MK129][表达式]]

有 $\left<\phi[n],...,\phi[m]\right>$ 必是 $\phi$ 的[[MK139][子表达式]]

****** $z(\phi)=N$

根据[[MK137][唯一可读]]有且仅有以下情况

******* $\phi=(\lnot\psi)$

根据[[MK137][唯一可读]]可得 $\phi[n]\ne\lnot$ 故 $n\ne 2$

若 $n=1$ 则根据[[MK135][前缀引理]]可证任意 $m<|\phi|$ 均有 $\left<\phi[n],...,\phi[m]\right>\not\in\mathcal{L}$

故有 $\phi=\left<\phi[n],...,\phi[m]\right>$ ，显然 $\phi$ 是自身的[[MK139][子表达式]]

若 $n>2$ 由于 $\left<\phi[n],...,\phi[m]\right>\in \mathcal{L}$ 根据[[MK137][唯一可读]]必有 $\phi[n]=($ 或 $\phi[n]=p_i,\phi[n+1]=($

根据[[MK137][唯一可读]]显然 $\psi[|\psi|]\ne p_i,\psi[|\psi|]\ne($ 故 $\phi[n]$ 必位于 $\psi$ 内

且若 $\phi[n+1]=($ 亦有 $\phi[n+1]$ 必落在 $\psi$ 内，由于 $\psi$ 亦是[[MK129][表达式]]

故根据[[MK136][推论]]可得存在唯一 $\phi[m']=)$ 位于 $\psi$ 内满足 $\left<\phi[n],...,\phi[m']\right>\in\mathcal{L}$ 且 $\left<\phi[n],...,\phi[|\phi|]\right>\not\in\mathcal{L}$ 

故必有 $m=m'$ 位于 $\psi$ 内，则根据归纳假设 $\left<\phi[n],...,\phi[m]\right>$ 是 $\psi$ 的[[MK139][子表达式]]

即存在 $\left<\phi_1,...,\phi_k\right>$ 满足[[MK139][子表达式]]条件及 $\phi_1=\psi,\phi_k=\left<\phi[n],...,\phi[m]\right>$

则 $\left<\phi,\phi_1,...,\phi_k\right>$ 亦满足[[MK139][子表达式]]，即 $\left<\phi[n],...,\phi[m]\right>$ 是 $\phi$ 的[[MK139][子表达式]]

******* $\phi=(\forall x_i\psi)$

上一步同理可证 $\left<\phi[n],...,\phi[m]\right>$ 是 $\phi$ 的[[MK139][子表达式]]

******* $\phi=(\psi_1\to\psi_2)$

若 $n=1$ 则根据[[MK135][前缀引理]]可证任意 $m<|\phi|$ 均有 $\left<\phi[n],...,\phi[m]\right>\not\in\mathcal{L}$

故有 $\phi=\left<\phi[n],...,\phi[m]\right>$ ，显然 $\phi$ 是自身的[[MK139][子表达式]]

若 $n>2$ 根据[[MK137][唯一可读]]必有 $\phi[n]\ne\to,\phi[n]\ne)$ 故 $\phi[n]$ 必位于 $\psi_1$ 或 $\psi_2$ 中

若 $\phi[n]$ 位于 $\psi_2$ 中，则上一步同理可证，若 $\phi[n]$ 位于 $\psi_1$ 中，假设 $\phi[m]$ 位于 $\psi_1$ 外

根据[[MK137][唯一可读]]必有 $\phi[n]=($ 或 $\phi[n]=p_i,\phi[n+1]=($

根据[[MK137][唯一可读]]显然 $\psi_1[|\psi_1|]\ne p_i,\psi_1[|\psi_1|]\ne($ 故若 $\phi[n+1]=($ 亦有 $\phi[n+1]$ 必落在 $\psi_1$ 内

由于 $\psi_1$ 亦是[[MK129][表达式]]，故根据[[MK136][推论]]可得存在唯一 $\phi[m']=)$ 位于 $\psi_1$ 内满足 $\left<\phi[n],...,\phi[m']\right>\in\mathcal{L}$

又由于 $\phi[m]$ 位于 $\psi_1$ 外，故显然 $m\ne m'$ 则 $\left<\phi[n],...,\phi[m]\right>\in\mathcal{L}$ 显然与 $m'$ 唯一性矛盾

故假设不成立，即 $\phi[m]$ 必定位于 $\psi_1$ 中，则根据上一步同理可证 $\left<\phi[n],...,\phi[m]\right>$ 是 $\phi$ 的[[MK139][子表达式]]

*** 自由变元与受限变元<<MK140>>

[[MK107][变元符号]] $x_i$ 是[[MK129][表达式]] $\phi\in\mathcal{L}$ 的自由变元当且仅当 $x_i$ 在 $\phi$ 存在[[MK141][自由出现]]

[[MK107][变元符号]] $x_i$ 是[[MK129][表达式]] $\phi\in\mathcal{L}$ 的受限变元 $x_i$ 在 $\phi$ 中的所有出现均为[[MK141][受限出现]]

定义 $\phi(x_1,...,x_n)$ 表示[[MK129][表达式]]为 $\phi\in\mathcal{L}$ 且 $x_1,...,x_n$ 在 $\phi$ 中[[MK141][自由出现]]

**** 自由出现与受限出现<<MK141>>

若[[MK107][变元符号]] $x_i$ 在[[MK129][表达式]] $\phi\in\mathcal{L}$ 中出现 $\phi[i]=x_i$ 则

（1） 若存在[[MK142][量词辖域]] $\psi=\left<\phi[u],...,\phi[v]\right>$ 满足 $i\ne u-1\land\phi[u-1]=x_i\land u\leq i\leq v$

     则称 $x_i$ 在 $\phi[i]$ 处受限出现

（2） 若不存在[[MK142][量词辖域]]满足条件（1），则称 $x_i$ 在 $\phi[i]$ 处自由出现

**** 量词辖域<<MK142>>

任意[[MK129][表达式]] $\phi\in\mathcal{L}$ 中若 $\psi=\left<\phi[i+2],...,\phi[k-1]\right>$ 是 $x_i$ 的量词辖域，则

（1） $\phi[i]=\forall\land\phi[i+1]=x_i$

（2） $\phi[k]=)\land k> i+1$ 满足 $<\phi[i-1],\phi[i],...,\phi[k]>=(\forall x_i\psi)\in\mathcal{L}$

根据[[MK143][量词引理]]可得任意 $\phi$ 中的量词 $\forall$ 均有其对应的[[MK107][变元符号]] $x_i$ 以及辖域

**** 量词引理<<MK143>>

任意[[MK129][表达式]] $\phi\in\mathcal{L}$ 若 $\left<\phi[p],\phi[p+1]\right>=\left<\forall,x_i\right>$ 则：

（1） $\phi[p-1]=($

（2） 存在唯一 $\phi[q]=)\land q> i+1$ 满足 $\left<\phi[p-1],\phi[p],...,\phi[q]\right>=(\forall x_i\psi)\in\mathcal{L}$

（3） $\left<\phi[p-1],\phi[p],...,\phi[q]\right>$ 是 $\phi$ 的[[MK139][子表达式]]

***** 证明

定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数，则根据以下证明， $|\phi|<\infty$ 以及数学归纳法

可得对于任意 $\phi\in\mathcal{L}$ 若 $\left<\phi[p],\phi[p+1]\right>=\left<\forall,x_i\right>$ 则均有结论（1）（2）（3）成立

****** $z(\phi)\leq 3$ 时<<MK381>>

根据[[MK132][可读性]]有且仅有 $(\lnot\psi),(\psi_1\to\psi_2),(\forall x_i\psi)$ 形式，其中 $\psi,\psi_1,\psi_2$ 均为 $(\tau_1\hat{=}\tau_2),p_i(\tau_1,...,\tau_n)$ 形式

显然当且仅当 $\phi=(\forall x_i\psi)$ 时有 $\left<\phi[2],\phi[3]\right>=\left<\forall, x_i\right>$ 则

（1） $\phi[2-1]=\phi[1]=($

（2） 仅有 $k=|\phi|$ 满足 $\phi=\left<\phi[1],...,\phi[|\phi|]\right>\in\mathcal{L}$

（3） $\phi$ 是自身的[[MK139][子表达式]]

****** 归纳假设

对于任意 $\phi\in\mathcal{L}$ 若有 $z(\phi)<n$ 则对于任意 $\left<\phi[p],\phi[p+1]\right>=\left<\forall,x_i\right>$ 均有

（1） $\phi[p-1]=($

（2） 存在唯一 $\phi[q]=)\land q> i+1$ 满足 $\left<\phi[p-1],\phi[p],...,\phi[q]\right>=(\forall x_i\psi)\in\mathcal{L}$

（3） $\left<\phi[p-1],\phi[p],...,\phi[q]\right>$ 是 $\phi$ 的[[MK139][子表达式]]

****** $z(\phi)=n$ 时

根据[[MK132][可读性]]有且仅有以下情况

******* $\phi=(\lnot\psi)$ 时<<MK382>>

若存在 $\left<\phi[p],\phi[p+1]\right>=\left<\forall,x_i\right>$ ，则有 $\left<\psi[p+2],\psi[p+1+2]\right>=\left<\forall,x_i\right>$ 

显然 $z(\psi)<n$ 故根据归纳假设：

（1） $\psi[p+2-1]=($ 故有 $\phi[p-1]=\psi[p+2-1]=($

（2） 存在唯一 $\psi[q]=)$ 满足 $\left<\psi[p+2-1],\psi[p+2],...,\psi[q]\right>=(\forall x_i\psi)\in\mathcal{L}$ 。不在 $\psi$ 中的 $)$

     由于符号有且仅有 $\phi[|\phi|]$ 且于任意 $z>1$ 均有 $\left<\phi[z],...,\phi[|\phi|]\right>\not\in\mathcal{L}$ 故 $\phi$ 中仅有 $\phi[q-2]=)$

     满足 $\left<\phi[p-1],\phi[p],...,\phi[q-2]\right>=(\forall x_i\psi)\in\mathcal{L}$

（3） $\left<\psi[p+2-1],\psi[p],...,\psi[q]\right>$ 是 $\psi$ 的[[MK139][子表达式]]，故有[[MK139][子表达式链]] $\left<\psi_1,...,\psi_p\right>$

     显然 $\left<\phi,\psi_1,...,\psi_p\right>$ 是 $\phi$ 到 $\left<\psi[p+2-1],\psi[p],...,\psi[q]\right>$ 的[[MK139][子表达式链]]

******* $\phi=(\psi_1\to\psi_2)$ 时

若存在 $\left<\phi[p],\phi[p+1]\right>=\left<\forall,x_i\right>$ ，则必有 $\left<\psi_1[p+1],\psi_1[p+1+1]\right>=\left<\forall,x_i\right>$

或 $\left<\psi_1[p+2+|\psi_1|],\psi_1[p+1+2+|\psi_1|]\right>=\left<\forall,x_i\right>$ 有且仅有一个成立

任意一个成立都可根据[[MK382][上一步证明]]同理证得结论（1）（2）（3）

******* $\phi=(\forall x_i\psi)$ 时

若存在 $\left<\phi[p],\phi[p+1]\right>=\left<\forall,x_i\right>$ ，若 $p=2$ 则根据[[MK381][之前证明]]同理可证

若 $i\ne 2$ 则有 $\left<\psi[p+3],\psi[p+1+3]\right>=\left<\forall,x_i\right>$ 同样根据[[MK382][之前证明]]同理可证

*** 语句<<MK144>>

任意[[MK129][表达式]] $\phi\in\mathcal{L}$ 中的所有[[MK107][变元符号]]均为[[MK140][受限变元]]，则 $\phi$ 称为语句

*** 替换

**** 自由替换<<MK145>>

对于任意 $\phi\in\mathcal{L}$ 是[[MK129][表达式]]，则定义 $\phi(\left<x_1,...,x_n\right>,\left<\tau_1,...,\tau_n\right>)$ 将项 $\phi$ 中每一个[[MK141][自由出现]]的 $x_i,1\leq i\leq n$

都有 $\tau_i$ 替换后所得的字符串，根据[[MK146][项替换]]可得 $\phi(\left<x_1,...,x_n\right>,\left<\tau_1,...,\tau_n\right>)\in\mathcal{L}$

**** 受限替换<<MK147>>

对于任意 $\phi\in\mathcal{L}$ 是[[MK129][表达式]]，则定义 $\phi(\left<x_1,...,x_n\right>\simeq\left<\tau_1,...,\tau_n\right>)$ 将项 $\phi$ 中每一个[[MK141][受限出现]]以及[[MK106][量词符号]]

的 $x_i,1\leq i\leq n$ 都由 $\tau_i$ 替换后所得的字符串，根据[[MK137][唯一可读]]可得[[MK106][量词符号]]出现的唯一场景为形式 $(\forall x_i\psi)$

结合[[MK146][项替换]]易证 $\phi(\left<x_1,...,x_n\right>\simeq\left<\tau_1,...,\tau_n\right>)\in\mathcal{L}$

**** 全替换<<MK411>>

对于任意 $\phi\in\mathcal{L}$ 是[[MK129][表达式]]， $\{\tau_1,...,\tau_n,\tau'_1,...,\tau'_n\}\in T$ 是[[MK117][项]]。则定义 $\phi(\left<\tau_1,...,\tau_n\right>\cong\left<\tau'_1,...,\tau'_n\right>)$

是将 $\phi$ 中所有出现的 $\tau_i$ 替换为 $\tau'_i$ 后的字符串，根据[[MK146][项替换]]可得 $\phi(\left<x_1,...,x_n\right>,\left<\tau_1,...,\tau_n\right>)\in\mathcal{L}$

**** 可替换<<MK150>>

任意[[MK129][表达式]] $\phi\in\mathcal{L}$ 若满足 $\left<\phi[n],...,\phi[m]\right>=\tau$ 是[[MK117][项]]，则对于任意[[MK117][项]] $\tau'\in T$

定义 $\phi'$ 为将 $\phi[n:m]$ 替换为 $\tau'$ 的[[MK115][符号串]]，根据[[MK146][替换引理]]可得 $\phi'$ 仍是[[MK129][表达式]]

若 $\phi'$ 满足 $\phi'[n]$ 到 $\phi'[n+|\tau'|-1]$ 间不含[[MK140][受限变元]]，则称 $\tau'$ 可替换 $\phi[n:m]$ 处的 $\tau$

若 $\tau'$ 对于 $\phi$ 中任意位置[[MK141][自由出现]]的 $\tau$ 均可替换，则称 $\phi$ 中 $\tau'$ 可替换 $\tau$

**** [[MK341][子项]]替换引理<<MK410>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有 $\tau_1,\tau_2,\tau_3$ 均为[[MK117][项]]，且有 $\tau_1$ 是 $\tau_2$ 的[[MK341][子项]]，定义 $\tau'$ 是将 $\tau_2$ 中任意 $1$ 个为 $\tau_1$ 的[[MK341][子项]]

替换为 $\tau_3$ 后的[[MK115][基本符号串]]，则 $\tau'$ 仍为 $\mathcal{L}_\mathcal{A}$ 的[[MK117][项]]

***** 证明

根据[[MK341][定义]]存在 $\left<\tau'_1,...,\tau'_n\right>$ 满足 $\tau'_1=\tau_2,\tau'_n=\tau_1$ ，则根据 $n<\infty$ ，下列证明以及数学归纳法可证

****** $n=1$

则有 $\tau_2=\tau_1$ 则替换后有 $\tau'=\tau_3$ 由于 $\tau_3$ 是[[MK117][项]]，故 $\tau'$ 是[[MK117][项]]

****** 归纳假设

对于任意 $n<N$ 均有 $\tau'$ 是[[MK117][项]]

****** $n=N$

根据[[MK126][唯一可读]] $\tau_2$ 必有 $f(\tau^*_1,...,\tau^*_m)$ 形式，其中 $\tau^*_i$ 均为[[MK117][项]]。且有 $\left<\tau'_1,...,\tau'_n\right>$

即 $\tau'_1=f(\tau^*_1,...,\tau^*_m)$ 根据[[MK341][子项定义]]至少有一个 $\tau^*_i=\tau'_2$

显然 $\left<\tau'_2,...,\tau'_n\right>$ 亦满足[[MK341][子项定义]]，故 $\tau'_n=\tau_2$ 亦为 $\tau'_2$ 的[[MK341][子项]]

定义 $\tau''$ 为将 $\tau'_2$ 中某个 $\tau_1$ 替换为 $\tau_3$ 后的[[MK115][基本符号串]]，且满足将 $\tau'_1$ 中的 $\tau^*_i$ 替换为 $\tau''$ 后等于 $\tau'$

根据归纳假设 $\tau''$ 是[[MK117][项]]，则显然 $\tau'_1$ 中的 $\tau^*_i$ 替换为 $\tau''$ 亦为[[MK117][项]]，即 $\tau'$ 亦为[[MK117][项]]

**** [[MK139][子表达式]]替换引理<<MK148>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有 $\{\phi,\psi_1,\psi_2\}\subset\mathcal{L}_\mathcal{A}$ 满足 $\psi_1$ 是 $\phi$ 的[[MK139][子表达式]]

定义 $\phi'$ 是将 $\phi$ 中任意 $1$ 个为 $\psi_1$ 的[[MK139][子表达式]]替换为 $\psi_2$ 后的[[MK115][基本符号串]]，则 $\phi'$ 亦为 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]

***** 证明

根据[[MK139][定义]]可得对于任意 $\phi$ 的[[MK139][子表达式]] $\psi_1$ 存在 $\left<\phi_1,...,\phi_n\right>$ 满足[[MK139][子表达式]]条件

根据 $n<\infty$ ，下列证明以及数学归纳法可得证引理

****** $n=1$ <<MK149>>

根据[[MK139][定义]]有且仅有以下三种情况

******* $\phi=(\lnot\psi_1)$

根据条件显然 $\psi_2\in\mathcal{L}_\mathcal{A}$ 是[[MK129][表达式]]，故根据[[MK129][定义]]可得 $\phi'=(\lnot\psi_2)$ 亦为 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]

******* $\phi=(\varphi_1\to\varphi_2)$ 其中 $\varphi_1,\varphi_2$ 至少有一个等于 $\psi_1$

显然 $\varphi_1,\varphi_2,\psi_2$ 均为 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]，故替换一个后

无论 $\phi'=(\psi_2\to\varphi_2)$ 或 $\phi'=(\varphi_1\to\psi_2)$ 均为 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]

******* $\phi=(\forall x_k\psi_1)$

根据条件显然 $\psi_2\in\mathcal{L}_\mathcal{A}$ 是[[MK129][表达式]]，故根据[[MK129][定义]]可得 $\phi'=(\forall x_i\psi_2)$ 亦为 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]

****** 归纳假设

对于任意 $\phi$ 的任意一个[[MK139][子表达式]] $\psi_1$ 根据[[MK139][定义]]有 $\left<\phi_1,...,\phi_n\right>$ ，若满足 $n<N$

定义 $\phi'$ 为替换该 $\psi_1$ 为 $\psi_2$ 后的[[MK115][基本符号串]]，则 $\phi'$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]

****** $n=N$

对于任意 $\phi$ 的任意一个[[MK139][子表达式]] $\psi_1$ 根据[[MK139][定义]]有 $\left<\phi_1,...,\phi_n\right>$ 

定义 $\phi'_2$ 是将 $\phi_2$ 中该 $\psi_1$ 替换为 $\psi_2$ 后的[[MK115][基本符号串]]，根据归纳假设 $\phi'_2$ 是 $\mathcal{L} _\mathcal{A}$ 的[[MK129][表达式]]

显然 $\phi'$ 与 $\phi$ 中替换包含目标 $\psi_1$ 的 $\phi_2$ 为 $\phi'_2$ 相等

则[[MK149][同理可证]] $\phi$ 中替换包含目标 $\psi_1$ 的 $\phi_2$ 为 $\phi'_2$ 后亦为 $\mathcal{L} _\mathcal{A}$ 的[[MK129][表达式]]，即 $\phi'$ 是 $\mathcal{L} _\mathcal{A}$ 的[[MK129][表达式]]

**** [[MK117][项]]替换定理<<MK146>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]] $\phi$ 有 $\left<\phi[n],...,\phi[m]\right>=\tau$ 是[[MK117][项]]，则对于任意 $\tau'$ 亦为 $\mathcal{L}_\mathcal{A}$ 的[[MK117][项]]

均有将 $\phi$ 中 $\left<\phi[n],...,\phi[m]\right>$ 替换为 $\tau'$ 后仍为 $\mathcal{L} _\mathcal{A}$ 的[[MK129][表达式]]

***** 证明

根据[[MK137][唯一可读]]必有 $\left<\phi[u],...,\phi[v]\right>\in\mathcal{L}_\mathcal{A}$ 是[[MK129][原始表达式]]且 $u<n,v>m$

则易证 $\left<\phi[u],...,\phi[v]\right>=(\tau_1\hat{=}\tau_2)$ 或 $\left<\phi[u],...,\phi[v]\right>=p(\tau_1,...,\tau_n)$ 且 $\left<\phi[n],...,\phi[m]\right>$ 必在某个 $\tau_i$ 中

根据[[MK409][引理]]可得若 $\tau_i$ 任意子串为 $\tau$ ，则 $\tau$ 是 $\tau_i$ 的[[MK341][子项]]，则根据[[MK410][子项替换引理]]可得 $\tau_i$ 替换后仍为[[MK117][项]]

则显然 $\left<\phi[u],...,\phi[v]\right>$ 替换后仍是[[MK129][原始表达式]]，定义为 $\left<\phi'[u],...,\phi'[v']\right>$

又根据[[MK408][引理]]可得 $\left<\phi[u],...,\phi[v]\right>$ 是 $\phi$ 的[[MK139][子表达式]]，则根据[[MK148][替换引理]]可得将 $\phi$ 中 $\left<\phi[u],...,\phi[v]\right>$

替换为 $\left<\phi'[u],...,\phi'[v']\right>$ 后仍为 $\mathcal{L} _\mathcal{A}$ 的[[MK129][表达式]]

*** 语言<<MK151>>

对于任意 $\mathcal{A}\subset\Sigma_1=C\cup F\cup P$ 且 $\mathcal{A}\ne\varnothing$ ，即 $\mathcal{A}$ 是[[MK108][常元符号]]、[[MK109][函数符号]]和[[MK110][谓词符号]]的非空子集

则定义 $\Sigma_{\mathcal{A}}=\Sigma_0\cup\mathcal{A}$ 以及[[MK115][基本符号串]] $\Sigma^*_{\mathcal{A}}=\bigcup_{n\in\mathbb{N}}\Sigma^n_\mathcal{A}$

同理根据 $\Sigma_\mathcal{A}$ 定义[[MK117][项]] $T_\mathcal{A}$ 以及[[MK129][表达式]] $\mathcal{L}_\mathcal{A}$ ，则称 $\mathcal{L}_\mathcal{A}$ 为 $\mathcal{A}$ 生成的语言

若 $\mathcal{A}$ 为[[~/文档/note/离散数学/lssx.org::MK99][至多可数集]]，则称 $\mathcal{L}$ 是可数语言，反之则为不可数语言

**** 扩充与裁剪<<MK152>>

若有 $\mathcal{A}_1\subset\mathcal{A}_2\subset\Sigma_1=C\cup F\cup P$ 则称 $\mathcal{L}_{\mathcal{A}_1}$ 是 $\mathcal{L}_{\mathcal{A}_2}$ 的扩充语言， $\mathcal{L}_{\mathcal{A}_2}$ 是 $\mathcal{L}_{\mathcal{A}_1}$ 的裁剪语言

**** 引理1

子语言是语言的子集 $\mathcal{L}_\mathcal{A}\subset\mathcal{L}$

***** 证明

当 $\phi\in\mathcal{L}_\mathcal{A}$ 时说明 $\phi$ 可被 $\mathcal{A}$ 生成，显然由于 $\mathcal{A}\subset\Sigma_1$ 则 $\mathcal{L}$ 中可由同样过程生成 $\phi$

即有 $\phi\in\mathcal{L}$

**** 引理2<<MK398>>

若 $\mathcal{L}_{\mathcal{A}_2}$ 是 $\mathcal{L}_{\mathcal{A}_1}$ 的[[MK152][裁剪语言]]以及 $\Gamma\subset\mathcal{L}_{\mathcal{A}_2},\phi\in\mathcal{L}_{\mathcal{A}_2}$ 若在 $\mathcal{L}_{\mathcal{A}_2}$ 下有 $\Gamma\vdash\phi$ ，则在 $\mathcal{L}_{\mathcal{A}_1}$ 下亦有 $\Gamma\vdash\phi$

***** 证明

根据[[MK196][定义]]可得在 $\mathcal{L}_{\mathcal{A}_2}$ 下存在满足条件的 $\left<\phi_1,...,\phi_n\right>$ 其中 $\phi_n=\phi$ ，任意 $\phi_i$ ：

（1） 若是[[MK197][公理]]，则由于 $\mathcal{L}_{\mathcal{A}_2}\subset\mathcal{L}_{\mathcal{A}_1}$ 易证亦为 $\mathcal{L}_{\mathcal{A}_1}$ 下的[[MK197][公理]]

（2） 若 $\phi_i\in\Gamma$ ，则 $\mathcal{L}_{\mathcal{A}_1}$ 下亦有 $\phi_i\in\Gamma$

（3） 若存在 $j<i,k<i$ 满足 $\phi_j=(\phi_k\to\phi_i)$ ，由于排布不变及前两条 $\mathcal{L}_{\mathcal{A}_1}$ 下亦满足 

故 $\left<\phi_1,...,\phi_n\right>$ 亦为 $\mathcal{L}_{\mathcal{A}_1}$ 下满足[[MK196][条件]]的数组，即有 $\Gamma\vdash\phi$

** 结构与赋值

*** 一阶结构<<MK153>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 有[[~/文档/note/离散数学/lssx.org::MK105][有序组]] $\left<M,I\right>$ 满足：

（1） $M$ 为集合且 $M\ne\varnothing$ 非空

（2） $I$ 是[[~/文档/note/离散数学/lssx.org::MK175][映射]]，称为 $M$ 的解释，满足以下条件:

     a） 若 $c_i\in\mathcal{A}\cap C$ 是[[MK108][常元符号]]，则 $I(c_i)\in M$

     b） 若 $f_i\in \mathcal{A}\cap F$ 是[[MK109][函数符号]]且根据[[MK112][符号假定]]有 $\pi_F(f_i)=n$ ，则 $I(f_i):M^n\to M$ 亦是[[~/文档/note/离散数学/lssx.org::MK175][映射]]

     c） 若 $p_i\in\mathcal{A}\cap P$ 是[[MK110][谓词符号]]且根据[[MK112][符号假定]]有 $\pi_P(p_i)=n$ ，则 $I(p_i)\subset M^n$

则定义 $\left<M,I\right>$ 是语言 $\mathcal{L}_\mathcal{A}$ 的结构，其中 $M$ 称为 $\mathcal{L}_\mathcal{A}$ 的论域

若 $M$ 是[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，则称 $\mathcal{M}$ 有限结构

若 $M$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]，则称 $\mathcal{M}$ 无限结构

若 $M$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，则称 $\mathcal{M}$ 可数结构

*** [[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 的赋值<<MK154>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 存在[[MK107][变元符号]]到 $M$ 的[[~/文档/note/离散数学/lssx.org::MK175][映射]] $v:X\to M$

则称 $v$ 是语言 $\mathcal{L}_\mathcal{A}$ 在结构 $\mathcal{M}$ 上的赋值

**** 项赋值<<MK155>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=<M,I>$ 有 $\mathcal{M}$ [[MK154][赋值]] $v:X\to M$ 则由 $v$ 扩展的项赋值 $\bar{v}$ 满足：

（1） $\bar{v}(x_i)=v(x_i)$ 其中 $x_i\in X$ 是[[MK107][变元符号]]

（2） $\bar{v}(c_i)=I(c_i)$ 其中 $c_i\in C$ 是[[MK108][常元符号]]

（3） $\bar{v}(f_i(\tau_1,...,\tau_n))=I(f_i)(\bar{v}(\tau_1),...,\bar{v}(\tau_n))$ 其中 $\tau_i\in T$ 是[[MK117][项]] 

***** 引理1（局部确定性）<<MK156>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=<M,I>$ 有[[MK155][项赋值]] $\bar{u},\bar{v}$ 以及 $\tau\in T_\mathcal{A}$ 是 $\mathcal{A}$ [[MK151][语言]]中的[[MK117][项]]

若对于任意 $\tau$ 中出现的[[MK107][变元符号]] $x_i$ 均有 $u(x_i)=v(x_i)$ ，则有 $v(\tau)=u(\tau)$

****** 证明

******* $|\tau|=1$ 时

根据[[MK126][唯一可读性]]有且仅有以下两种情况：

当 $\tau=x_i$ 时根据[[MK155][项赋值]]有 $u(\tau)=u(x_i)=v(x_i)=v(\tau)$

当 $\tau=c_i$ 时根据[[MK155][项赋值]]有 $u(\tau)=I(c_i)=v(\tau)$

******* 归纳假设

对于任意 $\tau\in T_\mathcal{A}$ 若 $1<|\tau|<n$ 则有 $v(\tau)=u(\tau)$

******* $|\tau|=n$ 时

根据[[MK126][唯一可读性]]有且仅有 $f_i(\tau_1,...,\tau_n)$ 形式，则根据[[MK155][项赋值]]

有 $u(f_i(\tau_1,...,\tau_n))=I(f_i)(u(\tau_1),...,u(\tau_n))$ 以及 $v(f_i(\tau_1,...,\tau_n))=I(f_i)(v(\tau_1),...,v(\tau_n))$

显然对于任意 $\tau_i$ 均有 $|\tau_i|<n$ 即 $v(\tau_i)=u(\tau_i)=m_i\in M$

故有 $u(f_i(\tau_1,...,\tau_n))=I(f_i)(m_1,...,m_n)=v(f_i(\tau_1,...,\tau_n))$

***** 引理2<<MK157>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 中的[[MK117][项]] $\tau\in T$ ，对于任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$

均存在 $m\in M$ 满足 $<\tau,m>\in\bar{v}$ 即[[MK155][扩展函数]]有 $\bar{v}(\tau)=m$

****** 证明

******* $|\tau|=1$ 时

根据[[MK126][唯一可读性]]有且仅有 $\tau=x_i,\tau=c_i$ 两种情况，显然 $\bar{v}$ 有定义即 $\bar{v}(x_i)=v(x_i),\bar{v}(c_i)=I(c_i)$

******* 归纳假设

对于任意 $\tau$ 满足 $1\leq |\tau|\leq n$ 均有 $\bar{v}(\tau)=m$

******* $|\tau|=n$ 时

根据[[MK126][唯一可读性]]有且仅有 $f_i(\tau_1,...,\tau_k)$ ，显然 $|\tau_i|<n$ 故可得有 $\bar{v}(\tau_i)=m_i\in M$

则根据[[MK155][定义]]可得 $\bar{v}(f_i(\tau_1,...,\tau_k))=I(f)(\bar{v}(\tau_1),...,\bar{v}(\tau_k))$ 根据[[MK153][结构]]定义

可得 $I(f)(\bar{v}(\tau_1),...,\bar{v}(\tau_k))\in M$ 即可得存在 $m\in M$ 满足 $\bar{v}(f_i(\tau_1,...,\tau_k))=m$

**** 赋值等价

对于 $\mathcal{A}$ 的[[MK117][项]] $T_\mathcal{A}$ 和[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=<M,I>$ 有 $\mathcal{M}$ [[MK154][赋值]] $u$ 和 $v$

对于任意 $\tau\in T_\mathcal{A}$ 若对于任意 $\tau$ 中出现的[[MK107][变元符号]] $x_i$ 均有 $u(x_i)=v(x_i)$ 则称 $u,v$ 关于 $\tau$ 等价，记作 $u\overset{\tau}{\equiv}v$

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 若对于任意 $\phi$ 中[[MK140][自由出现]]的[[MK107][变元符号]] $x_i$ 均有 $u(x_i)=v(x_i)$ 则称 $u,v$ 关于 $\phi$ 等价，记作 $u\overset{\phi}{\equiv}v$

** 满足<<MK158>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 有 $\mathcal{M}$ [[MK154][赋值]] $v:X\to M$ 以及其扩展的[[MK155][项赋值]] $\bar{v}$

则对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ ：

若为[[MK129][原始表达式]]，则若满足：

（1） 若 $\phi=(\tau_1\hat{=}\tau_2)$ 则 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\bar{v}(\tau_1) =\bar{v}(\tau_2)$

（2） 若 $\phi=p_i(\tau_1,...,\tau_n)$ 则 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>\in I(p_i)$

若为[[MK129][递归表达式]]，则有

（3） 若 $\phi=(\lnot\psi)$ 则 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\not\vDash\psi$

（4） 若 $\phi=(\psi_1\to\psi_2)$ 则 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 或者 $\left<\mathcal{M},v\right>\vDash\psi_2$

（5） 若 $\phi=(\forall x_i\psi)$ 则 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是对于任意[[MK154][赋值]] $\mu:X\to M$

     若满足对于任意除 $x_i$ 的[[MK107][变元符号]] $x_j$ 有 $\mu(x_j)=v(x_j)$ ，则有 $\left<\mathcal{M},\mu\right>\vDash\psi$

上述充要条件不满足时，则有 $\left<\mathcal{M},v\right>\not\vDash\phi$ 即 $\left<\mathcal{M},v\right>\vDash\phi$ 成立的充要条件是 $\left<\mathcal{M},v\right>\not\vDash\phi$ 不成立

另定义 $\mathcal{M}\vDash\phi[a_1,...,a_n],a_i\in M$ 表示[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 有 $n$ 个[[MK140][自由变元]] $x_1,...,x_n$

且对于任意[[MK154][赋值]] $v$ 若有 $v(x_i)=a_i$ 则有 $\left<\mathcal{M},v\right>\vDash\phi$

*** 引理

**** 引理2<<MK162>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及[[MK129][表达式]] $\phi(x_{i_1},...,x_{i_n})$ 其中 $x_{i_j}$ 为 $\phi$ 中出现的[[MK140][自由变元]]

定义 $\psi$ 满足 $\psi[i]=\begin{cases}\phi[i]&\phi[i]\ne x_{i_j}\\x_{k_j}&\phi[i]= x_{i_j}\end{cases}$ 且若 $\phi[i]= x_{i_j}$ 则 $\psi$ 中 $\psi[i]=x_{k_j}$ 是[[MK141][自由出现]]则有：

（1） $\psi\in\mathcal{L}_\mathcal{A}$ 亦为[[MK129][表达式]]

（2） 对于任意 $\mathcal{M}$ [[MK154][赋值]] $u$ 和 $v$ 若有 $v(x_{i_j})=u(x_{k_j})$ 则 $<\mathcal{M},v>\vDash\phi$ 的充要条件是 $<\mathcal{M},u>\vDash\psi$

***** 证明

****** 证明（1）

显然 $x_{k_j}\in T_\mathcal{A}$ 是[[MK117][项]]，则根据[[MK146][替换引理]]可得 $\psi\in\mathcal{L}$ ，又由于 $\phi\in\mathcal{L}_\mathcal{A}$ 故有若 $\phi[i]\not\in X$ 则 $\phi[i]\in\mathcal{A}$

由于 $\phi[i]=\psi[i],\phi[i]\ne x_{i_j}$ 故有若 $\psi[i]\not\in X\land \phi[i]\ne x_{i_j}$ 有 $\psi[i]\in\mathcal{A}$

又由于 $\phi[i]=x_{i_j}$ 时有 $\psi[k]=x_{k_j}\in X$ 故有若 $\psi[i]\not\in X$ 有 $\psi[i]\in\mathcal{A}$ 即有 $\psi\in\mathcal{L}_\mathcal{A}$ 

****** 证明（2）

显然 $x_{k_j}\in T_\mathcal{A}$ 是[[MK117][项]]，且 $\psi$ 中原来 $\phi[i]= x_{i_j}$ 的位置替换后 $\psi[i]=x_{k_j}$ 仍为[[MK141][自由出现]]

又由于 $v(x_{i_j})=u(x_{k_j})$ 故根据[[MK176][替换定理]]可得 $<\mathcal{M},v>\vDash\phi$ 的充要条件是 $<\mathcal{M},u>\vDash\psi$

**** 引理3<<MK163>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 定义 $I=\{i_1,...,i_n\}$ 以及 $K=\{k_1,...,k_n\}$

满足 $\phi[i_j]=x_{k_j}$ 为 $\phi$ 中[[MK107][变元符号]] $x_{k_j}$ 的[[MK140][自由出现]]

定义 $\psi$ 满足 $\psi[i]=\begin{cases}\phi[i]&i\not\in I\\c_i&i\in I\end{cases}$ 其中 $c\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]]，则有

（1） $\psi\in\mathcal{L}_\mathcal{A}$ 亦为[[MK129][表达式]]

（2） 对于任意[[MK154][赋值]] $v$ 若满足 $v(x_i)=I(c_i)$ 则有 $<\mathcal{M},v>\vDash\phi$ 的充要条件是 $<\mathcal{M},v>\vDash\psi$

***** 证明

****** 证明（1）

显然 $c_i\in T_\mathcal{A}$ 是[[MK117][项]]，则[[MK160][同理可证]] $\psi\in\mathcal{L}_\mathcal{A}$ ，又由于 $x_i$ 为 $\phi$ 中唯一出现的[[MK140][自由变元]]

故 $\psi$ 中不含自由变元，故为[[MK144][语句]]

****** 证明（2）

显然 $c_i\in T_\mathcal{A}$ 是[[MK117][项]]，且 $\phi[i_j]=x_{k_j}$ 是[[MK140][自由出现]]，且替换后 $\psi[i]=c_i$ 显然不含[[MK107][变元符号]]

又由于 $v(x_i)=\bar{v}(c)=I(c)$ 故根据[[MK176][替换定理]]可得 $<\mathcal{M},v>\vDash\phi$ 的充要条件是 $<\mathcal{M},v>\vDash\psi$

根据[[MK169][推论]]可得 $<\mathcal{M},v>\vDash\psi$ 的充要条件是 $\mathcal{M}\vDash\psi$

故可得 $<\mathcal{M},v>\vDash\phi$ 的充要条件是 $\mathcal{M}\vDash\psi$

**** 引理4<<MK164>>

任意[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 的任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 任意[[MK154][赋值]] $v$ 对于其任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$

$\left<\mathcal{M},v\right>\vDash\phi$ 和 $\left<\mathcal{M},v\right>\not\vDash\phi$ 有且仅有一个成立

***** 证明

假设 $\left<\mathcal{M},v\right>\vDash\phi$ 和 $\left<\mathcal{M},v\right>\not\vDash\phi$ 均不成立，则由根据[[MK158][满足]]定义

可得 $\left<\mathcal{M},v\right>\vDash\phi$ 成立的充要条件是 $\left<\mathcal{M},v\right>\not\vDash\phi$ 不成立。故由 $\left<\mathcal{M},v\right>\not\vDash\phi$ 不成立可得 $\left<\mathcal{M},v\right>\vDash\phi$ 成立

与 $\left<\mathcal{M},v\right>\vDash\phi$ 不成立矛盾，故假设不成立

假设 $\left<\mathcal{M},v\right>\vDash\phi$ 和 $\left<\mathcal{M},v\right>\not\vDash\phi$ 均成立，则同理根根据[[MK158][满足]]由 $\left<\mathcal{M},v\right>\vDash\phi$ 成立

可得 $\left<\mathcal{M},v\right>\not\vDash\phi$ 不成立，与 $\left<\mathcal{M},v\right>\not\vDash\phi$ 成立假设矛盾，故假设亦不成立

综上所述，可得 $\left<\mathcal{M},v\right>\vDash\phi$ 和 $\left<\mathcal{M},v\right>\not\vDash\phi$ 不可均成立，也不可均不成立

即 $\left<\mathcal{M},v\right>\vDash\phi$ 和 $\left<\mathcal{M},v\right>\not\vDash\phi$ 有且仅有一个成立

**** 引理5<<MK165>>

任意[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]] $\phi=(\forall x_i\psi)$ ，对于任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 任意[[MK154][赋值]] $v$

均有 $\left<\mathcal{M},v\right>\vDash(\forall x_i\psi)$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\lnot(\exists x_i(\lnot\psi)))$

***** 证明

$\left<\mathcal{M},v\right>\vDash(\forall x_i\psi)$ 根据[[MK158][满足]]等价于对于任意[[MK154][赋值]] $\lambda:X\to M$

若满足对于任意 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\lambda(x_j)=v(x_j)$ ，则有 $\left<\mathcal{M},\lambda\right>\vDash\psi$

即其充要条件是不存在函数 $\lambda^*$ 满足上述条件且有 $\left<\mathcal{M},\lambda^*\right>\not\vDash\psi$

又根据[[MK158][满足]] $\left<\mathcal{M},\lambda^*\right>\not\vDash\psi$ 的充要条件是 $\left<\mathcal{M},\lambda^*\right>\vDash(\lnot\psi)$

综上所述，$\left<\mathcal{M},v\right>\vDash(\forall x_i\psi)$ 的充要条件是

不存在在函数 $\lambda^*$ 满足对于任意 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\lambda(x_j)=v(x_j)$ 且 $\left<\mathcal{M},\lambda^*\right>\vDash(\lnot\psi)$

根据[[MK172][存在量词]]可得上述条件的充要条件为 $\left<\mathcal{M},v\right>\not\vDash(\exists x_i(\lnot\psi))$

又根据[[MK158][满足]]可得充要条件是 $\left<\mathcal{M},v\right>\vDash(\lnot(\exists x_i(\lnot\psi)))$

**** 引理6<<MK166>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ ，则对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$

有 $\left<\mathcal{M},v\right>\vDash(\lnot(\exists x_1(...(\exists x_n\phi))))$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\forall x_1(...(\forall x_n(\lnot\phi))))$

***** 证明

根据 $n<\infty$ 下列证明以及数学归纳法可证结论

****** $n=1$ <<MK167>>

显然 $(\exists x_i\phi)$ 是 $(\lnot(\exists x_i\phi))$ 的[[MK139][子表达式]]，又根据[[MK173][存在量词]]可得

对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其任意[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash(\exists x_1\phi)$ 的充要条件为 $\left<\mathcal{M},v\right>\vDash(\lnot(\forall x_1(\lnot\phi)))$

则根据[[MK179][替换定理]]对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其任意[[MK154][赋值]] $v$

均有 $\left<\mathcal{M},v\right>\vDash(\lnot(\exists x_1\phi))$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\lnot(\lnot(\forall x_1(\lnot\phi))))$

根据[[MK158][满足]]易证对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其任意[[MK154][赋值]] $v$

有 $\left<\mathcal{M},v\right>\vDash(\lnot(\lnot(\forall x_1(\lnot(\phi)))))$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\forall x_1(\lnot(\phi)))$

综上所述，对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ ， $\left<\mathcal{M},v\right>\vDash(\lnot(\exists x_1\phi))$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\forall x_1(\lnot(\phi)))$

****** 归纳假设

对于任意 $n<N$ 若任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 

均有 $\left<\mathcal{M},v\right>\vDash(\lnot(\exists x_1(...(\exists x_n\phi))))$ 的充要条件是有 $\left<\mathcal{M},v\right>\vDash(\forall x_1(...(\forall x_n(\lnot\phi))))$

****** $n=N$

[[MK167][同理可证]]对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其任意[[MK154][赋值]] $v$

有 $\left<\mathcal{M},v\right>\vDash(\lnot(\exists x_1(\exists x_2(...(\exists x_n\phi)))))$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\forall x_1(\lnot(\exists x_2...(\exists x_n\phi))))$

显然 $(\lnot(\exists x_2...(\exists x_n\phi)))$ 是 $(\forall x_1(\lnot(\exists x_2...(\exists x_n\phi))))$ 的[[MK139][子表达式]]

又根据归纳假设以及[[MK179][替换定理]]可得对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其任意[[MK154][赋值]] $v$

有 $\left<\mathcal{M},v\right>\vDash(\forall x_1(\lnot(\exists x_2...(\exists x_n\phi))))$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\forall x_1(...(\forall x_n(\lnot\phi))))$

综上所述，对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$

有 $\left<\mathcal{M},v\right>\vDash(\lnot(\exists x_1(...(\exists x_n\phi))))$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\forall x_1(...(\forall x_n(\lnot\phi))))$ 

**** 引理7<<MK383>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 任意[[MK129][表达式]] $\phi$ 满足：

（1） 有形式 $\phi=(\forall x_i\psi)$

（2） [[MK107][变元符号]] $x_j$ 不是 $\phi$ 中的[[MK140][自由变元]]

定义 $\phi'=(\forall x_j\psi')$ ，其中 $\psi'$ 满足：

（1） 若 $\psi[k]=x_i$ 且是 $x_i$ 在 $\psi$ 的[[MK140][自由出现]]，则 $\psi'[k]=x_j$

（2） 若（1）不满足，则 $\psi'[k]=\psi[k]$

则对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi'$

***** 证明

假设 $\left<\mathcal{M},v\right>\vDash\phi$ ，证明 $\left<\mathcal{M},v\right>\vDash\phi'$ 反之类似易证

显然 $\phi'=(\forall x_i\psi')$ 其中 $\psi'[k] =\begin{cases}x_j&\psi[k]=x_i\\\psi[k]&\psi[k]\ne x_i\end{cases}$ 

则对于任意[[MK154][赋值]] $\mu'$ 满足对于任意除 $x_j$ 的[[MK107][变元符号]] $x_p$ 有 $\mu'(x_p)=v(x_p)$

则定义[[MK154][赋值]] $\mu$ 满足 $\mu(x_i)=\mu'(x_j)$ 以及任意 $p\ne i$ 均有 $\mu(x_p)=v(x_p)$

根据 $\left<\mathcal{M},v\right>\vDash\phi$ 以及[[MK158][满足]]易证 $\left<\mathcal{M},\mu\right>\vDash\psi$

根据 $\phi'$ 定义可得仅替换 $x_i$ 在 $\psi$ 中的[[MK140][自由出现]]，且由于 $x_j$ 不是 $\phi$ 中的[[MK140][自由变元]]

故可得 $x_j$ 在 $\psi'$ 中亦为[[MK140][自由出现]]必为 $x_i$ 在 $\psi$ 中的[[MK140][自由出现]]

由于定义 $\mu(x_i)=\mu'(x_j)$ ，故根据[[MK176][替换定理]]可得有 $\left<\mathcal{M},\mu'\right>\vDash\psi'$

综上所述，对于任意[[MK154][赋值]] $\mu'$ 满足对于任意除 $x_j$ 的[[MK107][变元符号]] $x_p$ 有 $\mu'(x_p)=v(x_p)$ 均有 $\left<\mathcal{M},\mu'\right>\vDash\psi'$

即有 $\left<\mathcal{M},v\right>\vDash(\forall x_j\psi')=\phi'$ 

**** 引理8<<MK384>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]] $\phi$ 对于任意 $p$ 满足 $\left<\phi[p],\phi[p+1]\right>=\left<\forall,x_i\right>$

根据[[MK143][量词引理]]有唯一 $\phi[q]=)$ 满足 $\left<\phi[p-1],...,\phi[q]\right>=(\forall x_i\psi)\in\mathcal{L}_\mathcal{A}$

若有 $x_j$ 不是 $\psi$ 的[[MK140][自由变元]]，则定义 $\phi'$ 满足

（1） 对于任意 $p-1\leq n\leq q$ ，若 $\phi[n]=x_i$ 且是 $\psi$ 中的[[MK140][自由出现]]，则 $\phi'[p]=x_j$

（2） 对于任意 $1\leq n\leq|\phi|$ 若（1）不满足，则 $\phi'[n]=\phi[n]$

则对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi'$

***** 证明

定义 $\psi'$ 如下

（1） 若 $\psi[k]=x_i$ 且是 $x_i$ 在 $\psi$ 的[[MK140][自由出现]]，则 $\psi'[k]=x_j$

（2） 若（1）不满足，则 $\psi'[k]=\psi[k]$

显然 $\phi'$ 是将 $\phi$ 的第 $p-1$ 到 $q$ 个字符组成的 $(\forall x_i\psi)$ 替换为 $(\forall x_j\psi')$

根据[[MK383][引理7]]可得对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash(\forall x_i\psi)$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\forall x_j\psi')$

根据[[MK143][量词引理]]可得 $(\forall x_i\psi)$ 是 $\phi$ 的[[MK139][子表达式]]，即 $\phi'$ 是 $\phi$ 将其[[MK139][子表达式]] $(\forall x_i\psi)$ 替换为 $(\forall x_j\psi')$ 后的[[MK129][表达式]]

故根据[[MK179][子表达式替换定理]]可得

对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi'$

**** 引理9<<MK401>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]] $\phi$ ，对于任意 $n\geq 1$ 定义 $\phi'[k] =\begin{cases}x_{n+i}&\phi[k]=x_i\\\phi[k]&\phi[k]\not\in X\end{cases}$

则对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 定义 $v'$ 满足 $v'(x_{n+i})=v(x_i)$

则有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v'\right>\vDash\phi'$

***** 证明

设 $\phi$ 中所有的[[MK107][变元符号]]为 $\{x_1,...,x_m\}$ 则先替换所有 $x_m$ 为 $x_{n+m}$ 由于 $n\geq 1$ 故 $x_{n+m}$ 不在 $\phi$ 中出现

则定义 $\phi_0$ 为替换所有 $\phi$ 中 $x_m$ 的[[MK140][自由变元]]后的[[MK129][表达式]]，则根据[[MK176][替换定理]]

有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v'\right>\vDash\phi_0$

故若有 $\left<\phi[p-1],...,\phi[q]\right>=(\forall x_i\psi)\in\mathcal{L}_\mathcal{A}$ 则显然 $x_{n+m}$ 不是 $\psi$ 的[[MK140][自由变元]]

定义替换 $\phi_0[p-1:q]$ 中的 $x_m$ 为 $x_{n+m}$ 后的[[MK129][表达式]]为 $\phi_1$ 则根据[[MK384][引理8]]

有 $\left<\mathcal{M},v'\right>\vDash\phi_0$ 的充要条件是 $\left<\mathcal{M},v'\right>\vDash\phi_1$

由于 $|\phi|<\infty$ 则经过有限次替换后终有 $\phi^*_1$ 将所有 $x_m$ 为 $x_{n+m}$ ，且根据上述证明

有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v'\right>\vDash\phi^*_1$

依此类推，替换 $x_{m-1}$ 到 $x_1$ 最终有 $\phi^*_m=\phi'$ 且满足 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v'\right>\vDash\phi^*_m=\phi'$

*** 局部确定性定理<<MK168>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 有 $\mathcal{M}$ [[MK154][赋值]] $u$ 和 $v$

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 若对于任意 $\phi$ 中[[MK140][自由出现]]的[[MK107][变元符号]] $x_i$ 均有 $u(x_i)=v(x_i)$

则 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},u\right>\vDash\phi$ ，其中 $\vDash$ 表[[MK158][满足]]

**** 证明

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ ，定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数。定义 $u,v$ 的[[MK155][项赋值]]分别为 $\bar{u},\bar{v}$

根据以下证明， $\phi$ 为有限长度，以及数学归纳法可证

***** $z(\phi)=1$ 时

根据[[MK132][可读性]]原理有且仅有以下两种形式

****** $(\tau_1\hat{=}\tau_2)$

根据[[MK156][引理]]以及定理条件可得 $\bar{u}(\tau_1)=\bar{v}(\tau_1)\land \bar{u}(\tau_2)=\bar{v}(\tau_2)$

根据[[MK158][满足定义]]显然有 $\left<\mathcal{M},v\right>\vDash\phi\Leftrightarrow\left<\mathcal{M},u\right>\vDash\phi$

****** $\phi=p_i(\tau_1,...,\tau_n)$

根据[[MK156][引理]]以及定理条件可得 $\bar{u}(\tau_i)=\bar{v}(\tau_i)$ 进而有 $\left<\bar{u}(\tau_1),...,\bar{u}(\tau_n)\right>=\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>$

根据[[MK158][满足定义]]显然有 $\left<\bar{u}(\tau_1),...,\bar{u}(\tau_n)\right>\in I(p_i)\Leftrightarrow\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>\in I(p_i)$

即 $\left<\mathcal{M},v\right>\vDash\phi\Leftrightarrow\left<\mathcal{M},u\right>\vDash\phi$

***** 归纳假设

对于任意 $1<z(\phi)<n$ 若满足定理条件，则有 $\left<\mathcal{M},v\right>\vDash\phi\Leftrightarrow\left<\mathcal{M},u\right>\vDash\phi$

***** $z(\phi)=n$ 时

根据[[MK132][可读性]]原理有且仅有以下情况

****** $\phi=(\lnot\psi)$ 时

根据[[MK158][满足定义]]当 $\left<\mathcal{M},v\right>\vDash\phi$ 时有 $\left<\mathcal{M},v\right>\not\vDash\psi$ 显然 $z(\psi)<n$ ，则根据归纳假设有 $\left<\mathcal{M},u\right>\not\vDash\psi$

则又根据[[MK158][满足定义]]有 $\left<\mathcal{M},u\right>\vDash\phi$ 反之同理，故可得 $\left<\mathcal{M},v\right>\vDash\phi\Leftrightarrow\left<\mathcal{M},u\right>\vDash\phi$

****** $\phi=(\psi_1\to\psi_2)$ 时

根据[[MK158][满足定义]]当 $\left<\mathcal{M},v\right>\vDash\phi$ 时有 $\left<\mathcal{M},v\right>\not\vDash\psi_1\lor\left<\mathcal{M},v\right>\vDash\psi_2$ 显然 $z(\psi_1)<n\land z(\psi_2)<n$

则根据归纳假设有 $\left<\mathcal{M},u\right>\not\vDash\psi_1\lor\left<\mathcal{M},u\right>\vDash\psi_2$ 则根据[[MK158][满足定义]]有 $\left<\mathcal{M},u\right>\vDash\phi$

反之同理，故可得 $\left<\mathcal{M},v\right>\vDash\phi\Leftrightarrow\left<\mathcal{M},u\right>\vDash\phi$

****** $\phi=(\forall x_i\psi)$ 时

根据[[MK158][满足定义]]当 $\left<\mathcal{M},v\right>\vDash\phi$ 时有于任意[[MK154][赋值]] $\mu:X\to M$ 

若满足对于任意 $\phi$ 中的[[MK140][自由变元]] $x_i$ 有 $\mu(x_i)=v(x_i)$ ，则 $\left<\mathcal{M},\mu\right>\vDash(\forall x_i\psi)$

定义满足上述条件的函数集合为 $\Theta$

则对于任意任意[[MK154][赋值]] $\mu':X\to M$ 若满足 $\phi$ 中的[[MK140][自由变元]] $x_i$ 有 $\mu'(x_i)=u(x_i)$

根据定理条件均有 $\mu'(x_i)=u(x_i)=v(x_i)$ 故有 $\mu'\in\Theta$ 进而有 $\left<\mathcal{M},\mu'\right>\vDash(\forall x_i\psi)$

故根据[[MK158][满足定义]]有 $\left<\mathcal{M},\mu\right>\vDash(\forall x_i\psi)$ 。反之同理，故可得 $\left<\mathcal{M},v\right>\vDash\phi\Leftrightarrow\left<\mathcal{M},u\right>\vDash\phi$

**** 推论<<MK169>>

[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ ，有[[MK144][语句]] $\phi\in\mathcal{L}_\mathcal{A}$ 则如下命题等价：

（1） 存在[[MK154][赋值]] $v$ 能[[MK158][满足]] $\phi$ ，即 $\left<\mathcal{M},v\right>\vDash\phi$

（2） 对于任意[[MK154][赋值]] $v$ 均能[[MK158][满足]] $\phi$ ，即 $\left<\mathcal{M},v\right>\vDash\phi$

***** 证明

****** （2）推（1）

显然

****** （1）推（2）

显然 $\phi$ 中不含[[MK140][自由出现]]的[[MK107][变元符号]]，即若 $\left<\mathcal{M},v\right>\vDash\phi$ 则对于任意其他[[MK154][赋值]] $u$

均满足[[MK168][局部性定理]]条件，故根可得 $\left<\mathcal{M},v\right>\vDash\phi\Leftrightarrow\left<\mathcal{M},u\right>\vDash\phi$

*** [[MK113][推导符号]]满足

**** 逻辑与<<MK170>>

若 $\phi=(\psi_1\land\psi_2)\in\mathcal{L}_\mathcal{A}$ 则 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\psi_1$ 且 $\left<\mathcal{M},v\right>\vDash\psi_2$

***** 等价表述

$\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\lnot(\psi_1\to(\lnot\psi_2)))$

****** 证明

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash(\lnot(\psi_1\to(\lnot\psi_2)))\Leftrightarrow\left<\mathcal{M},v\right>\not\vDash(\psi_1\to(\lnot\psi_2))$

进一步可等价于 $\left<\mathcal{M},v\right>\vDash\psi_1$ 且 $\left<\mathcal{M},v\right>\not\vDash(\lnot\psi_2)$ 即等价于 $\left<\mathcal{M},v\right>\vDash\psi_1$ 且 $\left<\mathcal{M},v\right>\not\vDash\psi_2$ 

**** 逻辑或<<MK171>>

若 $\phi=(\psi_1\lor\psi_2)\in\mathcal{L}_\mathcal{A}$ 则 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\psi_1$ 或 $\left<\mathcal{M},v\right>\vDash\psi_2$

***** 等价表述

$\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash((\lnot\psi_1)\to\psi_2)$

****** 证明

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash((\lnot\psi_1)\to\psi_2)$ 的充要条件是 $\left<\mathcal{M},v\right>\not\vDash(\lnot\psi_1)$ 或 $\left<\mathcal{M},v\right>\vDash\psi_2$ 

进一步利用满足可得充要条件是 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 或 $\left<\mathcal{M},v\right>\vDash\psi_2$ 

**** 逻辑双向蕴含

若 $\phi=(\psi_1\leftrightarrow\psi_2)\in\mathcal{L}_\mathcal{A}$ 则 $<\mathcal{M},v>\vDash\phi$ 的充要条件是下列两个条件满足其一

（1） $<\mathcal{M},v>\vDash\psi_1$ 且 $<\mathcal{M},v>\vDash\psi_2$

（2） $<\mathcal{M},v>\not\vDash\psi_1$ 且 $<\mathcal{M},v>\not\vDash\psi_2$

***** 等价表述

$<\mathcal{M},v>\vDash\phi$ 的充要条件是 $<\mathcal{M},v>\vDash((\psi_1\to\psi_2)\land(\psi_2\to\psi_1))$

****** 证明

根据[[MK170][逻辑与]]可得 $<\mathcal{M},v>\vDash((\psi_1\to\psi_2)\land(\psi_2\to\psi_1))$

的充要条件为 $<\mathcal{M},v>\vDash(\psi_1\to\psi_2)$ 且 $<\mathcal{M},v>\vDash(\psi_2\to\psi_1)$

根据[[MK158][满足]]可得等价于 $<\mathcal{M},v>\not\vDash\psi_1\lor<\mathcal{M},v>\vDash\psi_2$ 且 $<\mathcal{M},v>\not\vDash\psi_2\lor<\mathcal{M},v>\vDash\psi_1$

此时若 $<\mathcal{M},v>\vDash\psi_2$ 则根据且条件必有 $<\mathcal{M},v>\vDash\psi_1$

同理若 $<\mathcal{M},v>\not\vDash\psi_1$ 必有 $<\mathcal{M},v>\not\vDash\psi_2$

易证反之依然，故等价

**** 存在量词<<MK172>>

若 $\phi=(\exists x_i\psi)\in\mathcal{L}_\mathcal{A}$ 则 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是存在[[MK154][赋值]] $\mu:X\to M$

若满足对于任意除 $x_i$ 的[[MK107][变元符号]] $x_j$ 有 $\mu(x_j)=v(x_j)$ ，且 $\left<\mathcal{M},\mu\right>\vDash\psi$ 

***** 等价表述<<MK173>>

$\left<\mathcal{M},v\right>\vDash(\exists x_i \psi)$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\lnot(\forall x_i(\lnot\psi)))$

****** 证明

根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash(\lnot(\forall x_i(\lnot\psi)))$ 的充要条件为 $\left<\mathcal{M},v\right>\not\vDash(\forall x_i(\lnot\psi))$

同理根据[[MK158][满足]]可得存在[[MK154][赋值]] $\mu:X\to M$ 若满足对于任意 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\mu(x_j)=v(x_j)$ 

使得 $\left<\mathcal{M},\mu\right>\not\vDash(\lnot\psi)$ 同样根据[[MK158][满足]]可得其充要条件为 $\left<\mathcal{M},\mu\right>\vDash\psi$ 

***** 引理<<MK174>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及[[MK129][表达式]] $\phi(x_1,...,x_n)$ 则以下命题等价

（1） 存在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash(\exists x_1(...(\exists x_n\phi)))$

（2） 存在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 的[[MK154][赋值]] $\eta$ 满足 $\left<\mathcal{M},\eta\right>\vDash\phi$

****** 证明

根据以下证明以及数学归纳法可证

******* $n=1$

则有 $x_1$ 是 $\phi$ 中唯一[[MK140][自由变元]]，即有 $\left<\mathcal{M},v\right>\vDash(\exists x_1 \phi)$ 根据[[MK172][定义]]

其充要条件是存在[[MK154][赋值]] $\eta$ 满足 $\left<\mathcal{M},\eta\right>\vDash\phi$ 

******* 归纳假设

对于任意 $n<N$ 若 $\left<\mathcal{M},v\right>\vDash(\exists x_1(...(\exists x_n\phi)))$ 则存在[[MK154][赋值]] $\eta$ 满足 $\left<\mathcal{M},\eta\right>\vDash\phi$

******* $n=N$

根据[[MK172][定义]] $\left<\mathcal{M},v\right>\vDash(\exists x_1(...(\exists x_n\phi)))$ 的充要条件为存在[[MK154][赋值]] $\eta'$ 满足 $\left<\mathcal{M},\eta'\right>\vDash(\exists x_2(...(\exists x_n\phi)))$

根据归纳假设， $\left<\mathcal{M},\eta'\right>\vDash(\exists x_2(...(\exists x_n\phi)))$ 的充要条件是存在[[MK154][赋值]] $\eta$ 满足 $\left<\mathcal{M},\eta\right>\vDash\phi$

*** [[MK144][语句]]满足<<MK175>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=<M,I>$ ，对于任意[[MK144][语句]] $\phi\in\mathcal{L}_\mathcal{A}$ 若对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$

均有 $<\mathcal{M},v>\vDash\phi$ 则判断[[MK144][语句]] $\phi$ 为真，反之为假。

根据[[MK169][推论]]可得任意上述条件等价与存在一个 $\mathcal{M}$ [[MK154][赋值]] $v$ [[MK158][满足]] $<\mathcal{M},v>\vDash\phi$ 记作 $\mathcal{M}\vDash\phi$

*** 替换定理<<MK176>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 则

（1） 对于任意[[MK117][项]] $\tau\in T_\mathcal{A}$ 设其包含的[[MK107][变元符号]]为 $x_{i_1},...,x_{i_k}$ 若存在任意 $\tau_1,...,\tau_k$ 和 $\mathcal{M}$ [[MK154][赋值]] $u$

     满足$\tau_i\in T_\mathcal{A}$ 以及 $v(x_{i_j})=\bar{u}(\tau_j)$ 则定义 $\tau'$ 为将 $\tau$ 中所有的[[MK107][变元符号]]做 $x_{i_j}$ 到 $\tau_{i_j}$ 的替换后的[[MK117][项]]

     则两个赋值的[[MK155][扩展函数]]有 $\bar{v}(\tau)=\bar{u}(\tau')$

（2） 对于任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 设其包含的[[MK140][自由变元]]为 $x_{i_1},...,x_{i_k}$ 若存在任意[[MK117][项]] $\tau_1,...,\tau_k$ 和 $\mathcal{M}$ [[MK154][赋值]] $u$

     满足 $\tau_i\in T_\mathcal{A}$ 以及 $v(x_{i_j})=\bar{u}(\tau_j)$ 且对于任意 $1\leq j\leq k$ 均有 $\tau_j$ [[MK150][可替换]] $\phi$ 中的[[MK140][自由变元]]为 $x_{i_j}$

     则定义 $\phi'$ 为将 $\phi$ 中所有[[MK141][自由出现]]的 $x_{i_j}$ 替换为 $\tau_{i_j}$ 后的[[MK129][表达式]]，则有 $\left<\mathcal{M},v\right>\vDash\phi$ 等价于 $\left<\mathcal{M},u\right>\vDash\phi'$
 
**** 证明

***** 证明（1）<<MK177>>

根据以下证明， $\tau$ 为有限长度，以及数学归纳法可证

****** 当 $|\tau|=1$ 时

根据[[MK126][唯一可读性]]有且仅有以下两种情况

（1） $\tau=c_i$ ，则 $\tau'= c_i$ ，则根据[[MK155][项赋值]]有 $\bar{v}(c_i)=I(c_i)=\bar{u}(c_i)$

（2） $\tau=x_{i_1}$ ，则 $\tau'=\tau_1$ 根据定理条件有 $\bar{v}(x_{i_1}) =\bar{u}(\tau_1)$

****** 归纳假设

对于任意 $1<|\tau|<n$ 的 $\tau\in T_\mathcal{A}$ 定理结论（1）均成立

****** 当 $|\tau|=n$ 时

根据[[MK126][唯一可读性]]有且仅有 $\tau=f_i(\mu_1,...,\mu_n)$ 根据[[MK155][项赋值]] $\bar{v}(\tau)=I(\bar{v}(\mu_1),...,\bar{v}(\mu_n))$

定义 $\mu_i'$ 为将 $\mu_i$ 中所有的[[MK107][变元符号]]根据定理条件（1）替换后的[[MK117][项]]

则根据归纳假设可得 $\bar{v}(\mu_i)=\bar{u}(\mu'_i)$ 则显然有 $\bar{v}(\tau)=I(\bar{v}(\mu_1),...,\bar{v}(\mu_n))=I(\bar{u}(\mu'_1),...,\bar{u}(\mu'_n))=\bar{u}(\tau')$

***** 证明（2）

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ ，定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

根据[[MK150][可替换]]可得替换后 $\phi'$ 的 $\tau_i$ 中不含[[MK140][受限变元]]

则根据以下证明，数学归纳法以及 $|\phi|<\infty$ 可证 $\left<\mathcal{M},v\right>\vDash\phi$ 等价于 $\left<\mathcal{M},u\right>\vDash\phi'$

****** $z(\phi)=1$ 时

定义 $\mu_i'$ 为将 $\mu_i$ 中所有的[[MK107][变元符号]]根据定理条件（1）替换后的[[MK117][项]]

根据[[MK137][唯一可读性]]，有且仅有以下可能形式

******* $\phi=(\mu_1\hat{=}\mu_2)$

若 $\left<\mathcal{M},v\right>\vDash\phi$ ，则根据[[MK158][满足]]等价于 $\bar{v}(\mu_1)=\bar{v}(\mu_2)$ 根据[[MK177][证明（1）]]可得 $\bar{v}(\mu_1)=\bar{u}(\mu'_1),\bar{v}(\mu_2)=\bar{u}(\mu'_2)$

则显然等价于 $\bar{u}(\mu'_1)=\bar{u}(\mu'_2)$ ，进一步根据[[MK158][满足]]与定理条件（2）可得等价于 $\left<\mathcal{M},u\right>\vDash\phi'$

******* $\phi=p_i(\mu_1,...,\mu_n)$

若 $\left<\mathcal{M},v\right>\vDash\phi$ ，则根据[[MK158][满足]]等价于 $\left<\bar{v}(\mu_1),...,\bar{v}(\mu_n)\right>\in I(p_i)$

根据[[MK177][证明（1）]]可得 $\bar{v}(\mu_i)=\bar{u}(\mu'_i)$ ，则显然上述条件等价于 $\left<\bar{u}(\mu'_1),...,\bar{u}(\mu'_n)\right>\in I(p_i)$

进一步根据[[MK158][满足]]与定理条件（2）可得等价于 $\left<\mathcal{M},u\right>\vDash\phi'$

****** 归纳假设

对于任意 $1<z(\phi)<n$ 的 $\phi\in\mathcal{L}_\mathcal{A}$ 定理结论（2）均成立

****** $z(\phi)=n$ 时

定义 $\psi_i'$ 为将 $\psi_i$ 中所有的[[MK140][自由变元]]根据定理条件（2）替换后的[[MK129][表达式]]

根据[[MK137][唯一可读性]]，有且仅有以下可能形式

******* $\phi=(\lnot\psi_1)$

显然 $\phi'=(\lnot\psi'_1)$ ，则若 $\left<\mathcal{M},v\right>\vDash\phi$ 则根据[[MK158][满足]]等价于 $\left<\mathcal{M},v\right>\not\vDash\psi_1$

显然 $z(\psi_1)<n$ 故根据归纳假设等价于 $\left<\mathcal{M},u\right>\not\vDash\psi'_1$ 即等价于 $\left<\mathcal{M},u\right>\vDash\phi'$ 

******* $\phi=(\psi_1\to\psi_2)$ <<MK178>>

显然 $\phi'=(\psi'_1\to\psi'_2)$ ，则若 $\left<\mathcal{M},v\right>\vDash\phi$ 则根据[[MK158][满足]]等价于 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 或 $\left<\mathcal{M},v\right>\vDash\psi_2$

显然 $z(\psi_1)<n,z(\psi_2)<n$ 故根据归纳假设等价于 $\left<\mathcal{M},u\right>\not\vDash\psi'_1\lor\left<\mathcal{M},u\right>\vDash\psi'_2$

即等价于 $\left<\mathcal{M},u\right>\vDash\phi'$ 

******* $\phi=(\forall x_i\psi_1)$

******** $x_i$ 不在 $\psi_1$ 中[[MK141][自由出现]]

则有 $\phi'=(\forall x_i\psi'_1)$ 则[[MK178][类似可证]] $\left<\mathcal{M},v\right>\vDash\phi$ 等价于 $\left<\mathcal{M},u\right>\vDash\phi'$

******** $x_i$ 在 $\psi_1$ 中[[MK141][自由出现]]

定义 $\psi_1$ 中所有的自由变元为 $x_{i_1},...,x_{i_k},x_i$ ，其中 $x_{i_1},...,x_{i_k}$ 为 $\phi$ 中所有的[[MK140][自由变元]]

定义 $\psi'$ 为 $\psi_1$ 中除 $x_i$ 的所有的[[MK140][自由变元]]根据定理条件（2）替换后的[[MK129][表达式]]，则有 $\phi'=(\forall x_i\psi')$

********* 充分

当 $\left<\mathcal{M},v\right>\vDash\phi$ 时，根据[[MK158][满足]]可得对于任意[[MK154][赋值]] $\alpha:X\to M$

若满足对于任意 $\psi_1$ 中除 $x_i$ 的[[MK140][自由变元]] $x_{i_j}$ 有 $\alpha(x_{i_j})=v(x_{i_j})$ 则 $<\mathcal{M},\alpha>\vDash\psi_1$

*假设* $\left<\mathcal{M},u\right>\not\vDash\phi'$ 则存在一个[[MK154][赋值]] $\beta:X\to M$

对于任意 $\psi'$ 中除 $x_i$ 的[[MK140][自由变元]] $y_e$ 均有 $\beta(y_e)=u(y_e)$ 且 $\left<\mathcal{M},\beta\right>\not\vDash\psi'$

此时 $x_i$ 不是 $\phi'$ 中的[[MK140][自由变元]]，且替换后的项 $\tau_i$ 中不含 $\phi'$ 的[[MK140][受限变元]]

即 $\tau_i$ 中的[[MK107][变元符号]]在 $\phi'$ 中均为[[MK141][自由出现]]，则根据[[MK156][局部确定引理]]可得 $\bar{\beta}(\tau_i)=\bar{u}(\tau_i)$

定义一组 $\tau'_{i_1},...,\tau'_{i_k},\tau'_i$ 其中 $\tau'_{i_j}=\tau_{i_j}$ 且 $\tau_i=x_i$ 定义 $\mathcal{M}$ [[MK154][赋值]] $\rho$

满足 $\rho(x_{i_j})=\bar{\beta}(\tau'_{i_j})$ 且 $\rho(x_i)=\bar{\beta}(\tau'_i)$

由于 $z(\psi_1)<n$ 则根据归纳假设对于任意满足条件（2）的一组 $\tau'_{i_1},...,\tau'_{i_k},\tau'_i$ 以及[[MK154][赋值]] $\rho$

均有 $\left<\mathcal{M},\rho\right>\vDash\psi_1\Leftrightarrow\left<\mathcal{M},\beta\right>\vDash\psi'$ 则 $\left<\mathcal{M},\rho\right>\not\vDash\psi_1$

则根据定义，对于任意 $\phi$ 中的[[MK140][自由变元]]均有 $\rho(x_{i_j})=\bar{\beta}(\tau'_{i_j})=\bar{\beta}(\tau_{i_j})=\bar{u}(\tau_{i_j})=v(x_{i_j})$

故可得存在 $\mathcal{M}$ [[MK154][赋值]] $\rho$ 满足对于任意 $\psi_1$ 中除 $x_i$ 的[[MK140][自由变元]] $x_{i_j}$ 有 $\rho(x_{i_j})=v(x_{i_j})$ 则 $\left<\mathcal{M},\rho\right>\not\vDash\psi_1$

即根据[[MK158][满足]]定义可得 $\left<\mathcal{M},v\right>\not\vDash\phi$ 与任意 $\left<\mathcal{M},\alpha\right>\vDash\psi_1$ 矛盾，故假设不成立，即 $\left<\mathcal{M},u\right>\vDash\phi'$ 

********* 必要

当 $\left<\mathcal{M},u\right>\vDash\phi'$ 时， *假设* $\left<\mathcal{M},v\right>\not\vDash\phi$ 则存在一个[[MK154][赋值]] $\beta:X\to M$

对于任意 $\psi_1$ 中除 $x_i$ 的[[MK140][自由变元]] $x_{i_j}$ 均有 $\beta(x_{i_j})=v(x_{i_j})$ 且 $\left<\mathcal{M},\beta\right>\not\vDash\psi_1$

定义一组[[MK117][项]] $\tau_{i_1},...,\tau_{i_k},x_i$ ， 定义 $\mathcal{M}$ [[MK154][赋值]] $\alpha$ 满足对于任意 $\psi'$ 中除 $x_i$ 的[[MK140][自由变元]] $y_e$

有 $\alpha(y_e)=u(y_e)$ 且 $\alpha(x_i)=\beta(x_i)$ ，则根据 $\left<\mathcal{M},u\right>\vDash(\forall x_i\psi')$ 以及[[MK158][满足]]定义有 $\left<\mathcal{M},\alpha\right>\vDash\psi'$

此时 $x_i$ 不是 $\phi'$ 中的[[MK140][自由变元]]，且替换后的项 $\tau_{i_j}$ 中不含 $\phi'$ 的[[MK140][受限变元]]

即 $\tau'_{i_j}$ 中不含 $x_i$ ，则根据[[MK156][局部确定引理]]可得 $\bar{\alpha}(\tau_{i_j})=\bar{u}(\tau_{i_j})=v(x_{i_j})=\beta(x_{i_j})$

又由于替换后的项 $\tau_{i_j}$ 中不含 $\phi'$ 的[[MK140][受限变元]]，则显然 $\psi_1$ 替换 $\tau_{i_1},...,\tau_{i_k},x_i$ 后亦不含 $\psi'$ 的[[MK140][受限变元]]

显然 $\tau_{i_1},...,\tau_{i_k},x_i$ 对于 $\psi_1,\psi'$ 满足条件（2），显然亦有 $z(\psi_1)<n$

根据归纳假设对于[[MK154][赋值]] $\alpha,\beta$ 有 $\left<\mathcal{M},\beta\right>\vDash\psi_1\Leftrightarrow\left<\mathcal{M},\alpha\right>\vDash\psi'$ 则 $\left<\mathcal{M},\alpha\right>\not\vDash\psi_1$ 显然矛盾

故假设不成立，即 $\left<\mathcal{M},v\right>\vDash\phi$

**** 推论1<<MK467>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v,u$ 则对于任意[[MK129][表达式]] $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 若满足

（1） $\phi$ 中包含[[MK117][项]] $\tau_1,...,\tau_k$ ，

（2） $\tau_i$ 在 $\phi$ 中的出现不含[[MK140][受限变元]]

（3） 存在[[MK117][项]] $\tau'_1,...,\tau'_k$ 满足 $v(\tau_i)=u(\tau'_i)$

（4） 对于任意 $1\leq i\leq n$ 有 $v(x_i)=u(x_i)$

（5） $\phi$ 中 $\tau'_i$ [[MK150][可替换]] $\tau_i$

则定义 $\phi'$ 为将 $\phi$ 中 $\tau_1,...,\tau_k$ 替换为 $\tau'_1,...,\tau'_k$ 后的[[MK115][符号串]]，则有

（1） $\phi'$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]

（2） $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},u\right>\vDash\phi'$

***** 证明

根据[[MK146][项替换定理]]可证（1）

定义 $\phi''$ 为将 $\phi$ 中 $\tau_1,...,\tau_k$ 替换为 $x_{n+1},...,x_{n+k}$ 后的表达式，定义 $\mathcal{M}$ [[MK154][赋值]] $\mu$ 满足

（1） 对于任意 $1\leq i\leq n$ 有 $\mu(x_i)=u(x_i)$

（2） 对于任意 $i>n$ 有 $\mu(x_i)=\bar{u}(x_i)$

显然由于 $\phi$ 中不含 $x_{n+1},...,x_{n+k}$ ，则 $\phi''$ 中所有 $x_{n+1},...,x_{n+k}$ 的出现均为[[MK141][自由出现]]

又由于任意 $\tau_i$ 在 $\phi$ 中的出现不含[[MK140][受限变元]]，故 $\phi''$ 中的 $x_1,...,x_n,x_{n+1},...,x_{n+k}$

[[MK150][可替换]]为 $x_1,...,x_n,\tau_1,...\tau_k$ ，显然[[MK145][替换]]后为 $\phi$ ，则根据[[MK176][替换定理]]

可得 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},\mu\right>\vDash\phi''$

同理易证将 $\phi''$ 中的 $x_1,...,x_n,x_{n+1},...,x_{n+k}$ [[MK145][替换]]为 $x_1,...,x_n,\tau_1,...\tau_k$ 后为 $\phi'$

又由于 $\phi$ 中 $\tau'_i$ [[MK150][可替换]] $\tau_i$ ，故显然 $x_1,...,x_n,x_{n+1},...,x_{n+k}$

[[MK150][可替换]]为 $x_1,...,x_n,\tau'_1,...\tau'_k$ ，根据[[MK176][替换定理]] $\left<\mathcal{M},v\right>\vDash\phi'$ 的充要条件是 $\left<\mathcal{M},\mu\right>\vDash\phi''$

综上所述， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},u\right>\vDash\phi'$

**** 推论2<<MK490>>

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 中的一组[[MK129][表达式]] $\Gamma$ 若存在[[MK129][表达式]] $\phi$ 满足 $\Gamma\vdash(\forall x_i\phi)$ 则对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK117][项]] $\tau$ 均有 $\Gamma\vdash\phi(\left<x_i\right>,\left<\tau\right>)$

***** 证明

根据[[MK257][完备性]]可得对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash(\forall x_i\phi)$ 

对于任意 $\tau$ 显然有 $\bar{v}(\tau)\in M$ ，则定义 $v'$ 满足 $v'(x_j)=\begin{cases}v(x_j)&j\ne i\\\bar{v}(\tau)&j=i\end{cases}$ 显然根据[[MK158][满足]]可得 $\left<\mathcal{M},v'\right>\vDash\phi$

又由于对于任意 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 均有 $v(x_j)=v'(x_j)$ 结合 $\left<\mathcal{M},v'\right>\vDash\phi$

根据[[MK176][替换定理]]可得 $\left<\mathcal{M},v\right>\vDash\phi(\left<x_1,...,x_{i-1},x_i,x_{i+1},...,x_n\right>,\left<x_1,...,x_{i-1},\tau,x_{i+1},...,x_n\right>)$ 显然即 $\left<\mathcal{M},v\right>\vDash\phi(\left<x_i\right>,\left<\tau\right>)$

综上所述，对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash\phi(\left<x_i\right>,\left<\tau\right>)$

即根据[[MK257][完备性]]可得 $\Gamma\vdash\phi(\left<x_i\right>,\left<\tau\right>)$

*** [[MK139][子表达式]]替换定理<<MK179>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有 $\{\phi,\psi_1,\psi_2\}\subset\mathcal{L}_\mathcal{A}$ 满足

（1） $\psi_1$ 是 $\phi$ 的[[MK139][子表达式]]

（2） 对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash\psi_1$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\psi_2$

则定义 $\phi'$ 是将 $\phi$ 中任意 $1$ 个为 $\psi_1$ 的[[MK139][子表达式]]替换为 $\psi_2$ 后的[[MK115][基本符号串]]，则有

（1） $\phi'$ 亦为 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]

（2） 对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi'$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

**** 证明

根据[[MK148][替换引理]]可得结论（1）成立

根据[[MK139][定义]]可得对于任意 $\phi$ 的[[MK139][子表达式]] $\psi_1$ 存在 $\left<\phi_1,...,\phi_n\right>$ 满足[[MK139][子表达式]]条件

根据 $n<\infty$ ，下列证明以及数学归纳法证结论（2）正确

***** $n=1$ <<MK180>>

根据[[MK139][定义]]有且仅有以下三种情况，则对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 

****** $\phi=(\lnot\psi_1)$

根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\not\vDash\psi_1$

根据条件（2）可得 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 的充要条件是 $\left<\mathcal{M},v\right>\not\vDash\psi_2$

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\not\vDash\psi_2$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\lnot\psi_2)$ 即 $\left<\mathcal{M},v\right>\vDash\phi'$ 

综上所述，$\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi'$ 

****** $\phi=(\varphi_1\to\varphi_2)$ 其中 $\varphi_1,\varphi_2$ 至少有一个等于 $\psi_1$

不妨设 $\phi=(\psi_1\to\varphi_2),\phi'=(\psi_2\to\varphi_2)$ ， $\phi=(\varphi_1\to\psi_1),\phi'=(\varphi_2\to\varpsi_2)$ 同理可证 

******* 充分

根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 或 $\left<\mathcal{M},v\right>\vDash\varphi_2$

若 $\left<\mathcal{M},v\right>\vDash\varphi_2$ 则有 $\left<\mathcal{M},v\right>\vDash\phi'=(\psi_2\to\varphi_2)$

若 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 则根据条件（2）有 $\left<\mathcal{M},v\right>\not\vDash\psi_2$ 根据[[MK158][满足]]有 $\left<\mathcal{M},v\right>\vDash\phi'=(\psi_2\to\varphi_2)$

综上所述，$\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi'$ 

******* 必要

根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi'$ 的充要条件是 $\left<\mathcal{M},v\right>\not\vDash\psi_2$ 或 $\left<\mathcal{M},v\right>\vDash\varphi_2$

则于上一步充分同理可证

****** $\phi=(\forall x_k\psi_1)$

******* 充分

根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是对于任意[[MK154][赋值]] $\mu$ 若满足对于任意除 $x_i$ 的[[MK107][变元符号]] $x_j$ 有 $\mu(x_j)=v(x_j)$

则有 $\left<\mathcal{M},\mu\right>\vDash\psi_1$ ，则根据条件（2）可得 $\left<\mathcal{M},\mu\right>\vDash\psi_2$

即对于任意任意[[MK154][赋值]] $\mu$ 若满足对于任意除 $x_i$ 的[[MK107][变元符号]] $x_j$ 有 $\mu(x_j)=v(x_j)$ 均有 $\left<\mathcal{M},\mu\right>\vDash\psi_2$

则根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi'=(\forall x_i\psi_2)$ 

******* 必要

与上一步充分同理可证

***** 归纳假设

对于任意 $\phi$ 的任意一个[[MK139][子表达式]] $\psi_1$ 根据[[MK139][定义]]有 $\left<\phi_1,...,\phi_n\right>$ ，若满足 $n<N$

定义 $\phi'$ 为替换该 $\psi_1$ 为 $\psi_2$ 后的[[MK115][基本符号串]]

则对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi'$

***** $n=N$

对于任意 $\phi$ 的任意一个[[MK139][子表达式]] $\psi_1$ 根据[[MK139][定义]]有 $\left<\phi_1,...,\phi_n\right>$

定义 $\phi'_2$ 是将 $\phi_2$ 中该 $\psi_1$ 替换为 $\psi_2$ 后的[[MK115][基本符号串]]，根据[[MK148][替换引理]]可得 $\phi'_2$ 是 $\mathcal{L} _\mathcal{A}$ 的[[MK129][表达式]]

根据归纳假设 $\left<\mathcal{M},v\right>\vDash\phi_2$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi'_2$

定义 $\phi''$ 为 $\phi$ 中替换包含目标 $\psi_1$ 的 $\phi_2$ 为 $\phi'_2$ 的[[MK115][基本符号串]]，根据[[MK148][替换引理]]可得 $\phi'_2$ 是 $\mathcal{L} _\mathcal{A}$ 的[[MK129][表达式]]

则[[MK180][同理可证]] $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi''$ ，显然有 $\phi'=\phi''$

故综上所述 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi'$

**** 等价[[MK144][语句]]举例

对于[[MK151][语言]] $\mathcal{L}_\mathcal{A}$ 的任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 与其[[MK154][赋值]] $v$

定义 $\mathcal{M}$ [[MK154][赋值]] $\mu$ 满足 $\mu(z)=\begin{cases}v(x)&z=y\\v(z)&z\ne y\end{cases},z\in X$ 则有 

则对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]] $\phi,\phi_1,\phi_2$ 以及[[MK144][语句]] $\varphi\in\mathcal{L}_\mathcal{A}$ 均有以下命题，其中 $\Leftrightarrow$ 表示充要条件

***** 改名规则<<MK181>>

\begin{aligned}
\left<\mathcal{M},v\right>\vDash(\exists x \phi)\Leftrightarrow\left<\mathcal{M},\mu\right>\vDash(\exists y \phi)\\
\left<\mathcal{M},v\right>\vDash(\forall x \phi)\Leftrightarrow\left<\mathcal{M},\mu\right>\vDash(\forall y \phi)
\end{aligned}

***** 量词转换<<MK182>>

\begin{aligned}
\left<\mathcal{M},v\right>\vDash(\lnot(\exists x\phi))\Leftrightarrow\left<\mathcal{M},v\right>\vDash(\forall x(\lnot\phi))\\
\left<\mathcal{M},v\right>\vDash(\lnot(\forall x\phi))\Leftrightarrow\left<\mathcal{M},v\right>\vDash(\exists x(\lnot \phi))
\end{aligned}

***** 辖域变化<<MK183>>

\begin{aligned}
\left<\mathcal{M},v\right>\vDash(\forall x(\phi(x)\lor \varphi))\Leftrightarrow\left<\mathcal{M},v\right>\vDash((\forall x\phi(x))\lor \varphi)\\
\left<\mathcal{M},v\right>\vDash(\forall x(\phi(x)\land \varphi))\Leftrightarrow\left<\mathcal{M},v\right>\vDash((\forall x\phi(x))\land \varphi)\\
\left<\mathcal{M},v\right>\vDash(\exists x(\phi(x)\lor \varphi))\Leftrightarrow\left<\mathcal{M},v\right>\vDash((\exists x\phi(x))\lor \varphi)\\
\left<\mathcal{M},v\right>\vDash(\exists x(\phi(x)\land \varphi))\Leftrightarrow\left<\mathcal{M},v\right>\vDash((\exists x\phi(x))\land \varphi)\\
\end{aligned}

***** 量词分配律<<MK184>>

\begin{aligned}
\left<\mathcal{M},v\right>\vDash(\forall x(\phi(x)\land \psi(x)))\Leftrightarrow\left<\mathcal{M},v\right>\vDash((\forall x\phi(x))\land(\forall x\psi(x)))\\
\left<\mathcal{M},v\right>\vDash((\forall x\phi(x))\lor(\forall x\psi(x)))\Rightarrow\left<\mathcal{M},v\right>\vDash(\forall x(\phi(x)\lor \psi(x)))\\
\left<\mathcal{M},v\right>\vDash(\exists x(\phi(x)\land \psi(x)))\Rightarrow\left<\mathcal{M},v\right>\vDash((\exists x\phi(x))\land(\exists x\psi(x)))\\
\left<\mathcal{M},v\right>\vDash(\exists x(\phi(x)\lor \psi(x)))\Leftrightarrow\left<\mathcal{M},v\right>\vDash((\exists x\phi(x))\lor(\exists x\psi(x)))\\
\end{aligned}

***** 量词交换<<MK185>>

\begin{aligned}
\left<\mathcal{M},v\right>\vDash(\forall x(\forall y\eta(x,y)))\Leftrightarrow\left<\mathcal{M},v\right>\vDash(\forall y(\forall x \eta(x,y)))\\
\left<\mathcal{M},v\right>\vDash(\exists x(\exists y\eta(x,y)))\Leftrightarrow\left<\mathcal{M},v\right>\vDash(\exists y(\exists x \eta(x,y)))\\
\end{aligned}

***** 德摩根律<<MK186>>

\begin{aligned}
\left<\mathcal{M},v\right>\vDash(\lnot(\phi_1\lor\phi_2))&\Leftrightarrow\left<\mathcal{M},v\right>\vDash((\lnot\phi_1)\land(\lnot\phi_2))\\
\left<\mathcal{M},v\right>\vDash(\lnot(\phi_1\land\phi_2))&\Leftrightarrow\left<\mathcal{M},v\right>\vDash((\lnot\phi_1)\lor(\lnot\phi_2))\\
\end{aligned}

****** 证明

仅证 $\left<\mathcal{M},v\right>\vDash(\lnot(\phi_1\lor\phi_2))&\Leftrightarrow\left<\mathcal{M},v\right>\vDash((\lnot(\phi_1))\land(\lnot\phi_2))$ 充分性，其他同理可证

******* 充分

若 $\left<\mathcal{M},v\right>\vDash(\lnot(\phi_1\lor\phi_2))$ 根据[[MK158][满足]]有 $\left<\mathcal{M},v\right>\not\vDash(\phi_1\lor\phi_2)$ 根据[[MK171][逻辑或]]可得 $\left<\mathcal{M},v\right>\not\vDash\phi_1$ 且 $\left<\mathcal{M},v\right>\not\vDash\phi_2$

即有 $\left<\mathcal{M},v\right>\vDash(\lnot\phi_1)$ 且 $\left<\mathcal{M},v\right>\vDash(\lnot\phi_2)$ 根据[[MK170][逻辑与]]可得 $\left<\mathcal{M},v\right>\vDash((\lnot(\phi_1))\land(\lnot\phi_2))$

***** 与/或交换<<MK451>>

\begin{aligned}
\left<\mathcal{M},v\right>\vDash(\phi_1\lor\phi_2)&\Leftrightarrow\left<\mathcal{M},v\right>\vDash(\phi_2\lor\phi_1)\\
\left<\mathcal{M},v\right>\vDash(\phi_1\land\phi_2)&\Leftrightarrow\left<\mathcal{M},v\right>\vDash(\phi_2\land\phi_1)\\
\end{aligned}

***** 与/或分配<<MK452>>

\begin{aligned}
\left<\mathcal{M},v\right>\vDash(\phi_3\land(\phi_1\lor\phi_2))&\Leftrightarrow\left<\mathcal{M},v\right>\vDash((\phi_3\land\phi_1)\lor(\phi_3\land\phi_2))\\
\left<\mathcal{M},v\right>\vDash(\phi_3\lor(\phi_1\land\phi_2))&\Leftrightarrow\left<\mathcal{M},v\right>\vDash((\phi_3\lor\phi_1)\land(\phi_3\lor\phi_2))\\
\end{aligned}

***** 与/或吸收<<MK454>>

\begin{aligned}
\left<\mathcal{M},v\right>\vDash(\phi_1\lor\phi_1)&\Leftrightarrow\left<\mathcal{M},v\right>\vDash\phi_1\\
\left<\mathcal{M},v\right>\vDash(\phi_1\land\phi_1)&\Leftrightarrow\left<\mathcal{M},v\right>\vDash\phi_1\\
\end{aligned}

***** 无关存在量词引入<<MK455>>

若 $x_i$ 不在 $\phi$ 中，则有

\begin{aligned}
\left<\mathcal{M},v\right>\vDash(\exists x_i\phi)&\Leftrightarrow\left<\mathcal{M},v\right>\vDash\phi\\
\left<\mathcal{M},v\right>\vDash(\forall x_i\phi)&\Leftrightarrow\left<\mathcal{M},v\right>\vDash\phi\\
\end{aligned}

***** 双重否定<<MK462>>

\begin{aligned}
\left<\mathcal{M},v\right>\vDash(\lnot(\lnot\phi))&\Leftrightarrow\left<\mathcal{M},v\right>\vDash\phi\\
\end{aligned}

** 逻辑结论<<MK187>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ ，以及[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 若满足

对于任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 只要 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash\phi$

即只要 $\left<\mathcal{M},v\right>$ [[MK189][可满足]] $\Gamma$ ，则 $\left<\mathcal{M},v\right>$ [[MK158][满足]] $\phi$ 。则称 $\phi$ 是 $\Gamma$ 在 $\mathcal{L}_\mathcal{A}$ 下的逻辑结论

忽略语言选择，记作 $\Gamma\vDash\phi$

*** 满足[[MK129][表达式]]集合<<MK188>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有 $\Gamma$ 是一个[[MK129][表达式]]集合，对于[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及[[MK154][赋值]] $v$

若任意 $\gamma\in \Gamma$ 均有 $<\mathcal{M},v>\vDash\gamma$ 即[[MK158][满足]] $\gamma$ 则称 $<\mathcal{M},v>$ 满足集合 $\Gamma$ 记作 $<\mathcal{M},v>\vDash\Gamma$ 

*** 可满足<<MK189>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有 $\Gamma$ 是一个[[MK129][表达式]]集合，若存在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及[[MK154][赋值]] $v$

使得任意 $\gamma\in \Gamma$ 均有 $\left<\mathcal{M},v\right>\vDash\gamma$ 即[[MK158][满足]] $\gamma$ 则称 $\Gamma$ 是可满足的

且对于 $\left<\mathcal{M},v\right>$ 满足所有 $\Gamma$ 中的表达式记作 $\left<\mathcal{M},v\right>\vDash\Gamma$

**** 定理<<MK190>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有 $\Gamma$ 是[[MK189][可满足]]的，定义 $\mathcal{A}^*$ 为 $\Gamma$ 中所含[[MK105][非固定符号]]集合

则 $\Gamma$ 亦为 $\mathcal{L}_{\mathcal{A}^*}$ 的[[MK129][表达式]]集合，且在 $\mathcal{L}_{\mathcal{A}^*}$ 下亦[[MK189][可满足]]

***** 证明

若存在 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及[[MK154][赋值]] $v$ 使得 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有对于任意 $\phi\in\Gamma$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$

定义 $I^*$ 满足：

（1） 若 $c_i\in\mathcal{A}^*\cap C$ 是[[MK108][常元符号]]，则 $I^*(c_i)=I(c_i)$

（2） 若 $f_i\in \mathcal{A}^*\cap F$ 是[[MK109][函数符号]]且根据[[MK112][符号假定]]有 $\pi_F(f_i)=n$ ，则 $I^*(f_i)=I(f_i)$

（3） 若 $p_i\in\mathcal{A}^*\cap P$ 是[[MK110][谓词符号]]且根据[[MK112][符号假定]]有 $\pi_P(p_i)=n$ ，则 $I^*(p_i)=I(p_i)$

进一步定义 $\mathcal{M}^*=\left<M,I^*\right>$ 则显然 $\mathcal{M}^*=\left<M,I^*\right>$ 是 $\mathcal{L}_{\mathcal{A}^*}$ 下的[[MK153][结构]]，显然 $v$ 亦为 $\mathcal{L}_{\mathcal{A}^*}$ 下的[[MK154][赋值]]

根据 $\mathcal{A}^*$ 的定义可得 $\phi$ 是 $\mathcal{L}_{\mathcal{A}^*}$ 下的[[MK129][表达式]]，则类似[[MK156][项的局部确定性]]、[[MK168][表达式的局部确定性]]以及数学归纳法

易证 $\left<\mathcal{M}^*,v\right>\vDash\phi$

*** 真实<<MK191>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 若对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$

均有 $\left<\mathcal{M},v\right>\vDash\phi$ 即[[MK158][满足]] $\phi$ ，则称 $\phi$ 在 $\mathcal{M}$ 中是真实的，记作 $\mathcal{M}\vDash\phi$

同理若有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 若对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ ，任意 $\gamma\in\Gamma$ 均有 $\left<\mathcal{M},v\right>\vDash\gamma$

则称 $\Gamma$ 在 $\mathcal{M}$ 中是真实的，记作 $\mathcal{M}\vDash\Gamma$

**** 定理<<MK192>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK144][语句]]集合 $T\subset\mathcal{L}_\mathcal{A}$ 以及[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ ，对于任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$

（1） 存在 $\mathcal{M}$ [[MK154][赋值]] $v$ 使得 $\left<\mathcal{M},v\right>\vDash\theta$ 即 $\left<\mathcal{M},v\right>$ [[MK188][满足]] $\theta$ 的充要条件是 $\theta$ 在 $\mathcal{M}$ 中是[[MK191][真实]]的，即 $\mathcal{M}\vDash\theta$

（2） 存在 $\mathcal{M}$ [[MK154][赋值]] $v$ 使得 $\left<\mathcal{M},v\right>\vDash T$ 即 $\left<\mathcal{M},v\right>$ [[MK188][满足]] $T$ 的充要条件是 $\Gamma$ 在 $\mathcal{M}$ 中是[[MK191][真实]]的，即 $\mathcal{M}\vDash T$

***** 证明

****** 证明（1）

由于 $\theta$ 是[[MK144][语句]]故根据[[MK169][推论]]以及[[MK191][真实]]定义可得 $\mathcal{M}\vDash\theta$

****** 证明（2）

根据[[MK188][满足]]定义可得对于任意 $\theta\in T$ 均有 $\left<\mathcal{M},v\right>\vDash\theta$ ，又由于 $\theta$ 是[[MK144][语句]]故根据[[MK169][推论]]

可得对于任意 $\mathcal{M}$ [[MK154][赋值]] $v'$ 均有 $\left<\mathcal{M},v'\right>\vDash\theta$ 。综上所述，对于任意 $\theta\in T$

任意 $\mathcal{M}$ [[MK154][赋值]] $v'$ 均有 $\left<\mathcal{M},v'\right>\vDash\theta$ ，即 $\mathcal{M}\vDash T$

*** 普遍真实<<MK193>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ ，若对于任意[[MK153][结构]] $\phi$ 都是[[MK191][真实]]的

则称 $\phi$ 是普遍真实的，记作 $\vDash\phi$

同理若有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 在任意[[MK153][结构]]中都是[[MK191][真实]]的

则称 $\Gamma$ 是普遍真实的，记作 $\vDash\Gamma$

**** 定理<<MK194>>

[[MK197][逻辑公理]]均是[[MK193][普遍真实]]的

***** 证明

****** 逻辑运算律

仅证蕴含分配 $\phi=((\phi_1\to(\phi_2\to\phi_3))\to((\phi_1\to\phi_2)\to(\phi_1\to\phi_3)))$ ，其余同理可证

对于任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 假设 $<\mathcal{M},v>\not\vDash\phi$ 根据[[MK158][满足]]可得

等价于 $<\mathcal{M},v>\vDash(\phi_1\to(\phi_2\to\phi_3))$ 且 $<\mathcal{M},v>\not\vDash((\phi_1\to\phi_2)\to(\phi_1\to\phi_3))$

[[MK158][同理]]可得 $<\mathcal{M},v>\vDash(\phi_1\to(\phi_2\to\phi_3))$ 的充要条件是 $<\mathcal{M},v>\not\vDash\phi_1$ 或 $<\mathcal{M},v>\vDash(\phi_2\to\phi_3)$

当 $<\mathcal{M},v>\not\vDash\phi_1$ 则有 $<\mathcal{M},v>\not\vDash(\phi_1\to\phi_2)$ 进一步 $<\mathcal{M},v>\vDash((\phi_1\to\phi_2)\to(\phi_1\to\phi_3))$

当 $<\mathcal{M},v>\vDash\phi_1$ 且 $<\mathcal{M},v>\vDash(\phi_2\to\phi_3)$ 时，同理等价于 $<\mathcal{M},v>\not\vDash\phi_2$ 或 $<\mathcal{M},v>\vDash\phi_3$  

此时若 $<\mathcal{M},v>\not\vDash\phi_2$ 则可得 $<\mathcal{M},v>\not\vDash(\phi_1\to\phi_2)$ 即有 $<\mathcal{M},v>\vDash((\phi_1\to\phi_2)\to(\phi_1\to\phi_3))$

若 $<\mathcal{M},v>\vDash\phi_3$ 则有 $<\mathcal{M},v>\vDash(\phi_1\to\phi_3)$ 即有 $<\mathcal{M},v>\vDash((\phi_1\to\phi_2)\to(\phi_1\to\phi_3))$

综上所述，当 $<\mathcal{M},v>\vDash(\phi_1\to(\phi_2\to\phi_3))$ 必有 $<\mathcal{M},v>\vDash((\phi_1\to\phi_2)\to(\phi_1\to\phi_3))$

与 $<\mathcal{M},v>\vDash(\phi_1\to(\phi_2\to\phi_3))$ 且 $<\mathcal{M},v>\not\vDash((\phi_1\to\phi_2)\to(\phi_1\to\phi_3))$ 矛盾

则假设不成立，故对于任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 均有 $<\mathcal{M},v>\vDash\phi$

****** 特化公理

设任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 包含的[[MK140][自由变元]] $x_1$ ， $\tau_1\in T$ 是任意[[MK117][项]],若 $\tau_i$ [[MK150][可替换]] $\phi$ 中的[[MK140][自由变元]] $x_i$

则定义 $\phi'$ 为将 $\phi$ 中所有[[MK141][自由出现]]的 $x_1$ [[MK146][替换]]为 $\tau$ 后的[[MK129][表达式]]

进一步定义 $\psi=((\forall x_1\phi)\to\phi')$ ， $\phi$ 中的[[MK140][自由变元]]全体为 $X_\phi$ ， $\phi'$ 中的[[MK140][自由变元]]全体为 $X_{\phi'}$

对于任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 假设 $<\mathcal{M},v>\not\vDash\psi$ 根据[[MK158][满足]]可得

等价于 $<\mathcal{M},v>\vDash(\forall x_1\phi)$ 且 $<\mathcal{M},v>\not\vDash\phi'$ [[MK158][同理]]可得对于任意 $\mathcal{M}$ [[MK154][赋值]] $\mu$

若满足对于任意 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j\in X_\phi$ 有 $\mu(x_j)=v(x_j)$ ，则有 $<\mathcal{M},\mu>\vDash(\forall x_i\phi)$

则定义 $\mu^*$ 满足于任意 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j\in X_\phi$ 有 $\mu^*(x_j)=\mu(x_j)=v(x_j)$

对于任意 $x_j\in X_{\phi'}-X_\phi$ 均有 $\mu^*(x_j)=v(x_j)$ 即对于任意 $x_j\in X_{\phi'}$ 均有 $\mu^*(x_j)=v(x_j)$ 

则显然有 $<\mathcal{M},\mu^*>\vDash(\forall x_i\phi)$ 由于 $\tau_1$ [[MK150][可替换]] $x_1$ 则根据[[MK176][替换定理]]可得 $<\mathcal{M},\mu^*>\vDash\phi'$

又根据[[MK168][局部确定性定理]]可得 $<\mathcal{M},v>\vDash\phi'$ 即若 $<\mathcal{M},v>\vDash(\forall x_1\phi)$ 则有 $<\mathcal{M},v>\vDash\phi'$

与假设矛盾，故有任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 均有 $<\mathcal{M},v>\vDash\psi$

****** 全称量词分配

设 $\phi_1,\phi_2$ 是任意 $\mathcal{L}_\mathcal{A}$ [[MK129][表达式]]，则对于任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$

定义 $\phi=((\forall x_i(\phi_1\to\phi_2))\to((\forall x_i\phi_1)\to(\forall x_i\phi_2)))$ 假设 $<\mathcal{M},v>\not\vDash\phi$ 根据[[MK158][满足]]可得

等价于 $<\mathcal{M},v>\vDash(\forall x_i(\phi_1\to\phi_2))$ 且 $<\mathcal{M},v>\not\vDash((\forall x_i\phi_1)\to(\forall x_i\phi_2))$

由于 $<\mathcal{M},v>\vDash(\forall x_i(\phi_1\to\phi_2))$ ，则对于任意 $\mathcal{M}$ [[MK154][赋值]] $\mu$ 若满足对于任意 $(\forall x_i(\phi_1\to\phi_2))$

中的[[MK140][自由变元]] $x_j$ 均有 $\mu(x_j)=v(x_j)$ 则 $<\mathcal{M},\mu>\vDash(\phi_1\to\phi_2)$ [[MK158][同理]]可得

由于 $<\mathcal{M},v>\not\vDash((\forall x_i\phi_1)\to(\forall x_i\phi_2))$ 则[[MK158][同理]]可得 $<\mathcal{M},v>\vDash(\forall x_i\phi_1)$ 且 $<\mathcal{M},v>\not\vDash(\forall x_i\phi_2)$

同理对于任意 $\mathcal{M}$ [[MK154][赋值]] $\mu_1$ 若满足对于任意 $(\forall x_i\phi_1)$ 中的[[MK140][自由变元]] $x_j$ 均有 $\mu_1(x_j)=v(x_j)$

则有 $<\mathcal{M},\mu_1>\vDash\phi_1$ 。

则对于任意 $\mathcal{M}$ [[MK154][赋值]] $\mu_2$ 满足 $(\forall x_i\phi_2)$ 中的[[MK140][自由变元]] $x_j$ 均有 $\mu_2(x_j)=v(x_j)$ ，则定义 $\mathcal{M}$ [[MK154][赋值]] $\mu^*$

满足若 $x_j$ 是 $(\forall x_i\phi_1)$ 中的[[MK140][自由变元]]，则 $\mu^*(x_j)=\mu_1(x_j)=v(x_i)$ ，若 $x_j$ 是 $(\forall x_i\phi_2)$ 中的[[MK140][自由变元]]

则 $\mu^*(x_j)=\mu_2(x_j)=v(x_i)$ 

显然 $(\forall x_i\phi_1)$ 和 $(\forall x_i\phi_2)$ 中的[[MK140][自由变元]]，等于 $(\forall x_i(\phi_1\to\phi_2))$ 中的[[MK140][自由变元]]

则 $\mu^*$ 满足对于任意 $(\forall x_i(\phi_1\to\phi_2))$ 中的[[MK140][自由变元]] $x_j$ 均有 $\mu(x_j)=v(x_j)$ ，故 $<\mathcal{M},\mu^*>\vDash(\phi_1\to\phi_2)$

根据[[MK168][局部确定性定理]]可得 $<\mathcal{M},\mu^*>\vDash\phi_1$ 则根据[[MK158][满足]]定义可得 $<\mathcal{M},\mu^*>\vDash\phi_2$

又根据[[MK168][局部确定性定理]]亦可得 $<\mathcal{M},\mu_2>\vDash\phi_2$ 矛盾

故假设不成立，对于任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 均有 $<\mathcal{M},v>\vDash\phi$ 

****** 无关量词引入

设任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 不包含的[[MK140][自由变元]] $x_i$ ，定义 $\psi=(\phi\to(\forall x_i\phi))$

则对于任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 假设 $<\mathcal{M},v>\not\vDash\psi$ 根据[[MK158][满足]]可得

等价于 $<\mathcal{M},v>\vDash\phi$ 且 $<\mathcal{M},v>\not\vDash(\forall x_i\phi)$ ，故对于任意 $\mathcal{M}$ [[MK154][赋值]] $\mu$

若满足 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\mu(x_j)=v(x_j)$ ，则根据 $\phi$ 中不含的[[MK140][自由变元]] $x_i$

以及 $<\mathcal{M},v>\vDash\phi$ 可得对于任意 $\phi$ 中的[[MK140][自由变元]] $x_j$ 有 $\mu(x_j)=v(x_j)$

则根据[[MK168][局部确定性定理]]可得 $<\mathcal{M},\mu>\vDash\phi$ ，又根据[[MK158][满足]] $<\mathcal{M},v>\vDash(\forall x_i\phi)$

与假设矛盾，故有 $<\mathcal{M},v>\vDash\psi$

****** 全域化

假定 $\phi$ 为全域化处理的任意[[MK197][公理]]，则根据其他证明 $\phi$ 是普遍真实的

则对于任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 均有 $<\mathcal{M},v>\vDash\phi$

同理对于任意 $\mathcal{M}$ [[MK154][赋值]] $\mu$ 亦有 $<\mathcal{M},\mu>\vDash\phi$ ，则根据[[MK158][满足]]可得 $<\mathcal{M},v>\vDash(\forall x_i\phi)$

由于 $|\phi|<\infty$ 与可根据全域化次数做数学归纳法，证明对于任意[[MK197][公理]] $\phi$ 均有 $<\mathcal{M},v>\vDash(\forall x_i\phi)$

****** 恒等律

对任意[[MK107][变元符号]]定义 $\phi=(x_i\hat{=}x_i)$ 则对于任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$

均有 $v(x_i)=v(x_i)$ 则根据[[MK158][满足]]可得 $<\mathcal{M},v>\vDash\phi$

****** 等同律

设 $\phi_1,\phi_2$ 是 $\mathcal{L}_\mathcal{A}$ 中的[[MK129][表达式]]且 $x_j$ [[MK150][可替换]] $\phi_1$ 和 $\phi_2$ 中的[[MK140][自由变元]] $x_i$

则定义替换 $x_i$ 的所有[[MK141][自由出现]]后的表达式分别为 $\phi_1',\phi_2'$ 若 $\phi_1'=\phi_2'$ 定义 $\phi=((x_i\hat{=}x_j)\to(\phi_1\to\phi_2))$

则对于任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 假设 $<\mathcal{M},v>\not\vDash\phi$ 根据[[MK158][满足]]可得

等价于 $<\mathcal{M},v>\vDash(x_i\hat{=}x_j)$ 且 $<\mathcal{M},v>\not\vDash(\phi_1\to\phi_2)$ 根据[[MK158][满足]]可得 $v(x_i)=v(x_j)$

以及 $<\mathcal{M},v>\vDash\phi_1$ 且 $<\mathcal{M},v>\not\vDash\phi_2$ 则根据[[MK176][替换定理]]可得等价于 $<\mathcal{M},v>\vDash\phi'_1$

以及 $<\mathcal{M},v>\not\vDash\phi'_2$ ，又根据定义 $\phi'_1=\phi'_2$ 显然矛盾，故假设不成立，即 $<\mathcal{M},v>\vDash\phi$

*** 模型<<MK195>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 中是[[MK191][真实的]]

则称 $\mathcal{M}$ 是 $\Gamma$ 的一个模型

若 $M$ 是[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，则称 $\mathcal{M}$ 是 $\Gamma$ 的有限理论模型

若 $M$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]，则称 $\mathcal{M}$ 是 $\Gamma$ 的无限理论模型

若 $M$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，则称 $\mathcal{M}$ 是 $\Gamma$ 的可数理论模型

** 证明和定理<<MK196>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ ，对于一个表达式[[~/文档/note/离散数学/lssx.org::MK105][序列]] $\left<\phi_1,...,\phi_n\right>$ 满足 $n<\infty$ 且若对于任意 $1\leq i\leq n$ 满足以下两条中任意一条

（1） $\phi_i$ 是[[MK197][公理]]或 $\phi_i\in\Gamma$

（2） 存在 $j<i,k<i$ 满足 $\phi_j=(\phi_k\to\phi_i)$

则称 $\phi_n$ 是 $\Gamma$ 的定理，记作 $\Gamma\vdash\phi_n$ ， $\left<\phi_1,...,\phi_n\right>$ 是 $\phi_n$ 在 $\Gamma$ 中的证明

其中 $n\in\mathbb{N}$

$\Gamma=\left\{(\lnot(c\hat{=}f(c)))\big|c\in C\right\}\cup\{(\exists x_1(x_1\hat{=}f(x_1)))\}$

*** 逻辑公理<<MK197>>

以下为逻辑公理，逻辑公理的全体定义为 $\mathbb{L}$

**** 逻辑运算律

设 $\phi_1,\phi_2,\phi_3$ 是任意 $\mathcal{L}$ [[MK129][表达式]]，那么下列[[MK129][表达式]]均为公理：

（1） 蕴含分配 $((\phi_1\to(\phi_2\to\phi_3))\to((\phi_1\to\phi_2)\to(\phi_1\to\phi_3)))$

（2） 自蕴含 $(\phi_1\to\phi_1)$

（3） 第一宽容 $(\phi_1\to(\phi_2\to\phi_1))$

（4） 第二宽容 $(\phi_1\to((\lnot\phi_1)\to\phi_2))$

（5） 第一归谬 $(((\lnot\phi_1)\to\phi_1)\to\phi_1)$

（6） 第三宽容 $((\lnot\phi_1)\to(\phi_1\to\phi_2))$

（7） 合取 $(\phi_1\to((\lnot\phi_2)\to(\lnot(\phi_1\to\phi_2))))$

***** 推论<<MK198>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及[[MK129][表达式]] $\phi_1,\phi_2,\phi_3$ 则有

（1） $\Gamma\vdash((\phi_1\to\phi_2)\to((\phi_3\to\phi_1)\to(\phi_3\to\phi_2)))$

（2） $\Gamma\vdash((\phi_1\to(\phi_2\to\phi_3))\to(\phi_2\to(\phi_1\to\phi_3)))$

（3） $\Gamma\vdash((\phi_3\to\phi_1)\to((\phi_1\to\phi_2)\to(\phi_3\to\phi_2)))$

（4） $\Gamma\vdash((\lnot(\lnot\phi))\to\phi)$

（5） $\Gamma\vdash((\phi\to(\lnot\phi))\to(\lnot\phi))$ 

（6） $\Gamma\vdash(\phi\to(\lnot(\lnot\phi)))$

（7） $\Gamma\vdash(((\lnot\phi_2)\to(\lnot\phi_1))\to(\phi_1\to\phi_2))$

（8） $\Gamma\vdash((\phi_1\to\phi_2)\to((\lnot\phi_2)\to(\lnot\phi_1)))$

（9） $\Gamma\vdash((\lnot(\phi_1\to\phi_2))\to(\lnot\phi_2))$

（10） $\Gamma\vdash((\lnot(\phi_1\to\phi_2))\to\phi_1)$

****** 证明

根据命题逻辑[[MK60][推论2]]、[[MK61][推论3]]和[[MK62][推论4]]同理可证

**** 特化公理

设任意 $\phi\in\mathcal{L}$ [[MK129][表达式]]， $\tau_i\in T$ 是[[MK117][项]]，若 $\tau_i$ [[MK150][可替换]] $\phi$ 中的[[MK140][自由变元]] $x_i$

则定义[[MK145][自由替换]]后为 $\phi(\langle x_i\rangle,\langle\tau_i\rangle)$ ，则有 $((\forall x_i\phi)\to\phi(\langle x_i\rangle,\langle\tau_i\rangle))$ 是一条公理

***** 推论<<MK199>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ ，若有 $\Gamma\vdash(\forall x_i\phi)$ 则有 $\Gamma\vdash\phi$

****** 证明

显然 $x_i$ 是[[MK117][项]]，且对于任意 $x_i$ 在 $\phi$ 中的[[MK140][自由出现]] $x_i$ 不是[[MK141][受限出现]]

故 $x_i$ 可自由替换 $x_i$ 且显然 $\phi(\left<x_i\right>,\left<x_i\right>)=\phi$ 根据[[MK196][特化公理]]有 $((\forall x_i\phi)\to\phi(\langle x_i\rangle,\langle x_i\rangle))$ 亦为公理

即 $\Gamma\vdash((\forall x_i\phi)\to\phi)$   

**** 全称量词分配

设 $\phi_1,\phi_2$ 是任意 $\mathcal{L}$ [[MK129][表达式]]，则 $((\forall x_i(\phi_1\to\phi_2))\to((\forall x_i\phi_1)\to(\forall x_i\phi_2)))$ 是公理

**** 无关量词引入

设任意[[MK129][表达式]] $\phi\in\mathcal{L}$ 满足[[MK107][变元符号]] $x_i$ 不是 $\phi$ 的[[MK140][自由变元]]，则 $(\phi\to(\forall x_i\phi))$ 是公理

**** 全域化

设任意[[MK129][表达式]] $\phi\in\mathcal{L}$ 是[[MK197][逻辑公理]]，则 $(\forall x_i\phi)$ 亦是公理

**** 恒等律

对任意[[MK107][变元符号]]均有 $(x_i\hat{=}x_i)$ 是公理

**** 等同律

设 $\phi_1,\phi_2$ 是 $\mathcal{L}$ [[MK129][表达式]]且 $x_j$ [[MK150][可自由替换]] $\phi_1$ 和 $\phi_2$ 中的[[MK140][自由变元]] $x_i$

则定义[[MK145][自由替换]]后的表达式分别为 $\phi_1(\langle x_i\rangle,\langle x_j\rangle),\phi_2(\langle x_i\rangle,\langle x_j\rangle)$ 若 $\phi_1(\langle x_i\rangle,\langle x_j\rangle)=\phi_2(\langle x_i\rangle,\langle x_j\rangle)$

则 $((x_i\hat{=}x_j)\to(\phi_1\to\phi_2))$ 是公理

***** 注

书上并没有写必须替换 $x_i$ 的[[MK141][自由出现]]，这里举一个反例，定义 $\phi_1=(\forall x_j(x_i\hat{=}x_i)),\phi_2=(\forall x_i(x_i\hat{ =}x_j))$

定义 $\psi=((x_i\hat{=}x_j)\to((\forall x_j(x_i\hat{ =}x_i))\to(\forall x_i(x_i\hat{ =}x_j))))$ 若为公理，则必为[[MK193][普遍真实]]

则对于[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及 $\mathcal{M}$ [[MK154][赋值]] $v$ 满足 $v(x_i)=v(x_j)$ 以及 $|M|\geq 2$ ，故亦有 $<\mathcal{M},v>\vDash\psi$

根据[[MK158][满足]]可得等价于 $<\mathcal{M},v>\not\vDash(x_i\hat{=}x_j)$ 或 $<\mathcal{M},v>\vDash(\phi_1\to\phi_2)$ 显然根据假设有 $<\mathcal{M},v>\vDash(x_i\hat{ =}x_j)$

故必有 $<\mathcal{M},v>\vDash(\phi_1\to\phi_2)$ ，根据[[MK158][满足]]可得 $<\mathcal{M},v>\not\vDash(\forall x_j(x_i\hat{=}x_i))$ 或 $<\mathcal{M},v>\vDash\phi_2$

根据[[MK197][恒等律、全域化]]以及[[MK194][定理]]可得必有 $<\mathcal{M},v>\vDash(\forall x_j(x_i\hat{ =}x_i))$ 则必有 $<\mathcal{M},v>\vDash(\forall x_i(x_i\hat{ =}x_j))$

则根据[[MK158][满足]]对于任意 $\mathcal{M}$ [[MK154][赋值]] $\mu$ 满足 $\mu(x_j)=v(x_j)$ 则有 $<\mathcal{M},\mu>\vDash(x_i\hat{ =}x_j)$

由于 $|M|\geq 2$ 则必定存在 $a'\in M$ 满足 $a'\ne v(x_j)$ 定义 $\mu(x_i)=a'\ne v(x_j)$

则有 $\mu(x_i)\ne v(x_j)=\mu(x_j)$ 根据[[MK158][满足]]显然与 $<\mathcal{M},\mu>\vDash(x_i\hat{ =}x_j)$ 矛盾

*** [[MK113][推导符号]]<<MK200>>

**** 逻辑与<<MK201>>

若 $\phi=(\psi_1\land\psi_2)\in\mathcal{L}_\mathcal{A}$ 则 $\Gamma\vdash\phi$ 的充要条件是 $\Gamma\vdash\psi_1$ 且 $\Gamma\vdash\psi_2$ 

***** 证明

****** 充分

若 $\Gamma\vdash(\psi_1\land\psi_2)$ 即 $\Gamma\vdash(\lnot(\psi_1\to(\lnot\psi_2)))$

根据[[MK198][推论（9）]]可得 $\Gamma\vdash((\lnot(\psi_1\to(\lnot\psi_2)))\to(\lnot(\lnot\psi_2)))$ 根据[[MK210][导出引理]]有 $\Gamma\vdash(\lnot(\lnot\psi_2))$

又根据[[MK198][推论（4）]]可得 $\Gamma\vdash((\lnot(\lnot\psi_2))\to\psi_2)$ 同理根据[[MK210][导出引理]]有 $\Gamma\vdash\psi_2$

又根据[[MK198][推论（10）]] $\Gamma\vdash((\lnot(\psi_1\to(\lnot\psi_2)))\to\psi_1)$ 根据[[MK210][导出引理]]有 $\Gamma\vdash\psi_1$

****** 必要

若有 $\Gamma\vdash\psi_1,\Gamma\vdash\psi_2$ 则根据[[MK197][合取律]]可得 $(\psi_1\to((\lnot(\lnot\psi_2))\to(\lnot(\psi_1\to(\lnot\psi_2)))))$ 是公理

故有 $\Gamma\vdash((\lnot(\lnot\psi_2))\to(\lnot(\psi_1\to(\lnot\psi_2))))$ 又根据[[MK198][推论（7）]]可得 $\Gamma\vdash(\psi_2\to(\lnot(\lnot\psi_2)))$

故有 $\Gamma\vdash(\lnot(\lnot\psi_2))$ 故根据[[MK210][导出引理]] $\Gamma\vdash(\lnot(\psi_1\to(\lnot\psi_2)))$ 即 $\Gamma\vdash(\psi_1\land\psi_2)$ 

**** 逻辑或<<MK202>>

若 $\phi=(\psi_1\lor\psi_2)\in\mathcal{L}_\mathcal{A}$ ：

（1） 若 $\Gamma\vdash\psi_1$ 或 $\Gamma\vdash\psi_2$ 则有 $\Gamma\vdash\phi$ 

（2） 若 $\Gamma\vdash\phi$ 则不一定有 $\Gamma\vdash\psi_1$ 或 $\Gamma\vdash\psi_2$

即必要不充分

***** 证明

****** 不充分

设 $\phi=((x_1\hat{=}x_2)\lor(\lnot(x_1\hat{ =}x_2)))$ 则定义 $\Gamma =\{\phi\}$ 显然有 $\Gamma\vdash\phi$

根据[[MK158][满足]]易证对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash\Gamma$

假设 $\Gamma\vdash(x_1\hat{=}x_2)$ 则根据[[MK256][完备性]]可得对于任意 $\left<\mathcal{M},v\right>\vDash\Gamma$ 均有 $\left<\mathcal{M},v\right>\vDash(x_1\hat{ =}x_2)$

显然若 $v(x_1)\ne v(x_2)$ 则有 $\left<\mathcal{M},v\right>\not\vDash(x_1\hat{ =}x_2)$ 同时具有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 故退出矛盾

即有 $\Gamma\not\vdash(x_1\hat{=}x_2)$ ，同理可证 $\Gamma\not\vdash(\lnot(x_1\hat{ =}x_2))$  

综上所述 $\Gamma\vdash\phi,\Gamma\not\vdash(x_1\hat{=}x_2),\Gamma\not\vdash(\lnot(x_1\hat{ =}x_2))$ 显然是充分性的反例

****** 必要

根据[[MK171][等价表述]]可得 $\Gamma\vdash\phi$ 等价于 $\Gamma\vdash((\lnot\psi_1)\to\psi_2)$

若 $\Gamma\vdash\psi_1$ 则根据[[MK197][第二宽容]]有 $\Gamma\vdash(\psi_1\to((\lnot\psi_1)\to\psi_2))$ 根据[[MK210][导出引理]] $\Gamma\vdash((\lnot\psi_1)\to\psi_2)$

若 $\Gamma\vdash\psi_2$ 则根据[[MK197][第一宽容]]有 $\Gamma\vdash(\psi_2\to((\lnot\psi_1)\to\psi_2))$ 根据[[MK210][导出引理]] $\Gamma\vdash((\lnot\psi_1)\to\psi_2)$

***** 推论

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK222][一致的]]，且满足对于[[MK144][语句]] $\{\theta_1,\theta_2\}\subset\mathcal{L}_\mathcal{A}$ 均有 $T\vdash(\theta_1\lor\theta_2)$ 有 $\Gamma\vdash\theta_1$ 或 $\Gamma\vdash\theta_2$

则 $\mathcal{T}$ 是[[MK264][完全的]]

****** 证明

对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 根据[[MK171][等价表述]]可得 $\Gamma\vdash(\lnot\theta\lor\theta)$ 等价于 $\Gamma\vdash((\lnot(\lnot\theta))\to\theta)$

根据[[MK198][推论（4）]]可得成立 $\Gamma\vdash((\lnot(\lnot\theta))\to\theta)$ 即有 $\Gamma\vdash(\lnot\theta\lor\theta)$ 根据条件即有 $T\vdash\theta$ 或者 $T\vdash\lnot\theta$

则根据[[MK222][一致性]]则有 $T\vdash\theta$ 会导出 $T\not\vdash\lnot\theta$ 反之亦然，即 $\mathcal{T}$ 是[[MK264][完全的]]

**** 双向蕴含<<MK203>>

若 $\phi=(\psi_1\leftrightarrow\psi_2)\in\mathcal{L}_\mathcal{A}$ 则 $\Gamma\vdash\phi$ 的充要条件是 $\Gamma\vdash(\psi_1\to\psi_2)$ 且 $\Gamma\vdash(\psi_2\to\psi_1)$

***** 证明

根据定义可得 $\Gamma\vdash(\psi_1\to\psi_2)$ 等价与 $\Gamma\vdash((\psi_1\to\psi_2)\land(\psi_2\to\psi_1))$

根据[[MK201][逻辑与]]可得其定价条件为 $\Gamma\vdash(\psi_1\to\psi_2)$ 且 $\Gamma\vdash(\psi_2\to\psi_1)$

***** 等价条件<<MK204>>

$\Gamma\vdash(\psi_1\leftrightarrow\psi_2)$ 的充要条件亦可为：

（1） $\Gamma\vdash(\psi_1\to\psi_2)$ 且 $\Gamma\vdash((\lnot\psi_1)\to(\lnot\psi_2))$

（2） $\Gamma\vdash((\lnot\psi_2)\to(\lnot\psi_1))$ 且 $\Gamma\vdash((\lnot\psi_1)\to(\lnot\psi_2))$

****** 证明

仅证（1），（2）类似可证

******* 充分

若 $\Gamma\vdash(\psi_1\to\psi_2)$ 则有 $\Gamma\vdash(\psi_1\to\psi_2)$ 且 $\Gamma\vdash(\psi_2\to\psi_1)$

则有 $\Gamma\vdash(\psi_1\to\psi_2)$ ，又根据[[MK198][推论（8）]]可得 $\Gamma\vdash((\psi_2\to\psi_1)\to((\lnot\psi_1)\to(\lnot\psi_2)))$

根据[[MK210][导出引理]]即有 $\Gamma\vdash((\lnot\psi_1)\to(\lnot\psi_2))$

******* 必要

若有 $\Gamma\vdash(\psi_1\to\psi_2)$ 且 $\Gamma\vdash((\lnot\psi_1)\to(\lnot\psi_2))$

则根据[[MK198][推论（7）]]可得 $\Gamma\vdash(((\lnot\psi_1)\to(\lnot\psi_2))\to(\psi_2\to\psi_1))$ 根据[[MK210][导出引理]]即有 $\Gamma\vdash(\psi_2\to\psi_1)$

则根据[[MK203][定义]]可得有 $\Gamma\vdash(\psi_1\leftrightarrow\psi_2)$ 

***** 传递性<<MK205>>

若有 $\Gamma\vdash(\psi_1\leftrightarrow\psi_2)$ 以及 $\Gamma\vdash(\psi_2\leftrightarrow\psi_3)$ 则有 $\Gamma\vdash(\psi_1\leftrightarrow\psi_3)$ 

****** 证明

根据[[MK203][定义]] $\Gamma\vdash(\psi_1\to\psi_2)$ 且 $\Gamma\vdash(\psi_2\to\psi_1)$

以及 $\Gamma\vdash(\psi_2\to\psi_3)$ 且 $\Gamma\vdash(\psi_3\to\psi_2)$

根据[[MK209][传递引理]]可得 $\Gamma\vdash(\psi_1\to\psi_3)$ 且 $\Gamma\vdash(\psi_3\to\psi_1)$  

又根据[[MK203][定义]]可得 $\Gamma\vdash(\psi_1\leftrightarrow\psi_3)$ 

**** 存在量词<<MK206>>

若 $\phi=(\exists x_i\psi)\in\mathcal{L}_\mathcal{A}$ 则任意 $\Gamma\subset\mathcal{L}_\mathcal{A}$ ， $\Gamma\vdash\phi$ 的充要条件是 $\Gamma\vdash(\lnot(\forall x_i(\lnot\psi)))$

*** 引理

**** 引理1<<MK207>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$

则 $\Gamma\vdash(\lnot(\exists x_1(...(\exists x_n\phi))))$ 的充要条件是 $\Gamma\vdash(\forall x_1(...(\forall x_n(\lnot\phi))))$

***** 证明

显然 $(\lnot(\exists x_1(...(\exists x_n\phi))))$ 是其自身的[[MK290][子表达式]]，又根据[[MK166][引理6]]

可得对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$

有 $\left<\mathcal{M},v\right>\vDash(\lnot(\exists x_1(...(\exists x_n\phi))))$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash(\forall x_1(...(\forall x_n(\lnot\phi))))$

根据[[MK219][替换定理]] $\Gamma\vdash(\lnot(\exists x_1(...(\exists x_n\phi))))$ 的充要条件是 $\Gamma\vdash(\forall x_1(...(\forall x_n(\lnot\phi))))$

**** 引理2<<MK208>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ ，若有 $\Gamma\vdash(\forall x_1(...(\forall x_n\phi)))$ 则有 $\Gamma\vdash\phi$

***** 证明

根据 $n<\infty$ ，下列证明以及数学归纳法可证

****** $n=1$

根据[[MK256][完备性]]可得任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash(\forall x_1\phi)$

根据[[MK158][满足]]显然 $\left<\mathcal{M},v\right>\vDash\phi$

综上所述，对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash\phi$

则根据[[MK256][完备性]]可得 $\Gamma\vdash\phi$

****** 归纳假设

对于任意 $n<N$ 若有 $\Gamma\vdash(\forall x_1(...(\forall x_n\phi)))$ 则有 $\Gamma\vdash\phi$

****** $n=N$

根据[[MK256][完备性]]可得任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash(\forall x_1(\forall x_2(...(\forall x_n\phi))))$

根据[[MK158][满足]]显然 $\left<\mathcal{M},v\right>\vDash(\forall x_2(...(\forall x_n\phi)))$

综上所述，对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash(\forall x_2(...(\forall x_n\phi)))$

则根据[[MK256][完备性]]可得 $\Gamma\vdash(\forall x_2(...(\forall x_n\phi)))$ 由于 $n-1<N$ 故根据归纳假设有有 $\Gamma\vdash\phi$

**** 引理3<<MK371>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ ，若 $\Gamma\cup\{\phi\}$ [[MK222][一致]]

则 $\Gamma\cup\{(\exists x_1(...(\exists x_n\phi)...))\}$ [[MK222][一致]]

***** 证明

根据[[MK255][推论]]可得存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与[[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash\Gamma\cup\{\phi\}$

显然 $\left<\mathcal{M},v\right>\vDash\Gamma\cup\{(\exists x_1(...(\exists x_n\phi)...))\}$ 又根据[[MK255][完备性]]可得 $\Gamma\cup\{(\exists x_1(...(\exists x_n\phi)...))\}$ [[MK222][一致]]

**** 引理4<<MK393>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 若有 $\Gamma\vdash(\psi_1\to\psi_2),\Gamma\vdash(\psi_2\to\psi_3)$ 则有 $\Gamma\vdash(\psi_1\to\psi_3)$

***** 证明

根据[[MK198][推论1]]可得 $\Gamma\vdash((\psi_2\to\psi_3)\to((\psi_1\to\psi_2)\to(\psi_1\to\psi_3)))$

则根据 $\Gamma\vdash(\psi_2\to\psi_3)$ 以及[[MK210][导出引理]]有 $\Gamma\vdash((\psi_1\to\psi_2)\to(\psi_1\to\psi_3))$

又结合 $\Gamma\vdash(\psi_1\to\psi_2)$ 以及[[MK210][导出引理]]有 $\Gamma\vdash(\psi_1\to\psi_3)$

*** 定理

**** 传递引理<<MK209>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及[[MK129][表达式]] $\phi_1,\phi_2,\phi_3$ 满足 $\Gamma\vdash(\phi_1\to\phi_2)$ 以及 $\Gamma\vdash(\phi_2\to\phi_3)$

则有 $\Gamma\vdash(\phi_1\to\phi_3)$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

根据[[MK203][定义]]可得 $\Gamma\vdash(\phi_1\to\phi_2)$ 以及 $\Gamma\vdash(\phi_2\to\phi_3)$ 

根据[[MK198][推论（3）]] $\Gamma\vdash((\phi_1\to\phi_2)\to((\phi_2\to\phi_3)\to(\phi_1\to\phi_3)))$

根据[[MK210][导出定理]] $\Gamma\vdash((\phi_2\to\phi_3)\to(\phi_1\to\phi_3))$ 同理 $\Gamma\vdash(\phi_1\to\phi_3)$

**** 导出引理<<MK210>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及[[MK129][表达式]] $\phi_1,\phi_2$ 满足 $\Gamma\vdash\phi_1$ 且 $\Gamma\vdash(\phi_1\to\phi_2)$ 则有 $\Gamma\vdash\phi_2$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

根据定义上述情况存在[[MK196][证明]] $\langle\theta_1,...,\theta_n\rangle,\langle\eta_1,...,\eta_m\rangle$ 满足 $\theta_n=\phi_1,\eta_m=(\phi_1\to\phi_2)$

则 $\langle\theta_1,...,\theta_n,\eta_1,...,\eta_m,\phi_2\rangle$ 是 $\Gamma$ 关于 $\phi_2$ 的[[MK196][证明]]，即有 $\Gamma\vdash\phi_2$

**** 演绎定理<<MK211>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及[[MK129][表达式]] $\phi_1,\phi_2$ 则 $\Gamma\cup\{\phi_1\}\vdash\phi_2$ 等价于 $\Gamma\vdash(\phi_1\to\phi_2)$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 充分

若 $\Gamma\cup\{\phi_1\}\vdash\phi_2$ 则有[[MK196][证明]] $\left<\theta_1,...,\theta_n\right>$ 满足 $\theta_n=\phi_2$ 则对于任意 $1\leq j\leq n$ 根据下列数学归纳法

可证 $\Gamma\vdash(\phi_1\to\theta_j)$ 由于 $\theta_n=\phi_2$ 故可得 $\Gamma\vdash(\phi_1\to\phi_2)$

******* $i=1$ <<MK212>>

根据[[MK196][定义]]可得此时有且仅有 $\theta_i\in\Gamma\cup\mathbb{L}$ ，则有 $\theta_i\ne\phi_1$ 或 $\theta_i=\phi_1$ 两种情况

若 $\theta_i\ne\phi_1$ 则根据[[MK197][第一宽容]]可得 $(\theta_i\to(\phi_1\to\theta_i))$ 亦为[[MK197][公理]]故 $\left<(\theta_i\to(\phi_1\to\theta_i)),\theta_i,(\phi_1\to\theta_i)\right>$

是 $\Gamma$ 对于 $(\phi_1\to\theta_i)$ 的[[MK197][证明]]

若 $\theta_i=\phi_1$ 则根据[[MK197][自蕴含]]可得 $(\phi_1\to\phi_1)$ 是公理，故 $\left<(\phi_1\to\theta_i)\right>$ 是 $\Gamma$ 对于 $(\phi_1\to\theta_i)$ 的[[MK197][证明]]

综上所述，当 $i=1$ 时有 $\Gamma\vdash(\phi_1\to\theta_i)$

******* 归纳假设

对于任意 $1\leq i<j$ 均有 $\Gamma\vdash(\phi_1\to\theta_i)$

******* $i=j$

若 $\theta_i\in\Gamma\cup\{\phi_1\}\cup\mathbb{L}$ 则[[MK212][同理可证]]，若存在 $u<i,v<i$ 满足 $\theta_v=(\theta_u\to\theta_i)$

则根据归纳假设有 $\Gamma\vdash(\phi_1\to\theta_u),\Gamma\vdash(\phi_1\to(\theta_u\to\theta_i))$ 定义[[MK196][证明]]为 $\left<\alpha_1,...,\alpha_x\right>,\left<\beta_1,...,\beta_y\right>$

其中 $\alpha_x=(\phi_1\to\theta_u),\beta_y=(\phi_1\to(\theta_u\to\theta_i))$

根据[[MK197][蕴含分配]]可得 $\delta=((\phi_1\to(\theta_u\to\theta_i))\to((\phi_1\to\theta_u)\to(\phi_1\to\theta_i)))$ 是公理

则 $\left<\alpha_1,...,\alpha_x,\beta_1,...,\beta_y,\delta,((\phi_1\to\theta_u)\to(\phi_1\to\theta_i)),(\phi_1\to\theta_i)\right>$ 是 $(\phi_1\to\theta_i)$ 的[[MK197][证明]]

综上所述，当 $i=j$ 时有 $\Gamma\vdash(\phi_1\to\theta_i)$

****** 必要

若 $\Gamma\vdash(\phi_1\to\phi_2)$ 则有[[MK196][证明]] $\left<\theta_1,...,\theta_n\right>$ 满足 $\theta_n=(\phi_1\to\phi_2)$

显然该[[MK196][证明]]亦可称为 $\Gamma\cup\{\phi_1\}$ 的[[MK196][证明]]，则 $\left<\theta_1,...,\theta_n,\phi_1,\phi_2\right>$ 是 $\Gamma\cup\{\phi_1\}$ 对 $\phi_2$ 的[[MK196][证明]]

**** 归谬定理<<MK213>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及[[MK129][表达式]] $\phi$ 则

（1） $\Gamma\cup\{(\lnot\phi)\}$ 不[[MK222][一致]]的充要条件是 $\Gamma\vdash\phi$

（2） $\Gamma\cup\{\phi\}$ 不[[MK222][一致]]的充要条件是 $\Gamma\vdash(\lnot\phi)$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

仅证（1），（2）同理根据[[MK198][推论（6）]]可得

****** 充分

若 $\Gamma\cup\{(\lnot\phi)\}$ 不[[MK222][一致]]，则根据[[MK227][定理2]]可得 $\Gamma\cup\{(\lnot\phi)\}\vdash\phi$ 根据[[MK211][演绎定理]]可得 $\Gamma\vdash((\lnot\phi)\to\phi)$

根据[[MK197][第一归谬]]可得 $\Gamma\vdash(((\lnot\phi)\to\phi)\to\phi)$ 则根据[[MK210][导出引理]]有 $\Gamma\vdash\phi$

****** 必要

若 $\Gamma\vdash\phi$ 则有 $\Gamma\cup\{(\lnot\phi)\}\vdash\phi$ 显然亦有 $\Gamma\cup\{(\lnot\phi)\}\vdash(\lnot\phi)$ 故不[[MK222][一致]]

**** 全体化定理<<MK214>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及[[MK129][表达式]] $\phi$ 满足 $\Gamma\vdash\phi$ 则有[[MK196][证明]] $\langle\theta_1,...,\theta_n\rangle$ 满足 $\theta_n=\phi$ 

若[[MK107][变元符号]] $x_i$ 不是任意 $\Gamma\cap\left\{\theta_i\big|1\leq i\leq n\right\}$ 中的[[MK140][自由变元]]，则有 $\Gamma\vdash(\forall x_i\phi)$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

若有 $\Gamma\vdash\phi$ 则有[[MK196][证明]] $\left<\theta_1,...,\theta_k\right>$ 满足 $\theta_k=\phi$ 根据下术证明以及数学归纳法

可得对于任意 $1\leq n\leq k$ 均有 $\Gamma\vdash(\forall x_i\theta_n)$ 显然 $\Gamma\vdash(\forall x_i\theta_k)$ 即 $\Gamma\vdash(\forall x_i\phi)$

****** $n=1$

根据[[MK196][定义]]可得此时有且仅有 $\theta_n\in\Gamma\cup\mathbb{L}$ ，若 $\theta_n\in\Gamma$ 则根据定义 $x_i$ 不是 $\theta_n$ 的[[MK140][自由变元]]

则根据[[MK197][无关量词]]可得 $(\theta_n\to(\forall x_i\theta_n))$ 是公理，则 $\left<\theta_n,(\theta_n\to(\forall x_i\theta_n)),(\forall x_i\theta_n)\right>$ 是 $\Gamma$ 对于 $(\forall x_i\theta_n)$ 的[[MK197][证明]]

若 $\theta_n\in\mathbb{L}$ 则根据[[MK197][全域化]] $(\forall x_i\theta_n)$ 是公理，则 $\left<(\forall x_i\theta_n)\right>$ 是 $\Gamma$ 对于 $(\forall x_i\theta_n)$ 的[[MK197][证明]]

****** 归纳假设

假设对于任意 $1\leq u<N$ 均有 $\Gamma\vdash(\forall x_i\theta_u)$

****** $n=N\in\mathbb{N}$

若 $\theta_n\in\Gamma\cup\mathbb{L}$ 则与第一步同理可证，若存在 $u<n,v<n$ 满足 $\theta_u=(\theta_v\to\theta_n)$

则根据归纳假设有 $\Gamma\vdash(\forall x_i\theta_v),\Gamma\vdash(\forall x_i(\theta_v\to\theta_n))$ 其证明为 $\left<\alpha_1,...,\alpha_x\right>,\left<\beta_1,...,\beta_y\right>$

其中 $\alpha_x=(\forall x_i\theta_v),\beta_y=(\forall x_i(\theta_v\to\theta_n))$

根据[[MK197][全称量词分配]] $\eta=((\forall x_i(\theta_v\to\theta_n))\to((\forall x_i\theta_v)\to(\forall x_i\theta_n)))$ 是公理

则 $\left<\alpha_1,...,\alpha_x,\beta_1,...\beta_x,\eta,((\forall x_i\theta_u)\to(\forall x_i\theta_n)),(\forall x_i\theta_n)\right>$ 是 $\Gamma$ 对于 $(\forall x_i\theta_n)$ 的[[MK197][证明]]

**** 量词变更引理<<MK215>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 满足：

（1） [[MK107][变元符号]] $x_j$ 在 $\phi$ 中[[MK150][可替换]]为 $x_i$ 并定义[[MK145][自由替换]]后为 $\phi(\langle x_j\rangle,\langle x_i\rangle)$ 

（2） $x_i$ 不是 $(\forall x_j\phi)$ 中的[[MK140][自由变元]]

则有 $\varnothing\vdash((\forall x_j\phi)\to(\forall x_i\phi(\langle x_j\rangle,\langle x_i\rangle)))$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

根据[[MK197][特化公理]]及条件（1）可得 $((\forall x_j\phi)\to\phi(\langle x_j\rangle,\langle x_i\rangle))$ 是公理，则有 $\varnothing\vdash((\forall x_j\phi)\to\phi(\langle x_j\rangle,\langle x_i\rangle))$ 

根据[[MK211][演绎定理]]可得等价于 $\{(\forall x_j\phi)\}\vdash\phi(\langle x_j\rangle,\langle x_i\rangle)$ 根据条件（2）可得 $x_i$ 不是 $(\forall x_j\phi)$ 中的[[MK140][自由变元]]

故根据[[MK214][全体化定理]]可得 $\{(\forall x_j\phi)\}\vdash(\forall x_i\phi(\langle x_j\rangle,\langle x_i\rangle))$ 又根据[[MK211][演绎定理]]可得 $\varnothing\vdash((\forall x_j\phi)\to(\forall x_i\phi(\langle x_j\rangle,\langle x_i\rangle)))$

**** 常元省略引理<<MK216>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及一个 $\Gamma$ [[MK196][证明]] $\langle\theta_1,...,\theta_n\rangle$ 满足：

（1） [[MK108][常元符号]] $c_i$ 不在任意 $\gamma\in\Gamma\cap\left\{\theta_i\big|1\leq i\leq n\right\}$ 中出现

（2） [[MK107][变元符号]] $x_j$ 不在任意 $\theta_m,1\leq m\leq n$ 中出现

则 $\langle\theta_1(\langle c_i\rangle\cong\langle x_j\rangle),...,\theta_n(\langle c_i\rangle\cong\langle x_j\rangle)\rangle$ 亦是一个 $\Gamma$ [[MK196][证明]]，其中 $\theta_m(\langle c_i\rangle\cong\langle x_j\rangle)$ 是[[MK411][全替换]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

根据下列证明，数学归纳法以及 $n<\infty$ 可得结论

****** $m=1$ <<MK468>>

显然 $\theta_m\in\Gamma\cup\mathbb{L}$

若 $\theta_m\in\mathbb{L}$ ，任意[[MK129][表达式]] $\phi$ 经过[[MK146][常元替换]]后可得 $\phi(\langle c_i\rangle\cong\langle x_j\rangle)$ 亦为[[MK129][表达式]]

故若 $\theta_m$ 为除[[MK197][全域化]]以外的[[MK197][公理]]，例如[[MK197][无关量词]] $\theta_m=(\phi\to(\forall x_i\phi))$ 

则显然 $\theta_m(\left<c_i\right>\cong\left< x_j\right>)=(\phi(\left<c_i\right>\cong\left< x_j\right>)\to(\forall x_i\phi(\left<c_i\right>\cong\left< x_j\right>)))$ 同理 $\phi(\left<c_i\right>\cong\left< x_j\right>)$ 亦为[[MK129][表达式]]

若 $\theta_m=(\phi\to(\forall x_i\phi))$ 是[[MK197][无关量词公理]]，由于条件（2）可得 $x_j$ 不在 $\theta_m$ 中出现

则显然 $x_i$ 亦不是 $\phi(\left<c_i\right>,\left< x_j\right>)$ 的[[MK140][自由变元]]，故 $\theta_m(\left<c_i\right>,\left< x_j\right>)$ 亦是[[MK197][无关量词公理]]

其余除[[MK197][全域化]]以外的[[MK197][公理]]同理可证。

若 $\theta_m$ 是[[MK197][全域化]]公理，此时有 $\theta_m=(\forall x_k\phi)$ 且 $\phi$ 是[[MK197][公理]]若 $\phi$ 不是[[MK197][全域化]]公理

则 $\phi(\langle c_i\rangle,\langle x_j\rangle)$ 亦是[[MK197][公理]]，又有 $\theta_m(\langle c_i\rangle,\langle x_j\rangle)=(\forall x_k\phi)(\langle c_i\rangle,\langle x_j\rangle)=(\forall x_k\phi(\langle c_i\rangle,\langle x_j\rangle))$

故又根据[[MK197][全域化]]可得 $\theta_m(\langle c_i\rangle,\langle x_j\rangle)=(\forall x_k\phi(\langle c_i\rangle,\langle x_j\rangle))$ 亦是[[MK197][公理]]。

综上所述，根据数学归纳法易证任意 $\theta_m\in\mathbb{L}$ 有 $\theta_m(\langle c_i\rangle,\langle x_j\rangle)$ 亦是[[MK197][公理]]

若 $\theta_m\in\Gamma$ 则根据条件（1）可得 $\theta_m$ 不含 $c_i$ 进而有 $\theta_m(\langle c_i\rangle,\langle x_j\rangle)=\theta_m\in\Gamma$

****** 归纳假设

对于任意 $1\leq l<N$ 均有 $\langle\theta_1(\langle c_i\rangle,\langle x_j\rangle),...,\theta_l(\langle c_i\rangle,\langle x_j\rangle)\rangle$ 是一个 $\Gamma$ [[MK196][证明]]

****** $m=N$

若 $\theta_m\in\Gamma\cup\mathbb{L}$ 则与 $m=1$ 同理可证，若存在 $u<m,v<m$ 满足 $\theta_u=(\theta_v\to\theta_m)$

定义 $l=m-1$ 即根据归纳假设 $\langle\theta_1(\langle c_i\rangle\cong\langle x_j\rangle),...,\theta_l(\langle c_i\rangle\cong\langle x_j\rangle)\rangle$ 是一个 $\Gamma$ [[MK196][证明]]

且显然有 $\theta_u(\langle c_i\rangle\cong\langle x_j\rangle)=(\theta_v(\langle c_i\rangle\cong\langle x_j\rangle)\to\theta_m(\langle c_i\rangle\cong\langle x_j\rangle))$

则 $\langle\theta_1(\langle c_i\rangle\cong\langle x_j\rangle),...,\theta_l(\langle c_i\rangle\cong\langle x_j\rangle),\theta_m(\langle c_i\rangle\cong\langle x_j\rangle)\rangle$ 亦是一个 $\Gamma$ [[MK196][证明]]

**** 常元省略定理<<MK217>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及[[MK129][表达式]] $\phi$ 若满足：

（1） $\Gamma\vdash\phi$ 则有[[MK196][证明]] $\left<\theta_1,...,\theta_n\right>$ 满足 $\theta_n=\phi$ 

（2） [[MK108][常元符号]] $c_i$ 不在任意 $\gamma\in\left(\Gamma\cap\left\{\theta_i\big|1\leq i\leq n\right\}\right)$ 中出现

（3） [[MK107][变元符号]] $x_j$ 不是 $\phi$ 的[[MK140][自由变元]]

（4） [[MK107][变元符号]] $x_j$ [[MK150][可替换]] $\phi$ 中的 $c_i$

则有

（1） $\Gamma\vdash(\forall x_j\phi(\left<c_i\right>\cong\left<x_j\right>))$ 其中 $\phi(\left<c_i\right>\cong\left<x_j\right>)$ 是[[MK411][全替换]]

（2） 存在[[MK196][证明]] $\langle\theta_1,...,\theta_n\rangle$ 满足

     （a） $\theta_n=(\forall x_j\phi(\langle c_i\rangle\cong\langle x_j\rangle))$

     （b） 对于任意 $1\leq m\leq n$ 均有 $c_i$ 不在 $\theta_m$ 中出现

     （c） 对于任意 $1\leq m\leq n$ 若有[[MK108][常元符号]] $c_k$ 在 $\theta_m$ 中出现，

          则 $c_k$ 在 $\Gamma\cup\{(\forall x_j\phi(\left<c_i\right>\cong\left<x_j\right>))\}$ 中的至少一个[[MK129][表达式]]中出现

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 证明（1）

******* 证明 $\Gamma\vdash(\forall x_k\phi(\langle c_i\rangle\cong\langle x_k\rangle))$

任取[[MK140][自由变元]] $x_k$ 满足不在任何 $\theta_m,1\leq m\leq n$ 中出现，则结合条件（2）根据[[MK216][常元省略引理]]

可得 $\langle\theta_1(\langle c_i\rangle\cong\langle x_k\rangle),...,\theta_n(\langle c_i\rangle\cong\langle x_k\rangle)\rangle$ 亦是一个 $\Gamma$ [[MK196][证明]]，显然 $\theta_n(\langle c_i\rangle\cong\langle x_k\rangle)=\phi(\langle c_i\rangle\cong\langle x_k\rangle)$

故 $\Gamma\vdash\phi(\langle c_i\rangle\cong\langle x_k\rangle)$ 又根据[[MK214][全体化定理]]可得 $\Gamma\vdash(\forall x_k\phi(\langle c_i\rangle\cong\langle x_k\rangle))$

******* 证明 $\Gamma\vdash\psi=((\forall x_k\phi(\langle c_i\rangle\cong\langle x_k\rangle))\to(\forall x_j\phi(\langle c_i\rangle\cong\langle x_k\rangle)(\langle x_k\rangle,\langle x_j\rangle)))$

根据上一步 $\Gamma\vdash\phi(\langle c_i\rangle\cong\langle x_k\rangle)$ 则有：

（1） 根据条件（4）可得 $x_k$ 在 $\phi(\langle c_i\rangle\cong\langle x_k\rangle)$ 中[[MK150][可替换]]为 $x_j$

（2） 根据条件（3）可得 $x_j$ 不是 $(\forall x_k\phi(\langle c_i\rangle\cong\langle x_k\rangle))$ 中的[[MK140][自由变元]]

则根据[[MK215][量词变更引理]] $\Gamma\vdash((\forall x_k\phi(\langle c_i\rangle\cong\langle x_k\rangle))\to(\forall x_j\phi(\langle c_i\rangle\cong\langle x_k\rangle)(\langle x_k\rangle,\langle x_j\rangle)))$

其中 $(\langle x_k\rangle,\langle x_j\rangle)$ 表示[[MK145][自由替换]]

定义 $\psi=((\forall x_k\phi(\langle c_i\rangle\cong\langle x_k\rangle))\to(\forall x_j\phi(\langle c_i\rangle\cong\langle x_k\rangle)(\langle x_k\rangle,\langle x_j\rangle)))$ 即 $\Gamma\vdash\psi$

******* 证明结论

定义 $(\forall x_k\phi(\langle c_i\rangle\cong\langle x_k\rangle))$ 的 $\Gamma$ [[MK196][证明]] $\langle\eta_1,...,\eta_u\rangle$ 满足 $\eta_u=(\forall x_k\phi(\langle c_i\rangle\cong\langle x_k\rangle))$

定义 $\Gamma\vdash\psi$ 则有 $\Gamma$ [[MK196][证明]] $\langle\eta'_1,...,\eta'_v\rangle$ 满足 $\eta'_v=\psi$

则 $\langle\eta_1,...,\eta_u,\eta'_1,...,\eta'_v,(\forall x_j\phi(\langle c_i\rangle,\langle x_k\rangle)(\langle x_k\rangle,\langle x_j\rangle))\rangle$ 是 $(\forall x_j\phi(\langle c_i\rangle,\langle x_k\rangle)(\langle x_k\rangle,\langle x_j\rangle))$

的一个 $\Gamma$ [[MK196][证明]]，即 $\Gamma\vdash(\forall x_j\phi(\langle c_i\rangle,\langle x_k\rangle)(\langle x_k\rangle,\langle x_j\rangle))$

****** 证明（2）

根据第一步可得 $\Gamma\vdash(\forall x_j\phi(\langle c_i\rangle\cong\langle x_k\rangle)(\langle x_k\rangle,\langle x_j\rangle))$ ，则定义[[MK196][证明]]是 $\langle\theta_1,...,\theta_n\rangle$

对于任意[[MK108][常元符号]] $c_z$ 满足 $c_z$ 不在任意 $\gamma\in\Gamma\cup\{(\forall x_j\phi(\langle c_i\rangle\cong\langle x_k\rangle)(\langle x_k\rangle,\langle x_j\rangle))\}$ 中出现

则可取 $x_k$ 为不在任意 $\theta_m,1\leq m\leq n$ 中出现的[[MK107][变元符号]]，则根据[[MK216][常元省略引理]]

可得 $\langle\theta_1(\langle c_z\rangle\cong\langle x_k\rangle),...,\theta_n(\langle c_z\rangle\cong\langle x_k\rangle)\rangle$ 亦为 $\Gamma$ [[MK196][证明]]，又由于 $\theta_n=(\forall x_j\phi(\langle c_i\rangle\cong\langle x_k\rangle)(\langle x_k\rangle,\langle x_j\rangle))$

故 $\theta_n$ 不含 $c_z$ ，则有 $\theta_n(\langle c_z\rangle\cong\langle x_k\rangle)=\theta_n$ ，故 $\langle\theta_1(\langle c_z\rangle\cong\langle x_k\rangle),...,\theta_n(\langle c_z\rangle\cong\langle x_k\rangle)\rangle$

亦是 $(\forall x_j\phi(\langle c_i\rangle\cong\langle x_k\rangle)(\langle x_k\rangle,\langle x_j\rangle))$ 的一个 $\Gamma$ [[MK196][证明]]

又由于 $n<\infty$ 对于任意 $1\leq m\leq n$ 均有 $|\theta_m|<\infty$ ，则所有 $\theta_m,1\leq m\leq n$ 中出现的[[MK108][常元符号]] $C_\theta$

是[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，则不在 $\Gamma\cup\{(\forall x_j\phi(\langle c_i\rangle\cong\langle x_k\rangle)(\langle x_k\rangle,\langle x_j\rangle))\}$ 中出现，但在 $C_\theta$ 中的[[MK108][常元符号]]亦是[[~/文档/note/离散数学/lssx.org::MK82][有限集]]

故可得经过有限次 $c_z$ 到 $x_k$ 的替换后的证明 $\langle\theta^*_1,...,\theta^*_n\rangle$ 仅包含$\Gamma\cup\{(\forall x_j\phi(\langle c_i\rangle\cong\langle x_k\rangle)(\langle x_k\rangle,\langle x_j\rangle))\}$

中出现的[[MK108][常元符号]]
 
**** 等式定理<<MK218>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 不带[[MK106][量词符号]]，有两组[[MK117][项]] $\langle \tau_1,...,\tau_n\rangle,\langle \sigma_1,...,\sigma_n\rangle$ 以及

一组[[MK107][变元符号]] $\langle x_{m_1},...,x_{m_n}\rangle$ 满足对于任意 $1\leq i\leq n$ 均有 $x_{m_i}$ 不在任意 $1\leq j\leq n$ 的 $\tau_j,\sigma_j$ 中出现

则 $\phi$ 经过不同[[MK145][自由替换]]

后有 $\left\{(\tau_i\hat{=}\sigma_i)\big|1\leq i\leq n\right\}\cup\left\{\phi(\langle x_{m_1},...,x_{m_n}\rangle,\langle\tau_1,...,\tau_n\rangle)\right\}\vdash\phi(\langle x_{m_1},...,x_{m_n}\rangle,\langle\sigma_1,...,\sigma_n\rangle)$

***** 证明

定义 $\phi_\tau(k)=\phi(\langle x_{m_1},...,x_{m_{k}}\rangle,\langle\tau_1,...,\tau_{k}\rangle)$ 以及 $\phi_\sigma(k)=\phi(\langle x_{m_1},...,x_{m_{k}}\rangle,\langle\sigma_1,...,\sigma_{k}\rangle)$

则根据 $n<\infty$ ，下列证明以及数学归纳法

可证 $\left\{(\tau_i\hat{=}\sigma_i)\big|1\leq i\leq n\right\}\cup\left\{\phi(\langle x_{m_1},...,x_{m_n}\rangle,\langle\tau_1,...,\tau_n\rangle)\right\}\vdash\phi(\langle x_{m_1},...,x_{m_n}\rangle,\langle\sigma_1,...,\sigma_n\rangle)$

****** $n=0$

此时 $(\phi\to\phi)$ 是[[MK197][自蕴含公理]]，故有 $\varnothing\vdash(\phi\to\phi)$

****** 归纳假设

假设对于任意 $0\leq k<n$ 均有 $\left\{(\tau_i\hat{=}\sigma_i)\big|1\leq i\leq k\right\}\cup\{\phi_\tau(k)\}\vdash\phi_\sigma(k)$

****** 对于 $n$

******* [[MK196][证明]] $(\phi_\tau(n)\to\phi_\tau(n-1)(\langle x_{m_n}\rangle,\langle \sigma_n\rangle))$

任取[[MK140][自由变元]] $x_k$ 未在 $\phi_\tau(n-1)$ 中出现

则显然 $\phi_\tau(n-1)(\langle x_{m_n}\rangle,\langle x_k\rangle)=\phi_\tau(n-1)(\langle x_{m_n}\rangle,\langle x_k\rangle)(\langle x_{m_n}\rangle,\langle x_k\rangle)$

故根据[[MK197][等同律]]可得 $\psi=((x_{m_n}\hat{=}x_k)\to(\phi_\tau(n-1)\to\phi_\tau(n-1)(\langle x_{m_n}\rangle,\langle x_k\rangle)))$ 是[[MK197][公理]]

则运用两次[[MK197][全域化公理]]可得 $(\forall x_{m_n}(\forall x_k\psi))$ 亦是[[MK197][公理]]，则根据[[MK197][特华公理]]

有 $((\forall x_{m_n}(\forall x_k\psi))\to((\forall x_k\psi)(\langle x_{m_n}\rangle,\langle \tau_n\rangle)))=((\forall x_{m_n}(\forall x_k\psi))\to((\forall x_k\psi(\langle x_{m_n}\rangle,\langle \tau_n\rangle))))$ 是公理

且 $(((\forall x_k\psi(\langle x_{m_n}\rangle,\langle \tau_n\rangle)))\to\psi(\langle x_{m_n}\rangle,\langle \tau_n\rangle)(\langle x_k\rangle,\langle \sigma_n\rangle))$ 亦是公理

则根据[[MK210][导出引理]]结合上述结论可得 $\left\{(\tau_i\hat{=}\sigma_i)\big|1\leq i\leq n-1\right\}\vdash\psi(\langle x_{m_n}\rangle,\langle \tau_n\rangle)(\langle x_k\rangle,\langle \sigma_n\rangle)$

则有 $\left\{(\tau_i\hat{=}\sigma_i)\big|1\leq i\leq n-1\right\}\vdash((\tau_n\hat{ =}\sigma_n)\to(\phi_\tau(n-1)(\langle x_{m_n}\rangle,\langle \tau_n\rangle)\to\phi_\tau(n-1)(\langle x_{m_n}\rangle,\langle \sigma_n\rangle)))$

根据[[MK211][演绎定理]] $\left\{(\tau_i\hat{=}\sigma_i)\big|1\leq i\leq n\right\}\vdash(\phi_\tau(n)\to\phi_\tau(n-1)(\langle x_{m_n}\rangle,\langle \sigma_n\rangle))$

******* [[MK196][证明]] $(\phi_\tau(n-1)(\langle x_{m_n}\rangle,\langle \sigma_n\rangle)\to\phi_\sigma(n))$

根据归纳假设有 $\left\{(\tau_i\hat{=}\sigma_i)\big|1\leq i\leq n-1\right\}\cup\{\phi_\tau(n-1)\}\vdash\phi_\sigma(n-1)$

根据[[MK211][演绎定理]]有 $\left\{(\tau_i\hat{=}\sigma_i)\big|1\leq i\leq n-1\right\}\vdash(\phi_\tau(n-1)\to\phi_\sigma(n-1))$

根据条件 $x_{m_n}$ 不在任意 $1\leq j\leq n$ 的 $\tau_j,\sigma_j$ 中出现，则根据[[MK214][全体化定理]]

有 $\left\{(\tau_i\hat{=}\sigma_i)\big|1\leq i\leq n-1\right\}\vdash(\forall x_{m_n}(\phi_\tau(n-1)\to\phi_\sigma(n-1)))$

根据[[MK197][特化公理]]可得 $((\forall x_{m_n}(\phi_\tau(n-1)\to\phi_\sigma(n-1)))\to(\phi_\tau(n-1)\to\phi_\sigma(n-1))(\langle x_{m_n}\rangle,\langle \sigma_n\rangle))$

即 $((\forall x_{m_n}(\phi_\tau(n-1)\to\phi_\sigma(n-1)))\to(\phi_\tau(n-1)(\langle x_{m_n}\rangle,\langle \sigma_n\rangle)\to\phi_\sigma(n-1)(\langle x_{m_n}\rangle,\langle \sigma_n\rangle)))$

是公理，则根据[[MK210][导出引理]] $\left\{(\tau_i\hat{=}\sigma_i)\big|1\leq i\leq n-1\right\}\vdash(\phi_\tau(n-1)(\langle x_{m_n}\rangle,\langle \sigma_n\rangle)\to\phi_\sigma(n))$

******* 结论

由于 $\left\{(\tau_i\hat{=}\sigma_i)\big|1\leq i\leq n-1\right\}\subset\left\{(\tau_i\hat{ =}\sigma_i)\big|1\leq i\leq n\right\}\cup\{\phi_\tau(n)\}$ 故根据上述两步证明

可得 $\{(\tau_i\hat{ =}\sigma_i)\big|1\leq i\leq n\right\}\cup\{\phi_\tau(n)\}\vdash(\phi_\tau(n)\to\phi_\tau(n-1)(\langle x_{m_n}\rangle,\langle \sigma_n\rangle))$

以及 $\{(\tau_i\hat{ =}\sigma_i)\big|1\leq i\leq n\right\}\cup\{\phi_\tau(n)\}\vdash(\phi_\tau(n-1)(\langle x_{m_n}\rangle,\langle \sigma_n\rangle)\to\phi_\sigma(n))$

则显然根据[[MK210][导出引理]] $\{(\tau_i\hat{ =}\sigma_i)\big|1\leq i\leq n\right\}\cup\{\phi_\tau(n)\}\vdash\phi_\sigma(n)$

**** [[MK139][子表达式]]替换<<MK219>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有 $\{\phi,\psi_1,\psi_2\}\subset\mathcal{L}_\mathcal{A}$ 以及[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 满足

（1） $\psi_1$ 是 $\phi$ 的[[MK139][子表达式]]

（2） 对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash\psi_1$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\psi_2$

则定义 $\phi'$ 是将 $\phi$ 中任意 $1$ 个为 $\psi_1$ 的[[MK139][子表达式]]替换为 $\psi_2$ 后的[[MK115][基本符号串]]，则有

（1） $\phi'$ 亦为 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]

（2） $\Gamma\vdash\phi$ 的充要条件是 $\Gamma\vdash\phi'$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

根据[[MK148][替换引理]]可得结论（1）成立，根据下列证明可得结论（2）成立

****** 充分

若 $\Gamma\vdash\phi$ 则根据[[MK256][完备性]]可得对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 若 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash\phi$

根据[[MK179][替换定理]]有 $\left<\mathcal{M},v\right>\vDash\phi'$ ，即对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 若 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash\phi'$

根据[[MK256][完备性]]有 $\Gamma\vdash\phi'$

****** 必要

与上一步充分同理可证

** 一阶理论<<MK220>>

一阶理论为包含以下四个要素的[[~/文档/note/离散数学/lssx.org::MK105][有序集]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$

（1） [[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 

（2） $\mathcal{L}_\mathcal{A}$ 下的[[MK197][逻辑公理]]，即 $\mathbb{L}_\mathcal{A}=\mathbb{L}\cap\mathcal{L}_\mathcal{A}$

（3） 一组非[[MK197][逻辑公理]]的 $\mathcal{L}_\mathcal{A}$ 下的[[MK144][语句]] $T\subset\mathcal{L}_\mathcal{A}/\mathbb{L}_\mathcal{A}$

（4） $T$ 在 $\mathcal{L}_\mathcal{A}$ 下的[[MK196][定理]] $T^*=\left\{\phi\in\mathcal{L}_\mathcal{A}\big|T\vdash\phi\right\}$

若 $\mathcal{L}_\mathcal{A}$ 是[[MK151][可数语言]]，则称 $\mathcal{T}$ 是可数理论。反之则为不可数理论

*** 理论模型<<MK221>>

给定[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 以及[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$

若有 $\mathcal{M}\vDash T$ 即 $T$ 可被 $\mathcal{M}$ [[MK189][满足]]，则称 $\mathcal{M}$ 是 $\mathcal{T}$ 的理论模型

若 $M$ 是[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，则称 $\mathcal{M}$ 是 $\mathcal{T}$ 的有限理论模型

若 $M$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]，则称 $\mathcal{M}$ 是 $\mathcal{T}$ 的无限理论模型

若 $M$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，则称 $\mathcal{M}$ 是 $\mathcal{T}$ 的可数理论模型

并定义 $\mathcal{M}$ 的[[~/文档/note/离散数学/lssx.org::MK29][势]]为 $|M|$

** 一阶逻辑性质

*** 一致性<<MK222>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ ，若对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 均有若 $\Gamma\vdash\phi$

即 $\Gamma$ [[MK196][证明]] $\phi$ ，则 $\Gamma\not\vdash(\lnot\phi)$ 则称 $\Gamma$ 在 $\mathcal{L}_\mathcal{A}$ 下是一致的

**** 极大一致性<<MK223>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ ，若有：

（1） $\Gamma$ 是[[MK222][一致的]]

（2） 对于任意 $\phi\not\in\Gamma$ 有 $\Gamma\cup\{\phi\}$ 不[[MK222][一致]]

则称 $\Gamma$ 在 $\mathcal{L}_\mathcal{A}$ 下极大一致

***** 性质<<MK224>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 是[[MK223][极大一致的]]，则有：

（1） $\Gamma\vdash\phi$ 的充要条件为 $\phi\in\Gamma$

（2） 任意表达式 $\phi$ ，或者 $\phi\in\Gamma$ 或者 $(\lnot\phi)\in\Gamma$

（3） 若 $\phi\in\Gamma,(\phi\to\psi)\in\Gamma$ 则 $\psi\in\Gamma$

（4） $\Gamma\vdash(\phi_1\to\phi_2)$ 的充要条件是 $\Gamma\vdash(\lnot\phi_1)$ 或 $\Gamma\vdash(\phi_2)$

****** 证明

******* 证明（1）

******** 充分

若 $\Gamma\vdash\phi$ ，则假设 $\phi\not\in\Gamma$ 则由于[[MK223][极大一致]]可得 $\Gamma\cup\{\phi\}$ [[MK222][不一致]]，则存在 $\theta$ 使得 $\Gamma\cup\{\phi\}\vdash\theta,\Gamma\cup\{\phi\}\vdash(\lnot\theta)$

则根据[[MK211][演绎定理]]可得 $\Gamma\vdash(\phi\to\theta),\Gamma\vdash(\phi\to(\lnot\theta))$ 又由于 $\Gamma\vdash\phi$ 根据[[MK210][导出引理]]有 $\Gamma\vdash\theta,\Gamma\vdash(\lnot\theta)$

与 $\Gamma$ 是[[MK222][一致的]]矛盾，故假设不成立，即有 $\phi\in\Gamma$

******** 必要

若 $\phi\in\Gamma$ 则显然 $\Gamma\vdash\phi$

******* 证明（2）

若 $(\lnot\phi)\not\in\Gamma$ 则根据[[MK223][极大一致]]可得 $\Gamma\cup\{(\lnot\phi)\}$ [[MK222][不一致]]，则根据[[MK213][归谬定理]]可得 $\Gamma\vdash\phi$ 又根据证明（1）

可得 $\phi\in\Gamma$ ，同理可证若 $\phi\not\in\Gamma$ 则有 $(\lnot\phi)\in\Gamma$

******* 证明（3）

若 $\phi\in\Gamma,(\phi\to\psi)\in\Gamma$ 则有 $\Gamma\vdash\psi$ 根据证明（1）可得 $\psi\in\Gamma$

******* 证明（4）

******** 充分

若 $\Gamma\vdash(\phi_1\to\phi_2)$ ，则假设 $\Gamma\vdash\phi_1$ 且 $\Gamma\vdash(\lnot\phi_2)$ 则根据[[MK210][导出引理]]可得 $\Gamma\vdash\phi_2$

故可得 $\Gamma$ 不[[MK222][一致]]，与题意矛盾，故假设不成立，即有 $\Gamma\not\vdash\phi_1$ 或者 $\Gamma\not\vdash(\lnot\phi_2)$

则根据结论（1） $\phi_1\not\in\Gamma$ 或者 $(\lnot\phi_2)\not\in\Gamma$ ，又根据结论（2）有 $(\lnot\phi_1)\in\Gamma$ 或者 $\phi_2\not\in\Gamma$

又根据结论（1）可得 $\Gamma\vdash(\lnot\phi_1)$ 或者 $\Gamma\vdash\phi_2$

******** 必要

若 $\Gamma\vdash(\lnot\phi_1)$ 则 $\Gamma\cup\{\phi_1\}$ 不[[MK222][一致]]，根据[[MK227][定理2]]可得 $\Gamma\cup\{\phi_1\}\vdash\phi_2$

则根据[[MK211][演绎定理]]可得 $\Gamma\vdash(\phi_1\to\phi_2)$

若 $\Gamma\vdash\phi_2$ 则 $\Gamma\cup\{\phi_1\}\vdash\phi_2$ ，故根据[[MK211][演绎定理]]亦可得 $\Gamma\vdash(\phi_1\to\phi_2)$

***** 定理1<<MK225>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ ，则 $\Gamma=\left\{\phi\big|\left<\mathcal{M},v\right>\vDash\phi\right\}$ 是[[MK223][极大一致]]的

****** 证明

假设不[[MK222][一致]]，则存在 $\phi$ 满足 $\Gamma\vdash\phi,\Gamma\vdash(\lnot\phi)$ 根据[[MK262][可靠性定理]]可得 $\Gamma\vDash\phi$

根据 $\Gamma$ 定义可得 $\left<\mathcal{M},v\right>\vDash\Gamma$ 故根据[[MK187][逻辑结论]]有 $\left<\mathcal{M},v\right>\vDash\phi$

同理可证 $\left<\mathcal{M},v\right>\vDash(\lnot\phi)$ 根据[[MK158][满足]]显然矛盾，故假设不成立 $\Gamma$ [[MK222][一致]]

对于任意 $\phi\not\in\Gamma$ 根据 $\Gamma$ 定义可得 $\left<\mathcal{M},v\right>\not\vDash\phi$ ，根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash(\lnot\phi)$ 即 $(\lnot\phi)\in\Gamma$

则显然 $\Gamma\vdash(\lnot\phi)$ 故根据[[MK213][归谬定理]]可得 $\Gamma\cup\{\phi\}$ 不[[MK222][一致]]

综上所述， $\Gamma$ [[MK223][极大一致]]

***** 定理2<<MK416>>

任意[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 下[[MK222][一致]]有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 存在 $\Gamma^*\subset\mathcal{L}_\mathcal{A}$ 满足：

（1） $\Gamma\subset\Gamma^*$

（2） $\Gamma^*$ [[MK223][极大一致]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

****** 证明

定义 $K$ 为如下集合：

（1） $K\in\rho(\mathcal{L}_\mathcal{A})$ 其中 $\rho(\mathcal{L}_\mathcal{A})$ 是 $\mathcal{L}_\mathcal{A}$ 的[[~/文档/note/离散数学/lssx.org::MK20][幂集]]

（2） 对于任意 $k\in K$ 均有 $\Gamma\subset K$

（3） 对于任意 $k\in K$ [[MK222][一致]]

则定义结构 $\left<K,\subset\right>$ ，显然 $\subset$ 是[[~/文档/note/离散数学/lssx.org::MK143][偏序关系]]，对于其中任意[[~/文档/note/离散数学/lssx.org::MK153][链]] $K'\subset K$ 定义 $k^*=\bigcup_{k\in K'}k$

显然对于任意 $k\in K'$ 均有 $k\subset K^*$ 。对于任意 $K^*$ 的是[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $\{\phi_1,...,\phi_n\}\subset k^*$

必有 $\{k'_1,...,k'_n\}\subset K'$ 满足 $\phi_i\in k'_i$ 由于 $K'$ 是[[~/文档/note/离散数学/lssx.org::MK153][链]]故对于任意 $1\leq i\leq n,1\leq j\leq n$

均有 $k'_i\subset k'_j$ 或 $k'_j\subset k'_i$ 故显然存在 $k'_{i^*}$ 满足对于任意 $1\leq j\leq n$ 均有 $k'_j\subset k'_{i^*}$

则可得对于任意 $\phi_i$ 均有 $\phi_i\in k'_{i^*}$ 由于 $k'_{i^*}\in K$ 故 $k'_{i^*}$ [[MK222][一致]]，则 $\{\phi_1,...,\phi_n\}$ [[MK222][一致]]

故根据[[MK271][紧致性]]可得 $k^*$ [[MK222][一致]]，显然亦有 $\Gamma\subset k^*$ 以及 $k^*\in\rho(\mathcal{L}_\mathcal{A})$ 即 $k^*\in K$

即 $k^*$ 是[[~/文档/note/离散数学/lssx.org::MK153][链]] $K'$ 的[[~/文档/note/离散数学/lssx.org::MK145][上界]]。

综上所述，对于任意 $\left<K,\subset\right>$ 中的[[~/文档/note/离散数学/lssx.org::MK153][链]]均有[[~/文档/note/离散数学/lssx.org::MK145][上界]]，则根据[[~/文档/note/离散数学/lssx.org::MK162][佐恩引理]]可得 $K$ 中存在[[~/文档/note/离散数学/lssx.org::MK144][极大元]] $k_z$

显然 $k_z$ [[MK222][一致]]，假设 $k_z$ 不是[[MK223][极大一致]]，则存在 $\phi\in\mathcal{L}_\mathcal{A}-k_z$ 满足 $k_z\cup\{\phi\}$ [[MK222][一致]]

则显然 $k_z\cup\{\phi\}\in K$ 且有 $k_z\subset k_z\cup\{\phi\}$ 与 $k_z$ 是[[~/文档/note/离散数学/lssx.org::MK144][极大元]]矛盾

故假设不成立，即 $k_z$ [[MK223][极大一致]]，显然亦有 $\Gamma\subset k_z$

**** 定理1<<MK226>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ [[MK189][可满足]]，则 $\Gamma$ 在 $\mathcal{L}_\mathcal{A}$ 下是[[MK222][一致的]]

***** 证明

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 若有 $\Gamma\vdash\phi$ 则根据[[MK262][可靠性]]有 $\Gamma\vDash\phi$ 又由于 $\Gamma$ [[MK189][可满足]]

则存在[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及 $\mathcal{M}$ [[MK154][赋值]] $v$ 使得 $<\mathcal{M},v>\vDash\Gamma$ 则有 $<\mathcal{M},v>\vDash\phi$

假设 $\Gamma\vdash(\lnot\phi)$ 则同理可得 $<\mathcal{M},v>\vDash(\lnot\phi)$ 根据[[MK158][满足]]可得 $<\mathcal{M},v>\not\vDash\phi$ 矛盾

故假设不成立，即有 $\Gamma\not\vdash(\lnot\phi)$ 

***** 推论<<MK507>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ [[MK222][一致]]，则任意 $\Gamma^*\subset\Gamma$ 亦[[MK222][一致]]

****** 证明

根据[[MK189][可满足]]可得存在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及[[MK154][赋值]] $v$ 使得任意 $\gamma\in \Gamma$ 均有 $\left<\mathcal{M},v\right>\vDash\gamma$

则显然对于任意 $\gamma\in\Gamma^*\subset\Gamma$ 亦有 $\left<\mathcal{M},v\right>\vDash\gamma$ ，即 $\Gamma^*$ [[MK189][可满足]]，则根据[[MK226][定理1]]可得 $\Gamma^*$ [[MK222][一致]]

**** 定理2<<MK227>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ ，若 $\Gamma$ 不[[MK222][一致]]，则对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 均有 $\Gamma\vdash\phi$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

由于[[MK222][不一致]]，则存在 $\theta$ 满足 $\Gamma\vdash\theta,\Gamma\vdash(\lnot\theta)$ 其证明为 $\left<\alpha_1,...,\alpha_x\right>,\left<\beta_1,...,\beta_y\right>$

其中 $\alpha_x=\theta,\beta_y=(\lnot\theta)$ 根据[[MK197][第二宽容]]可得 $(\theta\to((\lnot\theta)\to\phi))$ 是公理

则 $\left<\alpha_1,...,\alpha_x,\beta_1,...,\beta_y,(\theta\to((\lnot\theta)\to\phi)),((\lnot\theta)\to\phi),\phi\right>$ 是 $\Gamma$ 关于 $\phi$ 的[[MK196][证明]]

**** 定理3<<MK228>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ ，若 $\Gamma$ [[MK222][一致]]，则若 $\Gamma\vdash(\lnot\phi)$ 则有 $\Gamma\not\vdash\phi$

***** 证明

由于[[MK222][一致]]，则 $\Gamma\vdash(\lnot\phi)$ 的充要条件是 $\Gamma\not\vdash(\lnot(\lnot\phi))$ 假设 $\Gamma\vdash\phi$ 则根据[[MK198][推论（6）]]可得 $\Gamma\vdash(\phi\to(\lnot(\lnot\phi)))$

根据[[MK210][导出引理]]可得 $\Gamma\vdash(\lnot(\lnot\phi))$ 矛盾，故假设不成立，即 $\Gamma\not\vdash\phi$

**** 定理4<<MK229>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$  [[MK222][一致]]，以及任意[[MK129][表达式]] $\phi$ ，若 $\Gamma\vdash\phi$ 则有 $\Gamma\cup\{\phi\}$ [[MK222][一致]]

***** 证明

根据[[MK262][可靠性定理]]可得 $\Gamma\vDash\phi$ 由于 $\Gamma$ [[MK222][一致]]，根据[[MK198][完备性]]可得

存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 进而有 $\left<\mathcal{M},v\right>\vDash\phi$ ，即 $\left<\mathcal{M},v\right>\vDash\Gamma\cup\{\phi\}$  

又根据[[MK198][完备性]]可得 $\Gamma\cup\{\phi\}$ [[MK222][一致]]

*** 完备性

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 的任意[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及任意[[MK129][表达式]] $\phi$ ，若有 $\Gamma\vdash\phi$ 的冲要条件是 $\Gamma\vDash\phi$

则称 $\Gamma$ 在 $\mathcal{L}_\mathcal{A}$ 下是完备的，

**** 自显存在性<<MK230>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 若有 $(\exists x_i\phi)\in\Gamma$ 则存在[[MK108][常元符号]] $c_j$ 使得[[MK145][自由替换]]后的[[MK129][表达式]] $\phi(\left<x_i\right>,\left<c_j\right>)\in\Gamma$

***** 定理1

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 定义[[MK154][赋值]] $v$ 满足 $v(x_i)\in\left\{I(c_i)\big|i\in\mathbb{N}\right\}$

定义 $\Gamma=\left\{\phi\big|\left<\mathcal{M},v\right>\vDash\phi\right\}$ 则有

（1） $\Gamma$ 是[[MK223][极大一致]]的

（2） $\Gamma$ 是[[MK230][自显存在]]的充要条件是对于 $M_0=\left\{I(c_i)\big|i\in\mathbb{N}\right\}$ ，有 $I_0$ 满足

     （a） 若 $c\in\mathcal{L}_{\mathcal{A}_1}$ 是[[MK108][常元符号]]，则有 $I(c)=I_0(c)$

     （b） 若 $f\in\mathcal{L}_{\mathcal{A}_1}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ ，对于任意 $<a_1,...,a_n>\subset M_0^n$

          有 $I(f)(a_1,...,a_n)=I_0(f)(a_1,...,a_n)$

     （c） 若 $p\in\mathcal{L}_{\mathcal{A}_1}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ 有 $I_0(p)=I(p)\cap M_0^n$

     并使得 $\mathcal{M}_0=\left<M_0,I_0\right>$ 是 $\mathcal{M}$ 的[[MK287][同质子结构]]

****** 证明

******* 证明（1）

根据[[MK225][定理]]可证

******* 证明（2）

******** 充分

假设 $\Gamma$ [[MK230][自显存在]]，则对于任意非空[[MK313][可定义]]的 $A\in\text{Def}_1(\mathcal{N},M)$ 有[[MK129][表达式]] $\phi(x_1,...,x_{n+1})\in\mathcal{L}_\mathcal{A}$

以及 $\left<b_1,...,b_n\right>\in M_0^n$ 满足 $a\in A$ 等价于 $\mathcal{M}\vDash\phi[a,b_1,...,b_n]$

根据 $M_0$ 定义可得对于任意 $b_i\in M_0$ 均有[[MK108][常元符号]] $c_{k_i}$ 满足 $I(c_{k_i})=b_i$ ，显然 $c_{k_i}$ 是[[MK117][项]]

故根据[[MK176][替换定理]]以及[[MK168][局部确定]]可得 $\mathcal{M}\vDash\phi[a,b_1,...,b_n]$ 等价于 $\mathcal{M}\vDash\phi(\left<x_1,...,x_{n+1}\right>,\left<c_{k_1},...,c_{k_n}\right>)[a]$

即 $a\in A$ 等价于 $\mathcal{M}\vDash\phi(\left<x_1,...,x_{n+1}\right>,\left<c_{k_1},...,c_{k_n}\right>)[a]$ 由于 $A$ 非空，故有 $a\in A$

则定义 $\mathcal{M}$ [[MK154][赋值]] $\mu$ 满足 $\mu(x_i)=\begin{cases}a&i=1\\v(x_i)&i\ne 1\end{cases}$

则根据[[MK168][局部确定]]可得 $\left<\mathcal{M},\mu\right>\vDash\phi(\left<x_1,...,x_{n+1}\right>,\left<c_{k_1},...,c_{k_n}\right>)$

则根据[[MK172][存在量词满足]]可得 $\left<\mathcal{M},v\right>\vDash(\exists x_1\phi(\left<x_1,...,x_{n+1}\right>,\left<c_{k_1},...,c_{k_n}\right>))$

即 $(\exists x_1\phi(\left<x_1,...,x_{n+1}\right>,\left<c_{k_1},...,c_{k_n}\right>))\in\Gamma$ 根据[[MK230][自显存在]]

有 $c_{k^*}$ 满足 $\phi(\left<x_1,...,x_{n+1}\right>,\left<c_{k_1},...,c_{k_n}\right>)(\left<x_1\right>,\left<c_{k^*}\right>)\in\Gamma$

又根据 $\Gamma$ 定义有 $\left<\mathcal{M},v\right>\vDash\phi(\left<x_1,...,x_{n+1}\right>,\left<c_{k_1},...,c_{k_n}\right>)(\left<x_1\right>,\left<c_{k^*}\right>)$

定义 $\mathcal{M}$ [[MK154][赋值]] $\eta$ 满足 $\eta(x_i)=\begin{cases}I(c_{k^*})&i=1\\v(x_i)&i\ne 1\end{cases}$ 

则根据[[MK176][替换定理]]可得 $\left<\mathcal{M},\eta\right>\vDash\phi(\left<x_1,...,x_{n+1}\right>,\left<c_{k_1},...,c_{k_n}\right>)$

又根据[[MK168][局部确定]]可得 $\mathcal{M}\vDash\phi(\left<x_1,...,x_{n+1}\right>,\left<c_{k_1},...,c_{k_n}\right>)[I(c_{k^*})]$

同样根据[[MK176][替换定理]]以及[[MK168][局部确定]]可得等价于 $\mathcal{M}\vDash\phi[I(c_{k^*}),b_1,...,b_n]$

故根据[[MK313][可定义]]有 $I(c_{k^*})\in A$ 又根据 $M_0$ 定义可得 $I(c_{k^*})\in M_0$

综上所述，对于任意 $A\in\text{Def}_1(\mathcal{N},M)$ 均有 $M_0\cap A\ne\varnothing$

根据[[MK291][定理2]]以及[[MK292][推论]]可得存在满足条件的 $I_0$ 使得 $\left<M_0,I_0\right>$ 是 $\mathcal{M}$ 的[[MK287][同质子结构]]

******** 必要

若存在满足条件的 $I_0$ 使得 $\mathcal{M}_0=\left<M_0,I_0\right>$ 是 $\mathcal{M}$ 的[[MK287][同质子结构]]，则对于任意 $(\exists x_i\phi)\in\Gamma$

设 $\phi$ 中[[MK140][自由变元]]为 $x_1,...,x_n$ 由于 $\Gamma$ 定义有 $\left<\mathcal{M},v\right>\vDash(\exists x_i\phi)$

又根据 $v$ 的定义可得对于任意 $x_i$ 均有 $v(x_i)\in\left\{I(c_i)\big|i\in\mathbb{N}\right\}=M_0$ 故 $v$ 亦为 $\mathcal{M}_0$ [[MK154][赋值]]

故根据[[MK287][同质子结构]]有 $\left<\mathcal{M}_0,v\right>\vDash(\exists x_i\phi)$ 根据[[MK172][存在量词满足]]可得存在 $\mathcal{M}_0$ [[MK154][赋值]] $\mu$ 满足

（1） 对于任意[[MK107][变元符号]] $x_k$ 若 $k\ne i$ 则有 $\mu(x_k)=v(x_k)$

（2） $\left<\mathcal{M}_0,\mu\right>\vDash \phi$ 

由于 $\mu(x_i)\in M_0$ 故存在[[MK108][常元符号]] $c_z$ 使得 $\mu(x_i)=I(c_z)$ 又根据[[MK154][赋值]] $\bar{v}(c_z)=I(c_z)$

故根据[[MK176][替换定理]] $\left<\mathcal{M}_0,v\right>\vDash\phi(\left<x_i\right>,\left<c_z\right>)$ 又根据[[MK287][同质子结构]]有 $\left<\mathcal{M},v\right>\vDash\phi(\left<x_i\right>,\left<c_z\right>)$

则根据 $\Gamma$ 定义可得 $\phi(\left<x_i\right>,\left<c_z\right>)\in\Gamma$ 。

综上所述，对于任意 $(\exists x_i\phi)\in\Gamma$ 存在[[MK108][常元符号]] $c_z$ 使得 $\phi(\left<x_i\right>,\left<c_z\right>)\in\Gamma$ 即 $\Gamma$ 是[[MK230][自显存在]]的

***** 定理2<<MK412>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK222][一致]]的[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 有[[MK108][常元符号]] $c$ 不在 $\Gamma$ 中出现

则对于任意 $(\exists x_i\phi)\in\Gamma$ 有 $\Gamma\cup\{\phi(\left<x_i\right>,\left<c\right>)\}$ [[MK222][一致]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

****** 证明

假设 $\Gamma\cup\{\phi(\left<x_i\right>,\left<c\right>)\}$ 不[[MK222][一致]]，则根据[[MK213][归谬定理]] $\Gamma\vdash(\lnot\phi(\left<x_i\right>,\left<c\right>))$ 则满足：

（1） $\Gamma\vdash(\lnot\phi(\left<x_i\right>,\left<c\right>))$ 设有[[MK196][证明]] $\left<\theta_1,...,\theta_n\right>$

（2） [[MK108][常元符号]] $c$ 不在 $\Gamma$ 中出现，故必不在任意 $\gamma\in\left(\Gamma\cap\left\{\theta_i\big|1\leq i\leq n\right\}\right)$ 中出现

（3） 根据[[MK145][自由替换]]可得 $\phi(\left<x_i\right>,\left<c\right>)$ 不含 $x_i$ 的[[MK141][自由出现]]，即 $x_i$ 不是 $\phi(\left<x_i\right>,\left<c\right>)$ 的[[MK140][自由变元]]

（4） 由于 $c$ 仅对 $\phi$ 中[[MK141][自由出现]] $x_i$ 替换，则 $\phi(\left<x_i\right>,\left<c\right>)$ 中的 $c$ 的位置必为 $x_i$ 的[[MK141][自由出现]]

     则将 $c$ 替换为 $x_i$ 后，替换的位置必不含[[MK140][受限变元]]，即 $x_i$ [[MK150][可替换]] $\phi(\left<x_i\right>,\left<c\right>)$ 中的 $c$

故根据[[MK217][常元省略定理]]可得 $\Gamma\vdash(\forall x_i(\lnot\phi(\left<x_i\right>,\left<c\right>))(\left<c\right>\cong\left<x_i\right>))$

显然 $(\forall x_i(\lnot\phi(\left<x_i\right>,\left<c\right>)(\left<c\right>\cong\left<x_i\right>)))=(\forall x_i(\lnot\phi(\left<x_i\right>,\left<c\right>))(\left<c\right>\cong\left<x_i\right>))$

根据替换规则易证 $\phi=\phi(\left<x_i\right>,\left<c\right>)(\left<c\right>\cong\left<x_i\right>)$

即可得 $\Gamma\vdash(\forall x_i(\lnot\phi))$ ，又根据[[MK206][存在量词]]有 $\Gamma\vdash(\lnot(\forall x_i(\lnot\phi)))$ 与 $\Gamma$ [[MK222][一致]]矛盾

故假设不成立，即 $\Gamma\cup\{\phi(\left<x_i\right>,\left<c\right>)\}$ [[MK222][一致]]

***** 定理3<<MK413>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK222][一致]]的[[MK129][表达式]]集合 $\Gamma\cup\{\phi\}\subset\mathcal{L}_\mathcal{A}$ 有[[MK108][常元符号]] $c$ 不在 $\Gamma\cup\{\phi\}$ 中出现

则有 $\Gamma\cup\{((\exists x_i\phi)\to(\phi(\left<x_i\right>,\left<c\right>))\}$ [[MK222][一致]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

****** 证明

假设 $\Gamma\cup\{((\exists x_i\phi)\to(\phi(\left<x_i\right>,\left<c\right>))\}$ 不[[MK222][一致]]，则根据[[MK213][归谬定理]] $\Gamma\vdash(\lnot((\exists x_i\phi)\to(\phi(\left<x_i\right>,\left<c\right>)))$

则根据[[MK198][推论（9）（10）]]可得 $\Gamma\vdash(\exists x_i\phi)$ 且 $\Gamma\vdash(\lnot(\phi(\left<x_i\right>,\left<c\right>)))$

则根据[[MK229][定理4]]可得 $\Gamma\cup\{(\exists x_i\phi)\}$ [[MK222][一致]]且不含 $c$ 。则有：

（1） 显然有 $\Gamma\cup\{(\exists x_i\phi)\}\vdash(\lnot\phi(\left<x_i\right>,\left<c\right>))$ 设有[[MK196][证明]] $\left<\theta_1,...,\theta_n\right>$

（2） [[MK108][常元符号]] $c$ 不在 $\Gamma$ 中出现，故必不在任意 $\gamma\in\left((\Gamma\cup\{(\exists x_i\phi)\})\cap\left\{\theta_i\big|1\leq i\leq n\right\}\right)$ 中出现

（3） 根据[[MK145][自由替换]]可得 $\phi(\left<x_i\right>,\left<c\right>)$ 不含 $x_i$ 的[[MK141][自由出现]]，即 $x_i$ 不是 $\phi(\left<x_i\right>,\left<c\right>)$ 的[[MK140][自由变元]]

（4） 由于 $c$ 仅对 $\phi$ 中[[MK141][自由出现]] $x_i$ 替换，则 $\phi(\left<x_i\right>,\left<c\right>)$ 中的 $c$ 的位置必为 $x_i$ 的[[MK141][自由出现]]

     则将 $c$ 替换为 $x_i$ 后，替换的位置必不含[[MK140][受限变元]]，即 $x_i$ [[MK150][可替换]] $\phi(\left<x_i\right>,\left<c\right>)$ 中的 $c$

故根据[[MK217][常元省略定理]]可得 $\Gamma\cup\{(\exists x_i\phi)\}\vdash(\forall x_i(\lnot\phi(\left<x_i\right>,\left<c\right>))(\left<c\right>\cong\left<x_i\right>))$

显然 $(\forall x_i(\lnot\phi(\left<x_i\right>,\left<c\right>)(\left<c\right>\cong\left<x_i\right>)))=(\forall x_i(\lnot\phi(\left<x_i\right>,\left<c\right>))(\left<c\right>\cong\left<x_i\right>))$

根据替换规则易证 $\phi=\phi(\left<x_i\right>,\left<c\right>)(\left<c\right>\cong\left<x_i\right>)$

即可得 $\Gamma\cup\{(\exists x_i\phi)\}\vdash(\forall x_i(\lnot\phi))$ ，又根据[[MK206][存在量词]]有 $\Gamma\cup\{(\exists x_i\phi)\}\vdash(\lnot(\forall x_i(\lnot\phi)))$ 与 $\Gamma$ [[MK222][一致]]矛盾

故假设不成立，即 $\Gamma\cup\{((\exists x_i\phi)\to(\phi(\left<x_i\right>,\left<c\right>))\}$ [[MK222][一致]]

**** 可满足性定理<<MK231>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ ，若 $\Gamma$ 是[[MK223][极大一致]]且[[MK230][自现存在]]的，则 $\Gamma$ 是[[MK189][可满足]]的

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 构建[[MK108][常元符号]]的[[~/文档/note/离散数学/lssx.org::MK132][等价]]关系<<MK232>>

对于 $\mathcal{L}_\mathcal{A}$ 中的[[MK108][常元符号]]定义[[~/文档/note/离散数学/lssx.org::MK111][关系]] $\sim_\Gamma$ 为若 $(c_i\hat{=}c_j)\in\Gamma$ 则 $c_i\sim_\Gamma c_j$ 根据下列证明

可得 $\sim_\Gamma$ 是[[~/文档/note/离散数学/lssx.org::MK132][等价关系]]

******* [[~/文档/note/离散数学/lssx.org::MK124][自反性]]

由于 $(x_i\hat{=}x_i)$ 是[[MK197][恒等律公理]]，又根据[[MK197][全域化]]有 $(\forall x_i(x_i\hat{ =}x_i))$ 亦为公理

又根据[[MK197][特化公理]]有 $((\forall x_i(x_i\hat{ =}x_i))\to(c_i\hat{ =}c_i))$ 亦为公理，故根据[[MK210][导出引理]]有 $\Gamma\vdash(c_i\hat{ =}c_i)$

由于 $\Gamma$ [[MK223][极大一致]]，则根据[[MK224][性质]]可得 $(c_i\hat{=}c_i)\in\Gamma$ 即 $c_i\sim_\Gamma c_i$

******* [[~/文档/note/离散数学/lssx.org::MK126][对称性]]

若 $c_i\sim_\Gamma c_j$ 则有 $(c_i\hat{=}c_j)\in\Gamma$ 定义 $\phi=(x_i\hat{ =}c_i)$ 则根据[[MK218][等式定理]]

可得 $\{(c_i\hat{ =}c_j)\}\cup\{\phi(\left<x_i\right>,\left<c_i\right>)\}\vdash\phi(\left<x_i\right>,\left<c_j\right>)$

即 $\{(c_i\hat{=}c_j),(c_i\hat{ =}c_i)\}\vdash(c_j\hat{ =}c_i)$ 由于上一步显然有 $\{(c_i\hat{ =}c_j),(c_i\hat{ =}c_i)\}\subset\Gamma$ ，即 $\Gamma\vdash(c_j\hat{ =}c_i)$

根据[[MK224][性质]]可得 $c_j\sim_\Gamma c_i$

******* [[~/文档/note/离散数学/lssx.org::MK128][传递性]]

若有 $c_i\sim_\Gamma c_j$ 以及 $c_j\sim_\Gamma c_k$ 定义 $\phi=(x_i\hat{ =}c_k)$ 则根据[[MK218][等式定理]]

可得 $\{(c_j\hat{ =}c_i)\}\cup\{\phi(\left<x_i\right>,\left<c_j\right>)\}\vdash\phi(\left<x_i\right>,\left<c_i\right>)$ 即 $\{(c_j\hat{ =}c_i),(c_j\hat{ =}c_k)\}\vdash(c_i\hat{ =}c_k)$

由于 $c_i\sim_\Gamma c_j$ 以及上一步证明可得 $(c_j\hat{ =}c_i)\in\Gamma$ 又由于 $c_j\sim_\Gamma c_k$ 可得 $(c_j\hat{ =}c_k)\in\Gamma$

故有 $\Gamma\vdash(c_i\hat{ =}c_k)$ 根据[[MK224][性质]]可得 $c_i\sim_\Gamma c_k$

****** 构造[[MK153][结构]]

******* 结构定义<<MK233>>

定义 $M=\left\{c_i\big|i\in\mathbb{N}\right\}/\sim_\Gamma=\left\{[c_i]_{\sim_\Gamma}\big|i\in\mathbb{N}\right\}$ 是[[~/文档/note/离散数学/lssx.org::MK132][等价关系]] $\sim_\Gamma$ 的[[~/文档/note/离散数学/lssx.org::MK142][商集]]，并定义 $I$ 为

（1） 若 $c_i\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]]，则有 $I(c_i)=[c_i]_{\sim_\Gamma}$

（2） 若 $f\in\mathcal{L}_\mathcal{A}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ ，

     则 $I(f)([c_{i_1}]_{\sim_\Gamma},...,[c_{i_n}]_{\sim_\Gamma})=[c_{i_{n+1}}]_{\sim_\Gamma}$ 当且仅当 $(f(c_{i_1},...,c_{i_n})=c_{i_{n+1}})\in\Gamma$

（3） 若 $p\in\mathcal{L}_\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$

     则 $\left<[c_{i_1}]_{\sim_\Gamma},...,[c_{i_n}]_{\sim_\Gamma}\right>\in I(p)$ 当且仅当 $p(c_{i_1},...,c_{i_n})\in\Gamma$

******* 无歧义（合理性）

若 $\{(c_{i_1}\hat{=}c_{j_1}),...,(c_{i_n}\hat{ =}c_{j_n})\}\subset\Gamma$ 且 $p(c_{i_1},...,c_{i_n})\in\Gamma$ 其中 $p$ 是[[MK110][谓词符号]]则定义 $\phi=p(x_1,...,x_n)$

则根据[[MK218][等式定理]] $\{(c_{i_1}\hat{=}c_{j_1}),...,(c_{i_n}\hat{ =}c_{j_n})\}\cup\{\phi(\left<x_1,...,x_n\right>,\left<c_{i_1},...,c_{i_n}\right>)\}\vdash\phi(\left<x_1,...,x_n\right>,\left<c_{j_1},...,c_{j_n}\right>)$

即 $\{(c_{i_1}\hat{=}c_{j_n}),...,(c_{i_n}\hat{ =}c_{j_1})\}\cup\{p(c_{i_1},...,c_{i_n})\}\vdash p(c_{j_1},...,c_{j_n})$ 显然根据[[MK224][性质]]有 $p(c_{j_1},...,c_{j_n})\in\Gamma$

同理可证若 $\{(c_{i_1}\hat{=}c_{j_1}),...,(c_{i_{n+1}}\hat{ =}c_{j_{n+1}})\}\subset\Gamma$ 且 $(f(c_{i_1},...,c_{i_n})=c_{i_{n+1}})\in\Gamma$ 则有 $(f(c_{j_1},...,c_{j_n})=c_{j_{n+1}})\in\Gamma$ 

******* 结论

根据之前两步证明，可得[[MK153][一阶结构]] $\mathcal{M}=\left<M,I\right>$ 
 
****** 构造[[MK154][赋值]]

******* 任意 $x_i$ 存在 $c_j$ 使得 $(x_i\hat{=}c_j)\in\Gamma$

定义 $\phi=(\exists x_{i+1}(x_i\hat{=}x_{i+1}))$ 假设 $\phi\not\in\Gamma$ 则根据[[MK224][性质]]可得 $\Gamma\not\vdash(\exists x_{i+1}(x_i\hat{ =}x_{i+1}))$

根据[[MK200][推导符号]]可得等价于 $\Gamma\not\vdash(\lnot(\forall x_{i+1}(\lnot(x_i\hat{ =}x_{i+1}))))$ 又根据[[MK224][性质]]可得 $\Gamma\vdash(\lnot(\lnot(\forall x_{i+1}(\lnot(x_i\hat{ =}x_{i+1})))))$

定义 $\psi=(\forall x_{i+1}(\lnot(x_i\hat{ =}x_{i+1})))$ 根据[[MK198][推论（4）]]可得 $\Gamma\vdash((\lnot(\lnot\psi))\to\psi)$

根据 $\Gamma\vdash (\lnot(\lnot\psi))$ 故根据[[MK210][导出引理]]有 $\Gamma\vdash\psi$ 即 $\Gamma\vdash(\forall x_{i+1}(\lnot(x_i\hat{ =}x_{i+1})))$ 定义 $\varphi=(\lnot(x_i\hat{ =}x_{i+1}))$

根据[[MK197][特化公理]]定义 $\tau=x_i$ 则有 $((\forall x_{i+1}\varphi)\to\varphi(\left<x_{i+1}\right>,\left<x_i\right>))$ 是公理

即 $((\forall x_{i+1}(\lnot(x_i\hat{ =}x_{i+1})))\to(\lnot(x_i\hat{ =}x_{i})))$ 是公理，根据 $\Gamma\vdash(\forall x_{i+1}(\lnot(x_i\hat{ =}x_{i+1})))$ 以及[[MK210][导出引理]]

可得 $\Gamma\vdash(\lnot(x_i\hat{=}x_i))$ 又根据[[MK197][恒等律]]可得 $\Gamma\vdash(x_i\hat{ =}x_i)$ 可得 $\Gamma$ [[MK222][不一致]]，与 $\Gamma$ [[MK223][极大一致]]矛盾，故假设不成立。

即有 $(\exists x_{i+1}(x_i\hat{=}x_{i+1}))\in\Gamma$ 根据[[MK230][自现存在性]]可得存在 $c_j$ 使得 $(x_i\hat{ =}c_j)\in\Gamma$

综上所述，对于任意[[MK107][变元符号]] $x_i$ 均存在 $c_j$ 满足 $(x_i\hat{ =}c_j)\in\Gamma$

******* 若 $\{(x_i\hat{ =}c_j),(x_i\hat{ =}c_k)\}\subset\Gamma$ 则 $(c_j\hat{ =}c_k)\in\Gamma$

定义 $\phi=(x_{i+i}\hat{ =}c_k)$ 则根据[[MK218][等式定理]]有 $\{(x_i\hat{ =}c_i)\}\cup\{\phi(\left<x_{i+1}\right>,\left<x_i\right>)\}\vdash\phi(\left<x_{i+1}\right>,\left<c_j\right>)$

即 $\{(x_i\hat{ =}c_i),(x_i\hat{ =}c_k)\}\vdash(c_j\hat{ =}c_k)$ 又根据条件 $\{(x_i\hat{ =}c_j),(x_i\hat{ =}c_k)\}\subset\Gamma$ ，故有 $\Gamma\vdash(c_j\hat{ =}c_k)$

根据[[MK224][性质]]可得 $(c_j\hat{ =}c_k)\in\Gamma$

******* 定义[[MK154][赋值]]<<MK234>>

定义 $\mathcal{M}$ [[MK154][赋值]]为 $v(x_i)=[c_j]_{\sim_\Gamma}$ 当且仅当 $(x_i\hat{ =}c_j)\in\Gamma$

******* [[MK117][项]]的[[MK155][赋值]]<<MK235>>

对于任意[[MK117][项]] $\tau\in T$ 根据下列证明， $|\tau|<\infty$ 以及数学归纳法

可证 $\bar{v}(\tau)=[c_i]_{\sim_\Gamma}$ 的充要条件是 $(\tau\hat{=}c_i)\in\Gamma$

******** $|\tau|=1$

根据[[MK126][唯一可读性]]可得有且仅有以下两种情况

若 $\tau=x_k$ 则有 $\bar{v}(\tau)=v(x_k)$ 则根据[[MK234][定义]]可得 $v(x_k)=[c_i]_{\sim_\Gamma}$ 的充要条件是 $(x_k\hat{ =}c_i)\in\Gamma$

若 $\tau=c_k$ 则有 $\bar{v}(\tau)=I(c_k)=[c_k]_{\sim_\Gamma}=[c_i]_{\sim_\Gamma}$ 显然 $[c_i]_{\sim_\Gamma}=[c_k]_{\sim_\Gamma}$ 的充要条件是 $c_k\sim_\Gamma c_i$ 

根据[[MK232][定义]]可得即 $(c_k\hat{=}c_i)\in\Gamma$

******** 归纳假设

对于任意 $|\tau|<n$ 均有 $\bar{v}(\tau)=[c_i]_{\sim_\Gamma}$ 的充要条件是 $(\tau\hat{=}c_i)\in\Gamma$

******** $|\tau|=n$

根据[[MK126][唯一可读性]]可得有且仅有 $\tau=f(\tau_1,...,\tau_n)$ 一种情况则根据[[MK154][赋值]]有 $\bar{v}(\tau)=I(f)(\bar{v}(\tau_1),...,\bar{v}(\tau_n))$

根据归纳假设有 $\bar{v}(\tau_k)=[c_{j_k}]_{\sim_\Gamma}$ 的充要条件为 $(\tau_i\hat{=}c_{j_i})\in\Gamma$ 即 $\bar{v}(\tau)=I(f)([c_{j_1}]_{\sim_\Gamma},...,[c_{j_n}]_{\sim_\Gamma})$

又根据[[MK233][定义]]可得若 $I(f)([c_{j_1}]_{\sim_\Gamma},...,[c_{j_n}]_{\sim_\Gamma})=[c_i]_{\sim_\Gamma}$ 的充要条件是 $(f(c_{j_1},...,c_{j_n})\hat{=}c_i)\in\Gamma$

********* 充分

若 $\bar{v}(\tau)=I(f)([c_{j_1}]_{\sim_\Gamma},...,[c_{j_n}]_{\sim_\Gamma})=[c_i]_{\sim_\Gamma}$ ，则定义 $\phi=(f(x_1,...,x_n)\hat{=}x_{n+1})$ 则根据[[MK218][等式定理]]可得

\begin{aligned}
&\{(c_i\hat{= }c_i)\}\cup\left\{(\tau_k\hat{=}c_{j_k})\big|1\leq i\leq n\land i\in\mathbb{N}\right\}\cup\{\phi(\left<x_1,...,x_n,x_{n+1}\right>,\left<c_{j_1},...,c_{j_n},c_i\right>)\}\\
\vdash&\phi(\left<x_1,...,x_n,x_{n+1}\right>,\left<\tau_1,...,\tau_n,c_i\right>)$
\end{aligned}

显然根据归纳假设以及[[MK232][自反性]]可得 $\{(c_i\hat{= }c_i)\}\cup\left\{(\tau_k\hat{=}c_{j_k})\big|1\leq i\leq n\land i\in\mathbb{N}\right\}\subset\Gamma$

又由于 $\phi(\left<x_1,...,x_n,x_{n+1}\right>,\left<c_{j_1},...,c_{j_n},c_i\right>)=(f(c_{j_1},...,c_{j_n})\hat{=}c_i)\in\Gamma$

故可得 $\Gamma\vdash\phi(\left<x_1,...,x_n,x_{n+1}\right>,\left<\tau_1,...,\tau_n,c_i\right>)=(f(\tau_1,...,\tau_n)\hat{=}c_i)$

根据[[MK224][性质]]可得 $(f(\tau_1,...,\tau_n)\hat{=}c_i)\in\Gamma$

********* 必要

若 $(f(\tau_1,...,\tau_n)\hat{=}c_i)\in\Gamma$ 则定义 $\phi = (f(x_1,...,x_n)\hat{ =}x_{n+1})$ 则根据[[MK218][等式定理]]可得

\begin{aligned}
&\{(c_i\hat{= }c_i)\}\cup\left\{(\tau_k\hat{=}c_{j_k})\big|1\leq i\leq n\land i\in\mathbb{N}\right\}\cup\{\phi(\left<x_1,...,x_n,x_{n+1}\right>,\left<\tau_1,...,\tau_n,c_i\right>)\}\\
\vdash&\phi(\left<x_1,...,x_n,x_{n+1}\right>,\left<c_{j_1},...,c_{j_n},c_i\right>)$
\end{aligned}

则与充分同理可证 $(f(c_{j_1},...,c_{j_n})\hat{=}c_i)\in\Gamma$ ，根据[[MK233][定义]]可得 $\bar{v}(\tau)=I(f)([c_{j_1}]_{\sim_\Gamma},...,[c_{j_n}]_{\sim_\Gamma}) =[c_i]_{\sim_\Gamma}$ 

****** 证明结论

根据以下证明，对于任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\phi\in\Gamma$ 即根据[[MK189][可满足]]有 $\left<\mathcal{M},v\right>\vDash\Gamma$  

******* 任意[[MK144][语句]]满足结论<<MK236>>

任意 $\theta\in\mathcal{L}_\mathcal{A}$ 是[[MK144][语句]]，定义 $z(\theta)$ 为 $\theta$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

显然 $z(\theta)<\infty$ 则根据以下证明以及数学归纳法可得 $\theta\in\Gamma$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\theta$

其中 $\mathcal{M}$ 为[[MK233][之前定义的结构]]， $v$ 为[[MK234][之前定义赋值]]

******** $z(\theta)=1$ 时

根据[[MK137][唯一可读性]]有且仅有以下情况

********* $\theta=(\tau_1\hat{=}\tau_2)$

由于 $\theta$ 是[[MK144][语句]]且为[[MK129][原始表达式]]，故 $\tau_i$ 不含[[MK107][变元符号]]，则根据[[MK234][赋值定义]]可得

存在唯一[[MK108][常元符号]] $c_{i_1},c_{i_2}$ 使得 $\bar{v}(\tau_1)=[c_{i_1}]_{\sim_\Gamma},\bar{v}(\tau_2)=[c_{i_2}]_{\sim_\Gamma}$

则根据[[MK235][之前证明]]可得其充要条件为 $(\tau_1\hat{=}c_{i_1})\in\Gamma,(\tau_2\hat{ =}c_{i_2})\in\Gamma$

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash(\tau_1\hat{=}\tau_2)$ 的充要条件为 $[c_{i_1}]_{\sim_\Gamma}  =\bar{v}(\tau_1) =\bar{v}(\tau_2) =[c_{i_2}]_{\sim_\Gamma}$

则根据[[MK232][等价关系定义]]可得其充要条件为 $(c_{i_1}\hat{=}c_{i_2})\in\Gamma$

综上所述 $\left<\mathcal{M},v\right>\vDash(\tau_1\hat{=}\tau_2)$ 的等价条件为 $(c_{i_1}\hat{ =}c_{i_2})\in\Gamma$

则定义 $\phi=(x_1\hat{ =}x_2)$ 根据以下证明可得当 $\theta=(\tau_1\hat{ =}\tau_2)$ 时 $\left<\mathcal{M},v\right>\vDash\theta$ 的充要条件为 $\theta\in\Gamma$ 

********** 充分

假设 $(\tau_1\hat{=}\tau_2)\in\Gamma$ 根据[[MK218][等式定理]]

可得 $\{(\tau_1\hat{ =}c_{i_1}),(\tau_2\hat{ =}c_{2_1})\}\cup\{\phi(\left<x_1,x_2\right>,\left<\tau_1,\tau_2\right>)\}\vdash\phi(\left<x_1,x_2\right>,\left<c_{i_1},c_{i_2}\right>)$

即 $\{(\tau_1\hat{ =}c_{i_1}),(\tau_2\hat{ =}c_{2_1}),(\tau_1\hat{ =}\tau_2)\}\vdash(c_{i_1}\hat{ =}c_{i_2})$ 显然根据假设 $\{(\tau_1\hat{ =}c_{i_1}),(\tau_2\hat{ =}c_{2_1}),(\tau_1\hat{ =}\tau_2)\}\subset\Gamma$

即有 $\Gamma\vdash(c_{i_1}\hat{=}c_{i_2})$ 根据[[MK224][性质]]可得 $(c_{i_1}\hat{ =}c_{i_2})\in\Gamma$ 则根据等价条件可得 $\left<\mathcal{M},v\right>\vDash(\tau_1\hat{ =}\tau_2)$ 

********** 必要

假设 $\left<\mathcal{M},v\right>\vDash(\tau_1\hat{=}\tau_2)$ 则其等价条件为 $(c_{i_1}\hat{ =}c_{i_2})\in\Gamma$

根据[[MK218][等式定理]] $\{(\tau_1\hat{ =}c_{i_1}),(\tau_2\hat{ =}c_{2_1})\}\cup\{\phi(\left<x_1,x_2\right>,\left<c_{i_1},c_{i_2}\right>)\}\vdash\phi(\left<x_1,x_2\right>,\left<\tau_1,\tau_2\right>)$

即 $\{(\tau_1\hat{ =}c_{i_1}),(\tau_2\hat{ =}c_{2_1}),(c_{i_1}\hat{ =}c_{i_2})\}\vdash(\tau_1\hat{ =}\tau_2)$ 显然根据假设 $\{(\tau_1\hat{ =}c_{i_1}),(\tau_2\hat{ =}c_{2_1}),(c_{i_1}\hat{ =}c_{i_2})\}\subset\Gamma$

故有 $\Gamma\vdash(\tau_1\hat{=}\tau_2)$ 根据[[MK224][性质]]可得 $(\tau_1\hat{ =}\tau_2)\in\Gamma$ 

********* $\theta=p(\tau_1,...,\tau_n)$

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash\theta$ 的充要条件是 $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>\in I(p)$

由于 $\theta$ 是[[MK144][语句]]且为[[MK129][原始表达式]]，故 $\tau_i$ 不含[[MK107][变元符号]]，则根据[[MK234][赋值定义]]可得对于任意 $\tau_i$

存在唯一[[MK108][常元符号]] $c_{j_i}$ 使得 $\bar{v}(\tau_i)=[c_{j_i}]_{\sim_\Gamma}$ 根据[[MK235][之前证明]]可得充要条件 $(\tau_i\hat{=}c_{j_i})\in\Gamma$

则可得  $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>\in I(p)$ 等价于 $\left<[c_{j_1}]_{\sim_\Gamma},...,\left<[c_{j_n}]_{\sim_\Gamma}\right>\in I(p)$

又根据[[MK233][结构定义]] $\left<[c_{j_1}]_{\sim_\Gamma},...,\left<[c_{j_n}]_{\sim_\Gamma}\right>\in I(p)$ 等价于 $p(c_{j_1},...,c_{j_n})\in\Gamma$

综上所述， $\left<\mathcal{M},v\right>\vDash p(\tau_1,...,\tau_n)$ 的充要条件是 $p(c_{j_1},...,c_{j_n})\in\Gamma$

则定义 $\phi=p(x_1,...,x_n)$ 根据以下证明可得当 $\theta=p(\tau_1,...,\tau_n)$ 时 $\left<\mathcal{M},v\right>\vDash\theta$ 的充要条件为 $\theta\in\Gamma$ 

********** 充分

若 $p(\tau_1,...,\tau_n)\in\Gamma$

根据[[MK218][等式定理]] $\left\{(\tau_i\hat{ =}c_{j_i})\big|1\leq i\leq n\land i\in\mathbb{N}\right\}\cup\{\phi(\left<x_1,...,x_n\right>,\left<\tau_1,...,\tau_n\right>)\}\vdash\phi(\left<x_1,...,x_n\right>,\left<c_{j_1},...,c_{j_2}\right>)$

即 $\left\{(\tau_i\hat{ =}c_{j_i})\big|1\leq i\leq n\land i\in\mathbb{N}\right\}\cup\{p(\tau_1,...,\tau_n)\}\vdash p(c_{j_1},...,c_{j_2})$

显然 $\left\{(\tau_i\hat{ =}c_{j_i})\big|1\leq i\leq n\land i\in\mathbb{N}\right\}\cup\{p(\tau_1,...,\tau_n)\}\subset\Gamma$ 故有 $\Gamma\vdash p(c_{j_1},...,c_{j_2})$

根据[[MK224][性质]]可得 $p(c_{j_1},...,c_{j_n})\in\Gamma$ 根据等价条件有 $\left<\mathcal{M},v\right>\vDash p(\tau_1,...,\tau_n)$

********** 必要

若 $\left<\mathcal{M},v\right>\vDash p(\tau_1,...,\tau_n)$ 则其充要条件是 $p(c_{j_1},...,c_{j_n})\in\Gamma$ 

根据[[MK218][等式定理]] $\left\{(\tau_i\hat{ =}c_{j_i})\big|1\leq i\leq n\land i\in\mathbb{N}\right\}\cup\{\phi(\left<x_1,...,x_n\right>,\left<c_{j_1},...,c_{j_2}\right>)\}\vdash\phi(\left<x_1,...,x_n\right>,\left<\tau_1,...,\tau_n\right>)$

即 $\left\{(\tau_i\hat{ =}c_{j_i})\big|1\leq i\leq n\land i\in\mathbb{N}\right\}\cup\{p(c_{j_1},...,c_{j_2})\}\vdash p(\tau_1,...,\tau_n)$

显然 $\left\{(\tau_i\hat{ =}c_{j_i})\big|1\leq i\leq n\land i\in\mathbb{N}\right\}\cup\{p(c_{j_1},...,c_{j_2})\}\subset\Gamma$ 故有 $\Gamma\vdash p(\tau_1,...,\tau_n)$

根据[[MK224][性质]]可得 $p(\tau_1,...,\tau_n)\in\Gamma$

******** 归纳假设

对于任意[[MK144][语句]] $\theta$ 若 $z(\theta)<n$ 则 $\left<\mathcal{M},v\right>\vDash\theta$ 的充要条件为 $\theta\in\Gamma$ 

******** $z(\theta)=n$

根据[[MK137][唯一可读性]]有且仅有以下情况

********* $\theta=(\lnot\phi)$

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash(\lnot\phi)$ 的充要条件是 $\left<\mathcal{M},v\right>\not\vDash\phi$ 根据归纳假设，其充要条件是 $\phi\not\in\Gamma$

根据[[MK224][性质（2）]]可得 $\phi\not\in\Gamma$ 的充要条件是 $(\lnot\phi)\in\Gamma$

********* $\theta=(\phi_1\to\phi_2)$

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash(\phi_1\to\phi_2)$ 的充要条件是 $\left<\mathcal{M},v\right>\not\vDash\phi_1$ 或者 $\left<\mathcal{M},v\right>\vDash\phi_2$

根据归纳假设可得 $\left<\mathcal{M},v\right>\not\vDash\phi_1$ 或者 $\left<\mathcal{M},v\right>\vDash\phi_2$ 的充要条件为 $\phi_1\not\in\Gamma$ 或者 $\phi_2\in\Gamma$

根据[[MK224][性质（4）]]可得 $\phi_1\not\in\Gamma$ 或者 $\phi_2\in\Gamma$ 的充要条件为 $\Gamma\vdash(\phi_1\to\phi_2)$

又根据[[MK224][性质（1）]]可得 $\Gamma\vdash(\phi_1\to\phi_2)$ 的充要条件为 $(\phi_1\to\phi_2)\in\Gamma$

********* $\theta=(\forall x_i\phi)$

********** $\phi$ 是[[MK144][语句]]

故 $\phi$ 中不含[[MK140][自由变元]]，根据[[MK169][推论]]易证 $\left<\mathcal{M},v\right>\vDash(\forall x_i\phi)$ 的充要条件为 $\left<\mathcal{M},v\right>\vDash\phi$

根据归纳假设，即充要条件为 $\phi\in\Gamma$

则根据[[MK197][特化原理]] $((\forall x_i\phi)\to\phi)$ 是个公理，又根据[[MK218][无关量词]]可得 $(\phi\to(\forall x_i\phi))$ 是公理

故显然结合[[MK224][性质（1）]]可得 $\phi\in\Gamma$ 的充要条件是 $(\forall x_i\phi)\in\Gamma$

********** $\phi$ 含有 $x_i$ 的[[MK140][自由变元]]

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash(\forall x_i\phi)$ 的充要条件为于任意[[MK154][赋值]] $\mu:X\to M$

若满足对于任意 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\mu(x_j)=v(x_j)$ ，则有 $<\mathcal{M},\mu>\vDash(\forall x_i\psi)$

根据 $M$ 的[[MK233][定义]]可得等价于对于任意[[MK108][常元符号]] $c_j$ 满足 $\mu(x_i)=[c_j]_{\sim_\Gamma}$ 有 $<\mathcal{M},\mu>\vDash\phi$

由于 $(\forall x_i\phi)$ 是[[MK144][语句]]，故 $x_i$ 是 $\phi$ 中唯一的[[MK140][自由变元]]，根据[[MK168][局部确定]]可得

等价于对于任意[[MK108][常元符号]] $c_j$ 均有 $\mathcal{M}\vDash\phi[c_j]$ 显然 $c_j$ 是[[MK117][项]]，且根据[[MK233][定义]]有 $\mu(x_i)=I(c_j)=\bar{v}(c_j)$

则根据[[MK176][替换定理]]有 $\mathcal{M}\vDash\phi[c_j]$ 的等价条件为 $\left<\mathcal{M},v\right>\vdash\phi(\left<x_i\right>,\left<c_j\right>)$ 根据归纳假设即 $\phi(\left<x_i\right>,\left<c_j\right>)\in\Gamma$  

综上所述 $\left<\mathcal{M},v\right>\vDash(\forall x_i\phi)$ 的充要条件为对于任意[[MK108][常元符号]] $c_j$ 均有 $\phi(\left<x_i\right>,\left<c_j\right>)\in\Gamma$ 

*********** 充分

若 $(\forall x_i\phi)\in\Gamma$ 则对于任意[[MK108][常元符号]] $c_j$ 显然 $c_j$ 是[[MK117][项]]，故根据[[MK197][特化公理]]可得 $((\forall x_i\phi)\to\phi(\left<x_i\right>,\left<c_j\right>))$

是公理。则根据[[MK210][导出引理]]可得对于任意[[MK108][常元符号]] $c_j$ 有 $\Gamma\vdash\phi(\left<x_i\right>,\left<c_j\right>)$ 根据[[MK224][性质]] $\phi(\left<x_i\right>,\left<c_j\right>)\in\Gamma$

故综上所述 $(\forall x_i\phi)\in\Gamma$ 可得任意[[MK108][常元符号]] $c_j$ 有 $\phi(\left<x_i\right>,\left<c_j\right>)\in\Gamma$

则根据充要条件可得 $\left<\mathcal{M},v\right>\vDash(\forall x_i\phi)$  

*********** 必要

若 $\left<\mathcal{M},v\right>\vDash(\forall x_i\phi)$ ，假设 $(\forall x_i\phi)\not\in\Gamma$ 则根据[[MK224][性质（2）]]可得 $(\lnot(\forall x_i\phi))\in\Gamma$ 则根据[[MK206][存在量词]]

可得有 $(\exists x_i(\lnot\phi))\in\Gamma$ ，由于 $\Gamma$ [[MK230][自显存在]]，故存在 $c^*_j$ 满足 $(\lnot\phi)(\left<x_i\right>,\left<c^*_j\right>)\in\Gamma$

即 $(\lnot\phi(\left<x_i\right>,\left<c^*_j\right>))\in\Gamma$ 又由于 $\left<\mathcal{M},v\right>\vDash(\forall x_i\phi)$  则根据充要条件可得任意[[MK108][常元符号]] $c_j$

均有 $\phi(\left<x_i\right>,\left<c_j\right>)\in\Gamma$ 即对于 $c^*_j$ 亦有 $\phi(\left<x_i\right>,\left<c^*_j\right>)\in\Gamma$ 与[[MK224][性质（2）]]冲突

故假设不成立 $(\forall x_i\phi)\in\Gamma$

******* $((x_i\hat{=}c_j)\to(\phi\to\phi(\left<x_i\right>,\left<c_j\right>)))\in\Gamma$

对于任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 取[[MK107][变元符号]] $x_k$ 未再 $\phi$ 中出现，则用 $x_i$ [[MK145][自由替换]] $x_k$ 可得 $\phi(\left<x_k\right>,\left<x_i\right>)=\phi$

同理两次[[MK145][自由替换]]可得 $\phi(\left<x_i\right>,\left<x_k\right>)(\left<x_k\right>,\left<x_i\right>)=\phi$ 即对 $\phi,\phi(\left<x_i\right>,\left<x_k\right>)$ 均用 $x_i$ [[MK145][自由替换]] $x_k$

后表达式相等。故根据[[MK197][等同律]]可得 $((x_i\hat{ = }x_k)\to(\phi\to\phi(\left<x_i\right>,\left<x_k\right>)))$ 是公理

进一步根据[[MK197][全域化]]可得 $(\forall x_k((x_i\hat{ = }x_k)\to(\phi\to\phi(\left<x_i\right>,\left<x_k\right>))))$ 是公理，又根据[[MK197][特化]]

可得 $((\forall x_k((x_i\hat{ = }x_k)\to(\phi\to\phi(\left<x_i\right>,\left<x_k\right>))))\to((x_i\hat{ = }x_k)\to(\phi\to\phi(\left<x_i\right>,\left<x_k\right>)))(\left<x_k\right>,\left<c_j\right>))$

根据[[MK210][导出引理]]即有 $\Gamma\vdash((x_i\hat{ = }x_k)\to(\phi\to\phi(\left<x_i\right>,\left<x_k\right>)))(\left<x_k\right>,\left<c_j\right>)$

即 $\Gamma\vdash((x_i\hat{ = }c_j)\to(\phi\to\phi(\left<x_i\right>,\left<c_j\right>)))$ 根据[[MK224][性质]]可得 $((x_i\hat{=}c_j)\to(\phi\to\phi(\left<x_i\right>,\left<c_j\right>)))\in\Gamma$

******* 若 $v(x_i)=[c_j]_{\sim_\Gamma}$ 则 $(\phi\leftrightarrow\phi(\left<x_i\right>,\left<c_j\right>))\in\Gamma$

根据[[MK235][项赋值]]可得 $v(x_i)=[c_j]_{\sim_\Gamma}$ 则有 $(\tau\hat{=}c_i)\in\Gamma$ ，则根据上一步证明以及[[MK210][导出引理]] $\Gamma\vdash(\phi\rightarrow\phi(\left<x_i\right>,\left<c_j\right>))$

同理亦有 $\Gamma\vdash((\lnot\phi)\rightarrow(\lnot\phi(\left<x_i\right>,\left<c_j\right>)))$ 则根据[[MK204][等价条件（2）]]可得 $\Gamma\vdash(\phi\leftrightarrow\phi(\left<x_i\right>,\left<c_j\right>))$

******* $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\phi\in\Gamma$

对于任意[[MK129][表达式]] $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 根据[[MK168][局部确定]]可得 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\mathcal{M}\vDash\phi[v(x_1),...,v(x_n)]$

设 $v(x_i)=[c_{j_i}]_{\sim_\Gamma}$ 根据[[MK233][结构定义]]可得 $v(x_i)=I(c_{j_i})=\bar{v}(c_{j_i})$ 显然 $c_{j_i}$ 是[[MK117][项]]

故根据[[MK176][替换定理]]可得 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{M},v\right>\vDash\phi(\left<x_1,...,x_n\right>,\left<c_{i_1},...,c_{i_n}\right>))$ 

由于 $v(x_i)=[c_{j_i}]_{\sim_\Gamma}$ 则根据上一步证明可得 $\Gamma\vdash(\phi\leftrightarrow\phi(\left<x_1\right>,\left<c_{i_1}\right>))$

同理可得 $\Gamma\vdash(\phi\left<x_1\right>,\left<c_{i_1}\right>)\leftrightarrow\phi(\left<x_1,x_2\right>,\left<c_{i_1},c_{i_2}\right>))$ 则根据[[MK205][传递性]]可得 $\Gamma\vdash(\phi\leftrightarrow\phi(\left<x_1,x_2\right>,\left<c_{i_1},c_{i_2}\right>))$

依次类推，由于 $n<\infty$ 故根据数学归纳法有 $\Gamma\vdash(\phi\leftrightarrow\phi(\left<x_1,...,x_n\right>,\left<c_{i_1},...,c_{i_n}\right>))$

由于 $x_1,...,x_n$ 是 $\phi$ 中所有的[[MK140][自由变元]]，故 $\phi(\left<x_1,...,x_n\right>,\left<c_{i_1},...,c_{i_n}\right>)$ 是[[MK144][语句]]

故根据[[MK236][之前证明]]可得 $\left<\mathcal{M},v\right>\vDash\phi(\left<x_1,...,x_n\right>,\left<c_{i_1},...,c_{i_n}\right>))$ 的充要条件为 $\phi(\left<x_1,...,x_n\right>,\left<c_{i_1},...,c_{i_n}\right>))\in\Gamma$

根据[[MK224][性质]] $\phi(\left<x_1,...,x_n\right>,\left<c_{i_1},...,c_{i_n}\right>))\in\Gamma$ 的充要条件为 $\Gamma\vdash\phi(\left<x_1,...,x_n\right>,\left<c_{i_1},...,c_{i_n}\right>))$ 

根据[[MK203][双向蕴含]]、[[MK210][导出引理]]以及 $\Gamma\vdash(\phi\leftrightarrow\phi(\left<x_1,...,x_n\right>,\left<c_{i_1},...,c_{i_n}\right>))$

易证 $\Gamma\vdash\phi(\left<x_1,...,x_n\right>,\left<c_{i_1},...,c_{i_n}\right>))$ 的充要条件为 $\Gamma\vdash\phi$ 又根据[[MK224][性质]]可得充要条件为 $\phi\in\Gamma$

综上所述，对于任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\phi\in\Gamma$

**** 扩展定理<<MK237>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 满足：

（1） $\Gamma$ 是[[MK222][一致的]]

（2） 不在 $\mathcal{A}$ 中出现的[[MK108][常元符号]] $D$ 满足 $|D|=|C|$

则存在 $\mathcal{L}$ 中存在[[MK223][极大一致]]且[[MK230][自现存在]]的[[MK129][表达式]]集合 $\Gamma^*$ 满足 $\Gamma\subset\Gamma^*$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 定义 $\mathcal{L}_\infty,\Gamma_\infty$ <<MK414>>

根据[[MK116][引理2]]可得 $|D|=|C|\geq|\mathcal{L}|$  ，由于[[MK107][变元符号]] $X$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，故根据[[~/文档/note/离散数学/lssx.org::MK88][定理5]]可得 $|D|\geq|\mathcal{L}\times X|$

同理亦有 $|D|\geq|\mathcal{L}\times X\times\mathbb{N}|$ 则根据[[~/文档/note/离散数学/lssx.org::MK29][等势]]存在[[~/文档/note/离散数学/lssx.org::MK176][单射]] $\beta:\mathcal{L}\times X\times\mathbb{N}\to D$

定义 $\mathcal{L}_{\mathcal{A}_0}=\mathcal{L}_\mathcal{A},\Gamma_0=\Gamma$ ，定义 $\mathcal{A}_{n+1}=\mathcal{A}_{n}\cup\left\{\beta(\phi,x,n)\big|\left<\phi,x\right>\in\mathcal{L}_{\mathcal{A}_n}\times X\right\}$

定义 $\Gamma_{n+1}=\Gamma_{n}\cup\left\{\left((\exists x\phi)\to\phi\left(\left<x\right>,\left<\beta(\phi,x,n)}\right>\right)\right)\big|\left<\phi,x\right>\in\mathcal{L}_{\mathcal{A}_n}\times X\right\}$

显然有 $\mathcal{L}_{\mathcal{A}_n}\subset\mathcal{L}_{\mathcal{A}_{n-1}},\Gamma_n\subset\Gamma_{n-1}$ 定义 $\mathcal{L}_{\mathcal{A}_\infty}=\bigcup_{n=0}^\infty\mathcal{L}_{\mathcal{A}_n},\Gamma_\infty=\bigcup_{n=0}^\infty\Gamma_n$

后续证明使用标记 $c^n_{\left<\phi,x\right>}=\beta(\phi,x,n)$

******* 存在性

显然对于任意 $\mathcal{A}_n$ 均有 $\mathcal{L}_{\mathcal{A}_n}\subset\mathcal{L}$ 故 $\beta$ 有定义，即 $\mathcal{A}_n,n\in\mathbb{N}$ 均有定义

******* 性质<<MK417>>

定义 $C_{n+1}=\left\{\beta(\phi,x,n)\big|\left<\phi,x\right>\in\mathcal{L}_{\mathcal{A}_n}\times X\right\}$ 假设存在 $c\in C_{n+1}$ 满足 $c\in\mathcal{A}_{n}\cap D$

由于 $D$ 不在 $\mathcal{A}_0=\mathcal{A}$ 中，故必存在 $C_{m+1},1\leq m+1\leq n$ 满足 $c\in C_{m+1}$

则根据定义显然有 $\left<\psi,x'\right>\in\mathcal{L}_{\mathcal{A}_m}\times X$ 满足 $c=\beta(\psi,x',m)$ ，又由于 $c\in C_{n+1}$ 可得 $c=\beta(\phi,x,n)$

显然有 $n>m$ 又由于 $\beta$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]，则可得 $\beta(\psi,x',m)\ne\beta(\phi,x,n)$ 矛盾，故假设不成立

综上所述，对于任意 $c\in C_{n+1}$ 均有 $c\not\in\mathcal{A}_n$

进一步有对于任意 $c\in C_{n+1}$ 均不在任意 $\phi\in\mathcal{L}_{\mathcal{A}_n}$ 中出现

进一步可得对于任意 $c\in C_{n+1}$ 均不在任意 $\phi\in\Gamma_{n}$ 中出现

****** $\Gamma_n$ 在 $\mathcal{L}_{\mathcal{A}_n}$ 下[[MK222][一致]]，则 $\Gamma_n$ 在 $\mathcal{L}_{\mathcal{A}_{n+1}}$ 下[[MK222][一致]]<<MK415>>

假设 $\Gamma_n$ 在 $\mathcal{L}_{\mathcal{A}__{n+1}}$ 下不[[MK222][一致]]，则根据[[MK227][定理2]]可得 $\Gamma_n\vdash(\lnot(x_1\hat{=}x_1))$ 设其[[MK196][证明]]为 $\left<\phi_1,...,\phi_n\right>$

有 $\phi_n=(\lnot(x_1\hat{ =}x_1))$

假设 $\left<\phi_1,...,\phi_n\right>$ 中[[MK1047][变元符号]]在 $x_1,...,x_u$ ，仅在 $\mathcal{L}_{n+1}$ 中不在 $\mathcal{L}_{n}$ 中的[[MK108][常元符号]]有 $\{c_1,...,c_v\}$

则根据[[MK216][常元省略引理]]可得 $\left<\phi_1(\left<c_1,...,c_v\right>,\left<x_{u+1},...,x_{u+v}\right>),...,\phi_n(\left<c_1,...,c_v\right>,\left<x_{u+1},...,x_{u+v}\right>)\right>$

亦为 $\Gamma_n$ 在 $\mathcal{L}_{\mathcal{A}_{n+1}}$ 下的[[MK196][证明]]，显然 $\phi_n(\left<c_1,...,c_v\right>,\left<x_{u+1},...,x_{u+v}\right>)\right>)=\phi_n=(\lnot(x_1\hat{=}x_1))$

根据上一步定义 $\mathcal{L}_{\mathcal{A}_{n+1}}$ 仅比 $\mathcal{L}_{\mathcal{A}_n}$ 增加[[MK108][常元符号]]，且 $\phi_i$ 中不含增加的[[MK108][常元符号]]

故 $\left<\phi_1(\left<c_1,...,c_v\right>,\left<x_{u+1},...,x_{u+v}\right>),...,\phi_n(\left<c_1,...,c_v\right>,\left<x_{u+1},...,x_{u+v}\right>)\right>$

亦为 $\Gamma_n$ 在 $\mathcal{L}_{\mathcal{A}_n}$ 下的[[MK196][证明]]，即有在 $\mathcal{L}_{\mathcal{A}_n}$ 下 $\Gamma_n\vdash(\lnot(x_1\hat{=}x_1))$ ，又根据[[MK196][恒等律]]有在 $\mathcal{L}_{\mathcal{A}_n}$ 下 $\Gamma_n\vdash(x_1\hat{ =}x_1)$

显然与 $\Gamma_n$ 在 $\mathcal{L}_{\mathcal{A}_n}$ 下[[MK222][一致]]矛盾，故假设不成立，即 $\Gamma_n$ 在 $\mathcal{L}_{n+1}$ [[MK222][一致]]

****** $\Gamma_n$ 在 $\mathcal{L}_{\mathcal{A}_{n+1}}$ 下[[MK222][一致]]，则 $\Gamma_{n+1}$ 在 $\mathcal{L}_{\mathcal{A}_{n+1}}$ 下[[MK222][一致]]

任取 $\Gamma_{n+1}$ 的[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $G\subset\Gamma_{n+1}$ 由于 $\Gamma_n$ 在 $\mathcal{L}_{\mathcal{A}_{n+1}}$ 下[[MK222][一致]]， $G\cap\Gamma_n$ 在 $\mathcal{L}_{\mathcal{A}_{n+1}}$ 下[[MK222][一致]]

又由于是[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集，故可定义 $\{\phi_1,...,\phi_m\}=G\cap(\Gamma_{n+1}-\Gamma_n)$

且 $\phi_i$ 有形式 $\phi_i=\left((\exists x\psi_i)\to\psi_i\left(\left<x\right>,\left<c^n_{\left<\psi,x\right>}\right>\right)\right)$ 其中 $\psi_i\in\mathcal{L}_{\mathcal{A}_n},c^n_{\left<\psi,x\right>}\in C_{n+1}$

根据[[MK417][性质]]可得 $c^n_{\left<\psi,x\right>}$ 不在 $G\cap\Gamma_n\cup\{\psi\}$ 中出现

根据[[MK413][定理3]]可得 $G\cap\Gamma_n\cup\{\phi_1\}$ 在 $\mathcal{L}_{\mathcal{A}_{n+1}}$ 下[[MK222][一致]]，依此类推可得 $G\cap\Gamma_n\cup\{\phi_1,...,\phi_m\}$ 在 $\mathcal{L}_{\mathcal{A}_{n+1}}$ 下[[MK222][一致]]

综上所述，任意 $\Gamma_{n+1}$ 的[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集在 $\mathcal{L}_{\mathcal{A}_{n+1}}$ 下均[[MK222][一致]]，故根据[[MK271][紧致性]]可得 $\Gamma_{n+1}$ 在 $\mathcal{L}_{\mathcal{A}_{n+1}}$ 下[[MK222][一致]]

****** 证明 $\Gamma_\infty$ 在 $\mathcal{L}_{\mathcal{A}_\infty}$ 下[[MK222][一致]]

任取 $\Gamma_\infty$ 的[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $G=\{\phi_1,...,\phi_n\}$ 则根据[[MK414][定义]]有 $\Gamma_\infty=\bigcup_{i=0}^\infty\Gamma_i$ 以及 $\Gamma_i\subset\Gamma_{i+1}$

故易证存在 $\Gamma_m$ 满足 $G\subset\Gamma_m$ ，由于 $\Gamma_m$ 在 $\mathcal{L}_{\mathcal{A}_m}$ 下[[MK222][一致]]，故 $G$ 亦在 $\mathcal{L}_{\mathcal{A}_m}$ 下[[MK222][一致]]

假设 $G$ 在 $\mathcal{L}_{\mathcal{A}_\infty}$ 下不[[MK222][一致]]，则根据[[MK227][定理2]]可得 $G\vdash(\lnot(x_1\hat{=}x_1))$ 则[[MK415][同理可证]]假设不成立

故 $G$ 在 $\mathcal{L}_{\mathcal{A}_\infty}$ 下[[MK222][一致]]，即对于任意 $\Gamma_\infty$ 的[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集在 $\mathcal{L}_{\mathcal{A}_\infty}$ 下均[[MK222][一致]]

故根据[[MK271][紧致性]]可得 $\Gamma_\infty$ 在 $\mathcal{L}_{\mathcal{A}_\infty}$ 下[[MK222][一致]]

****** $\mathcal{L}_{\mathcal{A}_\infty}$ 下有[[MK223][极大一致]]的 $\Gamma^*_\infty\supset\Gamma_\infty$  

显然在 $\mathcal{L}_{\mathcal{A}_\infty}$ 下有 $\Gamma\subset\Gamma_\infty$ 且 $\Gamma_\infty$ [[MK222][一致]]，则根据[[MK416][定理2]]可得存在 $\Gamma^*_\infty$ 满足 $\Gamma_\infty\subset\Gamma^*_\infty$ 且 $\Gamma^*_\infty$ [[MK223][极大一致]]

****** $\Gamma^*_\infty$ [[MK230][自显存在]]

对于任意 $(\exists x_i\phi)\in\Gamma^*_\infty$ 必有 $(\exists x_i\phi)\in\mathcal{L}_{\mathcal{A}_\infty}$ 由于 $|(\exists x_i\phi)|<\infty$ 故可得其包含的[[MK108][常元符号]]亦[[~/文档/note/离散数学/lssx.org::MK82][有限]]

定义为 $\{c_1,...,c_k\}$ 根据 $\mathcal{A}_i$ [[MK414][定义]]易证存在 $m$ 使得 $\{c_1,...,c_k\}\subset\mathcal{A}_m$

则根据 $\mathcal{L}_{\mathcal{A}_m}$ 定义有 $(\exists x_i\phi)\in\mathcal{L}_{\mathcal{A}_m}$ ，则根据[[MK414][定义]]有 $\psi=\left((\exists x_i\phi)\to\phi\left(\left<x_i\rigth>,\left<c^m_{\left<x_i,\phi\right>}\right>\right)\right)\in\Gamma_{m+1}$

显然亦有 $\psi\in\Gamma_\infty\subset\Gamma^*_\infty$ 结合 $(\exists x_i\phi)\in\Gamma^*_\infty$ 则有 $\Gamma^*_\infty\vdash\phi\left(\left<x_i\rigth>,\left<c^m_{\left<x_i,\phi\right>}\right>\right)\right)$

根据[[MK229][定理4]]可得 $\Gamma^*_\infty\cup\left\{\phi\left(\left<x_i\rigth>,\left<c^m_{\left<x_i,\phi\right>}\right>\right)\right)\right\}$ [[MK222][一致]]，又根据 $\Gamma^*_\infty$ [[MK223][极大一致]]

即有 $\phi\left(\left<x_i\rigth>,\left<c^m_{\left<x_i,\phi\right>}\right>\right)\right)\in\Gamma^*_\infty$

**** 常元省略<<MK248>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 中有：

（a） [[MK108][常元符号]]集合 $C$ 

（b） [[~/文档/note/离散数学/lssx.org::MK181][双射函数]] $\mu:C\to C'$ 其中 $C'\subset C$

（c） [[MK129][表达式]]集合 $\Gamma$

对于任意 $\phi\in\Gamma$ 定义[[~/文档/note/离散数学/lssx.org::MK175][函数]] $\rho(\phi)\in\mathcal{L}_\mathcal{A}$ 满足 $\rho(\phi)[i]=\begin{cases}\mu(\phi[i])&\phi[i]\in C\\\phi[i]&\phi[i]\not\in C\end{cases}$

定义 $C'=\left\{\mu(c)\big|c\in C\right\}$ ， $\Gamma^* =\left\{\rho(\phi)\big|\phi\in\Gamma\right\}$ 以及 $\mathcal{A}^* =\left(\mathcal{A}-C\right)\cup C'$ 则有

（1） $\rho:\mathcal{L}_\mathcal{A}\to\mathcal{L}_{\mathcal{A}^*}$ [[~/文档/note/离散数学/lssx.org::MK181][双射]]

（2） 若 $\Gamma$ [[MK222][一致]]，则 $\Gamma^*$ [[MK222][一致]]

（3） 对于任意 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 定义 $\mathcal{L}_{\mathcal{A}^*}$ 下的[[MK153][结构]] $\mathcal{M}^*=\left<M,I^*\right>$ 满足：

    （a） 若 $c_i\in\mathcal{A}\cap C$ 是[[MK108][常元符号]]，则 $I(c_i)=I^*(\mu(c_{i}))$

    （b） 若 $f_i\in \mathcal{A}\cap F$ 是[[MK109][函数符号]]且根据[[MK112][符号假定]]有 $\pi_F(f_i)=n$ ，则 $I(f_i)=I^*(f_i)$

    （c） 若 $p_i\in\mathcal{A}\cap P$ 是[[MK110][谓词符号]]且根据[[MK112][符号假定]]有 $\pi_P(p_i)=n$ ，则 $I(p_i)=I^*(p_i)$

    则 $v$ 亦为 $\mathcal{M}^*$ 的[[MK154][赋值]]且有：

    （a） 对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK117][项]] $\tau$ 均有 $\bar{v}(\tau_i)=\bar{v}^*(\rho(\tau_i))$ 其中 $\bar{v}^*$ 是 $v$ 在 $\mathcal{L}_{\mathcal{A}^*}$ 下[[MK155][扩展项赋值]]

    （b） 对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK117][表达式]] $\phi$ 均有 $\left<\mathcal{M}^*,v\right>\vDash\rho(\phi)$ 的充要条件为 $\left<\mathcal{M},v\right>\vDash\phi$

（4） 若 $\Gamma^*$ [[MK189][可满足]]，则 $\Gamma$ [[MK189][可满足]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 证明（1）

******* $\rho$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

对于任意 $\{\phi_1,\phi_2\}\subset\mathcal{L}_\mathcal{A}$ 满足 $\phi_1\ne\phi_2$ 假设 $\rho(\phi_1)=\rho(\phi_2)$ 则必有 $i\in\mathbb{N}$ 使得 $\phi_1[i]\ne\phi_2[i]$

根据 $\rho$ 定义可分成以下四种情况：

（1） 若 $\phi_1[i]\in C,\phi_2[i]\not\in C$ 则 $\rho(\phi_1)[i]\in C,\rho(\phi_2)[i]=\phi_2[i]\not\in C$ 故必有 $\rho(\phi_1)\ne\rho(\phi_2)$

（2） 若 $\phi_1[i]\not\in C,\phi_2[i]\in C$ 则与上一步同理可证 $\rho(\phi_1)\ne\rho(\phi_2)$

（3） 若 $\phi_1[i]\not\in C,\phi_2[i]\not\in C$ 则 $\phi_1[i]=\rho(\phi_1)[i]\ne\rho(\phi_2)[i]=\phi_2[i]$ 亦有 $\rho(\phi_1)\ne\rho(\phi_2)$

（4） 若 $\phi_1[i]\in C,\phi_2[i]\in C$ 则必有 $\phi_1[i]=c_u,\phi_2[i]=c_v$ 且 $c_u\ne c_v$ 其中 $\{u,v\}\subset\mathbb{N}$

     由于 $\mu$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]，故必有 $\mu(c_u)\ne\mu(c_v)$ 即有 $\rho(\phi_1)\ne\rho(\phi_2)$

综上所述，假设情况下结果与 $\rho(\phi_1)=\rho(\phi_2)$ 矛盾，故假设不成立

即有，对于任意 $\{\phi_1,\phi_2\}\subset\Gamma$ 满足 $\phi_1\ne\phi_2$ 有 $\rho(\phi_1)\ne\rho(\phi_2)$ 即 $\rho$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

******* $\rho$ 是[[~/文档/note/离散数学/lssx.org::MK179][满射]]

由于 $\mu$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]，故存在[[~/文档/note/离散数学/lssx.org::MK188][逆函数]] $\mu^{-1}$ 则对于任意 $\phi\in\mathcal{L}_{\mathcal{A}^*}$ 定义 $\phi'[i]=\begin{cases}\mu^{-1}(\phi[i])&\phi[i]\in C\\\phi[i]&\phi[i]\not\in C\end{cases}$

根据[[MK146][项替换]]可得 $\phi'\in\mathcal{L}$ 由于 $\phi\in\mathcal{L}_{\mathcal{A}^*}$ ，则对于任意 $\phi[i]\in C'$ 必存在 $c\in\mathcal{A}$ 满足 $\mu(c)=\phi[i]$

故根据相关定义显然 $\phi'\in\mathcal{L}_\mathcal{A}$

****** [[MK196][证明]]可转换

根据结论（1）可得 $\rho:\mathcal{L}_\mathcal{A}\to\mathcal{L}_{\mathcal{A}^*}$ [[~/文档/note/离散数学/lssx.org::MK181][双射]]，则根据[[~/文档/note/离散数学/lssx.org::MK188][求逆]]可得存在逆函数 $\rho^{-1}:\mathcal{L}_{\mathcal{A}^*}\to\mathcal{L}_\mathcal{A}$ 

对于任意 $\Gamma^*$ 在 $\mathcal{L}_{\mathcal{A}^*}$ 下的[[MK196][证明]] $\left<\phi_1,...,\phi_n\right>$

根据下列证明， $n<\infty$ 以及数学归纳法可证 $\left<\rho^{-1}(\phi_1),...,\rho^{-1}(\phi_{n})\right>$ 是 $\Gamma$ 的[[MK196][证明]]

******* $n=1$ <<MK250>>

根据[[MK196][定义]]可得此时[[MK196][证明]]为 $\left<\phi_1\right>$ 且有且仅有以下两种情况

******** $\phi_1\in\Gamma^*$

根据 $\Gamma^*$ 定义可得必存在 $\phi_1'\in\Gamma$ 使得 $\rho(\phi'_1)=\phi_1$ 又根据结论（1）有 $\rho$ [[~/文档/note/离散数学/lssx.org::MK181][双射]]

故 $\phi'_1$ 是唯一[[MK129][表达式]]满足 $\rho(\phi'_1)=\phi_1$ 故 $\left<\rho^{-1}(\phi_1)\right>$ 是 $\Gamma$ 的[[MK196][证明]]

******** $\phi_1$ 是[[MK197][公理]]

若 $\phi_1$ 是[[MK197][公理]]，则易证 $\rho^{-1}(\phi_1)$ 亦是[[MK197][公理]]，故 $\left<\rho^{-1}(\phi_1)\right>$ 是 $\Gamma$ 的[[MK196][证明]]

******* 归纳假设

对于任意 $n<N$ 均有对于任意 $\Gamma^*$ 的[[MK196][证明]] $\left<\phi_1,...,\phi_n\right>$ 有 $\left<\rho^{-1}(\phi_1),...,\rho^{-1}(\phi_n)\right>$ 是 $\Gamma$ 的[[MK196][证明]]

******* $n=N$

若 $\left<\phi_1,...,\phi_n\right>$ 是 $\Gamma^*$ 的[[MK196][证明]]，则显然 $\left<\phi_1,...,\phi_{n-1}\right>$ 亦是 $\Gamma^*$ 的[[MK196][证明]]，则显然有 $n-1<N$

故根据归纳假设有 $\left<\rho^{-1}(\phi_1),...,\rho^{-1}(\phi_{n-1})\right>$ 是 $\Gamma$ 的[[MK196][证明]]。

根据[[MK196][定义]]可得有且仅有 $\phi_n\in\Gamma^*\cup\mathbb{L}$ 或者存在 $j<n,k<n$ 满足 $\phi_j=(\phi_k\to\phi_n)$

若 $\phi_n\in\Gamma^*\cup\mathbb{L}$ ，则[[MK250][同理可证]] $\phi'_n\in\Gamma\cup\mathbb{L}$

若存在 $j<n,k<n$ 满足 $\phi_j=(\phi_k\to\phi_n)$ ，易证 $\rho^{-1}(\phi_j)=(\rho^{-1}(\phi_k)\to\rho^{-1}(\phi_n))$

显然在 $\left<\rho^{-1}(\phi_1),...,\rho^{-1}(\phi_{n-1})\right>$ 亦存在 $\rho^{-1}(\phi_k)$

根据[[MK196][证明]]可得 $\left<\rho^{-1}(\phi_1),...,\rho^{-1}(\phi_{n-1}),\rho^{-1}(\phi_{n})\right>$ 是 $\Gamma$ 的[[MK196][证明]]。

****** 证明（2）

假设 $\Gamma^*$ [[MK222][非一致]]，则根据[[MK227][定理2]]可得 $\Gamma^*\vdash(\lnot(x_1\hat{=}x_1))$ 设其[[MK196][证明]]为 $\left<\phi_1,...,\phi_n\right>$ 有 $\phi_n=(\lnot(x_1\hat{ =}x_1))$

显然根据上一步可得 $\left<\rho^{-1}(\phi_1),...,\rho^{-1}(\phi_{n})\right>$ 是 $\Gamma$ 的[[MK196][证明]]，根据 $\rho$ 定义显然 $\rho(\phi_n)=\phi_n=(\lnot(x_1\hat{=}x_1))$

故可得 $\Gamma\vdash(\lnot(x_1\hat{ =}x_1))$ 又根据[[MK197][恒等律]]可得 $\Gamma\vdash(x_1\hat{ =}x_1)$ 故 $\Gamma$ [[MK222][不一致]]，与条件矛盾

故假设不成立， $\Gamma^*$ [[MK222][一致]]

****** 证明（3）<<MK252>>

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 存在 $\phi'\in\mathcal{L}_{\mathcal{A}^*}$ 满足 $\rho(\phi)=\phi'$

进一步对于任意[[MK117][项]] $\tau$ 在 $\phi$ 中包含，显然存在 $\tau'\in\phi'$ 满足 $\rho(\tau)=\tau'$

定义 $\mathcal{L}_{\mathcal{A}}$ 下[[MK155][扩展项赋值]]为 $\bar{v}$ ， $\mathcal{L}_{\mathcal{A}^*}$ 下[[MK155][扩展项赋值]]为 $\bar{v}^*$

显然根据 $\mathcal{M}^*,\mathcal{M}$ 定义可得任意 $\mathcal{M}^*$ [[MK154][赋值]] $v$ 亦为 $\mathcal{M}$ [[MK154][赋值]]，反之依然

******* 证明（a）[[MK117][项]]<<MK253>>

根据下列证明， $|\tau|<n$ 以及数学归纳法可得 $\bar{v}(\tau_i)=\bar{v}^*(\rho(\tau_i))$

******** $|\tau|=1$

根据[[MK126][唯一可读性]]有且仅有以下两种情况：

当 $\tau=x_i$ 时有 $\rho(\tau)=x_i$ 则由于[[MK154][赋值]]均为 $v$ ，则有 $\bar{v}(x_i)=v(x_i)=\bar{v}^*(\rho(x_i))$

当 $\tau=c_i$ 时有 $\rho(\tau)=\mu(c_{i})$ 则有 $\bar{v}(c_i)=I(c_i)=I^*(\mu(c_{i}))=\bar{v}^*(\rho(c_i))$

******** 归纳假设

对于任意[[MK117][项]]满足 $|\tau|<n$ 有 $\bar{v}(\tau)=\bar{v}^*(\rho(\tau))$

******** $|\tau|=n$

根据[[MK126][唯一可读性]]有且仅有 $f_i(\tau_1,...,\tau_n)$ 显然 $|\tau_i|<n$ 故根据归纳假设有 $\bar{v}(\tau_i)=\bar{v}^*(\rho(\tau_i))$

根据[[MK155][项赋值]]可得 $\bar{v}(f_i(\tau_1,...,\tau_n))=I(f)(\bar{v}(\tau_1),...,\bar{v}(\tau_n))$

同理 $\bar{v}^*(\rho(f_i(\tau_1,...,\tau_n)))=I^*(f)(\bar{v}^*(\rho(\tau_1)),...,\bar{v}^*(\rho(\tau_n)))$

又根据 $I$ 定义有 $I(f_i)=I^*(f_i)$ 故有 $\bar{v}(f_i(\tau_1,...,\tau_n))=\bar{v}^*(\rho(f_i(\tau_1,...,\tau_n)))$

******* 证明（b）[[MK129][表达式]]

对于任意 $\phi\in\Gamma$ ，定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

根据以下证明， $z(\phi)<n$ 以及数学归纳法可得对于任意 $\mathcal{M}^*$ 或 $\mathcal{M}$ [[MK154][赋值]] $v$

均有 $\left<\mathcal{M}^*,v\right>\vDash\rho(\phi)$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi$

******** $z(\phi)=1$

根据[[MK132][可读性]]原理有且仅有以下两种形式

********* $(\tau_1\hat{=}\tau_2)$

根据[[MK158][满足]]可得若 $\left<\mathcal{M}^*,v\right>\vDash\rho(\phi)=(\rho(\tau_1)\hat{=}\rho(\tau_2))$ 则充要条件是 $\bar{v}^*(\rho(\tau_1)) =\bar{v}^*(\rho(\tau_2))$

根据[[MK253][之前证明]]可得 $\bar{v}(\tau_1)=\bar{v}^*(\rho(\tau_1)),\bar{v}^*(\rho(\tau_2))=\bar{v}(\tau_2)$ 则 $\bar{v}^*(\rho(\tau_1)) =\bar{v}^*(\rho(\tau_2))$

的充要条件是 $\bar{v}(\tau_1) =\bar{v}(\tau_2)$ 则根据[[MK158][满足]]可得充要条件是 $\left<\mathcal{M},v\right>\vDash\rho(\phi) =(\tau_1\hat{ =}\tau_2)$ 

********* $\phi=p_i(\tau_1,...,\tau_n)$

根据[[MK158][满足]]可得若 $\left<\mathcal{M}^*,v\right>\vDash\rho(\phi)=p_i(\rho(\tau_1),...,\rho(\tau_n))$ 充要条件是 $\left<\bar{v}^*(\rho(\tau_1)),...,\bar{v}^*(\rho(\tau_n))\right>\in I^*(p_i)$

根据[[MK253][之前证明]]可得 $\bar{v}(\tau_i)=\bar{v}^*(\rho(\tau_i))$ 根据 $I$ 定义可得 $I(p_i)=I^*(p_i)$

故有 $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>=\left<\bar{v}^*(\rho(\tau_1)),...,\bar{v}^*(\rho(\tau_n))\right>, I^*(p_i)=I(p_i)$

故可得 $\left<\bar{v}^*(\rho(\tau_1)),...,\bar{v}^*(\rho(\tau_n))\right>\in I^*(p_i)$ 的充要条件是 $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>\in I(p_i)$

根据[[MK158][满足]]可得充要条件是 $\left<\mathcal{M},v\right>\vDash\rho(\phi)=p_i(\tau_1,...,\tau_n)$ 

******** 归纳假设

对于任意 $1<z(\phi)<n$ 若满足定理条件，有对于任意 $\mathcal{M}^*$ 或 $\mathcal{M}$ [[MK154][赋值]] $v$

均有 $\left<\mathcal{M}^*,v\right>\vDash\rho(\phi)$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi$

******** $z(\phi)=n$

根据[[MK132][可读性]]原理有且仅有以下情况

********* $\phi=(\lnot\psi)$

根据[[MK158][满足]] $\left<\mathcal{M}^*,v\right>\vDash\rho(\phi)=(\lnot\rho(\psi))$ 的充要条件为 $\left<\mathcal{M}^*,v\right>\not\vDash\rho(\psi)$

根据归纳假设可得充要条件为 $\left<\mathcal{M},v\right>\not\vDash\psi$ 进一步根据[[MK158][满足]]可得充要条件为 $\left<\mathcal{M},v\right>\vDash(\lnot\psi)$ 

********* $\phi=(\psi_1\to\psi_2)$

根据[[MK158][满足]] $\left<\mathcal{M}^*,v\right>\vDash\rho(\phi)=(\rho(\psi_1)\to\rho(\psi_2))$ 的充要条件为 $\left<\mathcal{M}^*,v\right>\not\vDash\rho(\psi_1)$ 或者 $\left<\mathcal{M}^*,v\right>\vDash\rho(\psi_2)$

根据归纳假设有充要条件 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 或者 $\left<\mathcal{M},v\right>\vDash\psi_2$

则根据[[MK158][满足]]可得充要条件为 $\left<\mathcal{M},v\right>\vDash(\psi_1\to\psi_2)$ 

********* $\phi=(\forall x_i\psi)$

仅证充分，必要同理可证

根据[[MK158][满足]] $\left<\mathcal{M}^*,v\right>\vDash\rho(\phi)=(\forall x_i\rho(\psi))$ 可得充要条件为任意 $\mathcal{M}^*$ [[MK154][赋值]] $u:X\to M$

若满足对于任意 $\rho(\psi)$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $u(x_j)=v(x_j)$ ，则有 $\left<\mathcal{M}^*,u\right>\vDash \rho(\psi)$

显然 $\rho(\psi)$ 中的[[MK140][自由变元]]亦为 $\psi$ 中的[[MK140][自由变元]]

则对于任意 $\mathcal{M}$ [[MK154][赋值]] $\eta:X\to M$ 满足对于任意 $\psi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\eta(x_j)=v(x_j)$

亦有 $\eta$ 亦为 $\mathcal{M}^*$ [[MK154][赋值]]，故有 $\left<\mathcal{M}^*,\eta\right>\vDash\rho(\psi)$ 则根据归纳假设有 $\left<\mathcal{M},\eta\right>\vDash\psi$

综上所述，对于任意 $\mathcal{M}$ [[MK154][赋值]] $\eta:X\to M$ 满足对于任意 $\psi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\eta(x_j)=v(x_j)$

均有 $\left<\mathcal{M},\eta\right>\vDash\psi$ 故可得 $\left<\mathcal{M},v\right>\vDash(\forall x_i\psi)$ 

****** 证明（4）<<MK251>>

则对于任意 $\mathcal{L}_{\mathcal{A}^*}$ 下的[[MK153][结构]] $\mathcal{M}^*=\left<M,I^*\right>$ 以及[[MK154][赋值]] $v$ 定义 $I$ 为：

（1） 若 $c_i\in\mathcal{A}\cap C$ 是[[MK108][常元符号]]，则 $I(c_i)=I^*(\mu(c_i))$

（2） 若 $f_i\in \mathcal{A}\cap F$ 是[[MK109][函数符号]]且根据[[MK112][符号假定]]有 $\pi_F(f_i)=n$ ，则 $I(f_i)=I^*(f_i)$

（3） 若 $p_i\in\mathcal{A}\cap P$ 是[[MK110][谓词符号]]且根据[[MK112][符号假定]]有 $\pi_P(p_i)=n$ ，则 $I(p_i)=I^*(p_i)$

显然 $\mathcal{M}=\left<M,I\right>$ 是 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]]， $v$ 是其[[MK154][赋值]]。

根据 $\rho$ [[~/文档/note/离散数学/lssx.org::MK181][双射]]可得任意 $\phi\in\Gamma$ 均有 $\rho(\phi)\in\Gamma^*$ ，则若 $\left<\mathcal{M}^*,v\right>\vDash\Gamma^*$ 根据[[MK189][可满足]] $\left<\mathcal{M}^*,v\right>\vDash\rho(\phi)$

又根据结论（3）可得对于任意 $\phi\in\mathcal{L}$ 有 $\left<\mathcal{M}^*,v\right>\vDash\rho(\phi)$ 的充要条件为 $\left<\mathcal{M},v\right>\vDash\phi$

综上所述，若 $\Gamma^*$ 根据[[MK189][可满足]]，则存在 $\mathcal{L}_{\mathcal{A}^*}$ 下的[[MK153][结构]] $\mathcal{M}^*=\left<M,I^*\right>$ 以及[[MK154][赋值]] $v$ 有 $\left<\mathcal{M}^*,v\right>\vDash\Gamma^*$

对于任意 $\phi\in\Gamma$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$ ，故 $\left<\mathcal{M},v\right>\vDash\Gamma$ 即 $\Gamma$ [[MK189][可满足]]

**** 哥德尔第一完备性定理<<MK254>>

任意[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}$ 是[[MK222][一致]]的充要条件是 $\Gamma$ 是[[MK189][可满足]]的

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 必要

若 $\Gamma$ 是[[MK189][可满足]]的，则根据[[MK226][定理1]]可得 $\Gamma$ 是[[MK222][一致]]的

****** 充分

根据[[~/文档/note/离散数学/lssx.org::MK85][定理2]]可得存在 $B\subset C$ 满足 $|B\times\mathbb{N}|=|C|$ ，根据[[~/文档/note/离散数学/lssx.org::MK88][定理5]]可得 $|B\times\mathbb{N}|=|B|$ 根据[[~/文档/note/离散数学/lssx.org::MK30][等价传递性]]可得 $|B|=|C|$

则存在[[~/文档/note/离散数学/lssx.org::MK181][双射函数]] $\mu:C\to B$ ，即根据[[MK248][常元省略]]可得存在 $\Gamma^*$ 满足：

（1） 仅包含 $B$ 中的[[MK108][常元符号]]

（2） 由于 $\Gamma$ [[MK222][一致]]，则 $\Gamma^*$ [[MK222][一致]]

故可得不在 $\Gamma^*$ 中的[[MK108][常元符号]] $D=C-B$ 易证 $|D|=|C|$ ，则根据[[MK237][扩展定理]]可得存在 $\Gamma'$ 满足：

（1） $\Gamma^*\subset\Gamma'$

（2） $\Gamma'$ 是[[MK223][极大一致]]且[[MK230][自现存在]]的

则根据[[MK231][可满足性定理]]可得 $\Gamma'$ 是[[MK189][可满足]]的，即存在 $\mathcal{L}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及[[MK154][赋值]] $v$ 使得 $\left<\mathcal{M},v\right>\vDash\Gamma'$

即对于任意 $\gamma\in\Gamma'$ 均有 $\left<\mathcal{M},v\right>\vDash\gamma$ 由于 $\Gamma^*\subset\Gamma'$ 故对于任意 $\gamma\in\Gamma^*$ 亦有 $\left<\mathcal{M},v\right>\vDash\gamma$

故 $\left<\mathcal{M},v\right>\vDash\Gamma^*$ 即 $\Gamma^*$ 是[[MK189][可满足]]的。

又根据[[MK248][常元省略]]可得 $\Gamma$ 亦[[MK189][可满足]]。综上所述，若 $\Gamma$ [[MK222][一致]]，则 $\Gamma$ [[MK189][可满足]]

***** 推论1<<MK255>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ ，则 $\Gamma$ 是[[MK222][一致]]的充要条件是 $\Gamma$ 是[[MK189][可满足]]的

****** 证明

******* 充分

若 $\Gamma$ 是[[MK189][可满足]]的，则根据[[MK226][定理1]]可得 $\Gamma$ 是[[MK222][一致]]的

******* 必要

定义 $\mathcal{A^*}=\Sigma_1=C\cup F\cup P$ 则有 $\mathcal{L}_{\mathcal{A}^*}=\mathcal{L}$ 则根据[[MK254][第一完备性]]可得 $\Gamma$ 在 $\mathcal{L}$ 下[[MK189][可满足]]

即存在 $\mathcal{L}$ 下的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及[[MK154][赋值]] $v$ 使得 $\left<\mathcal{M},v\right>\vDash\Gamma$

定义 $\mathcal{L}_\mathcal{A}$ [[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 满足：

（1） $M=N$

（2） 若 $c\in\mathcal{L}_{\mathcal{A}}$ 是[[MK108][常元符号]]，则有 $I(c)=J(c)$

（3） 若 $f\in\mathcal{L}_{\mathcal{A}}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ ，对于任意 $<a_1,...,a_n>\subset M^n$

     有 $I(f)(a_1,...,a_n)=J(f)(a_1,...,a_n)$

（4） 若 $p\in\mathcal{L}_{\mathcal{A}}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ 有 $I(p)=J(p)\cap M^n$

显然亦有 $\mathcal{A}\subset\mathcal{A}^*$ 故可得 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK295][扩充结构]]，故根据[[MK296][定理]]可得，对于任意 $\phi\in\mathcal{L}_\mathcal{A}$

有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{N},v\right>\vDash\phi$ 。由于 $\left<\mathcal{M},v\right>\vDash\Gamma$ 故对于任意 $\gamma\in\Gamma$ 在 $\mathcal{L}_{\mathcal{A}^*}$ 下有 $\left<\mathcal{M},v\right>\vDash\gamma$

又显然 $\gamma\in\mathcal{L}_\mathcal{A}$ 故有对于任意 $\gamma\in\Gamma$ 均有在 $\mathcal{L}_\mathcal{A}$ 下有 $\left<\mathcal{N},v\right>\vDash\gamma$ 即 $\left<\mathcal{N},v\right>\vDash\Gamma$

故 $\Gamma$ 在 $\mathcal{L}_\mathcal{A}$ 下[[MK189][可满足]]

**** 哥德尔第二完备性定理<<MK256>>

任意[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}$ 以及任意[[MK129][表达式]] $\phi$ ， $\Gamma\vdash\phi$ 的冲要条件是 $\Gamma\vDash\phi$

即 $\phi$ 是 $\Gamma$ 的[[MK187][逻辑结论]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

使 $\mathcal{A}=\Sigma_1=C\cup F\cup P$ 则有 $\mathcal{L}_\mathcal{A}=\mathcal{L}$ 

****** 充分

由于 $\mathcal{L}_\mathcal{A}=\mathcal{L}$ ，则根据[[MK262][可靠性定理]]可得 $\Gamma\vdash\phi$ 则有 $\Gamma\vDash\phi$

****** 必要

若 $\Gamma\vDash\phi$ 则根据[[MK187][逻辑结论定义]]对于任意 $\mathcal{L}=\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及[[MK154][赋值]] $v$

若有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash\phi$ ，则有 $\left<\mathcal{M},v\right>\not\vDash(\lnot\phi)$ 显然 $\Gamma\cup\{(\lnot\phi)\}$ 不[[MK189][可满足]]

则根据[[MK254][第一完备性定理]]可得 $\Gamma\cup\{(\lnot\phi)\}$ [[MK222][不一致]]，故根据[[MK213][归谬定理]]可得 $\Gamma\vdash\phi$

***** 推论1<<MK257>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及任意[[MK129][表达式]] $\phi$ ，则 $\Gamma\vdash\phi$ 的冲要条件是 $\Gamma\vDash\phi$

即 $\phi$ 是 $\Gamma$ 的[[MK187][逻辑结论]]

****** 证明

******* 充分

即为[[MK262][可靠性定理]]

******* 必要

若 $\Gamma\vDash\phi$ 则根据[[MK187][逻辑结论定义]]对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及[[MK154][赋值]] $v$

若有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash\phi$ ，则有 $\left<\mathcal{M},v\right>\not\vDash(\lnot\phi)$ 显然 $\Gamma\cup\{(\lnot\phi)\}$ 不[[MK189][可满足]]

则根据[[MK255][推论]]可得 $\Gamma\cup\{(\lnot\phi)\}$ [[MK222][不一致]]，故根据[[MK213][归谬定理]]可得 $\Gamma\vdash\phi$

***** 推论2<<MK258>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 有 $T\vdash\theta$ 的充要条件是任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}\vDash T$

均有 $\mathcal{M}\vDash\theta$

****** 证明

******* 充分

若有 $T\vdash\theta$

则根据[[MK256][第二完备性]]有 $T\vDash\theta$ 即对于任意[[MK153][结构]] $\mathcal{M}'=\left<M,I\right>$ 以及[[MK154][赋值]] $v$ 若有 $\left<\mathcal{M}',v\right>\vDash T$ 则有 $\left<\mathcal{M}',v\right>\vDash\theta$ 

则对于任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}\vDash T$ 可得对于任意 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash T$ 进而可得 $\left<\mathcal{M},v\right>\vDash\theta$

由于 $v$ 是任意 $\mathcal{M}$ [[MK154][赋值]]，即根据[[MK191][真实]]定义可得 $\mathcal{M}\vDash\theta$

******* 必要

若任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 均有 $\mathcal{M}\vDash\theta$

则对于任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及任意[[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash T$ 则根据[[MK192][定理]]可得 $\mathcal{M}\vDash T$

即 $\mathcal{M}$ 是 $\mathcal{T}$ 的[[MK195][模型]]，则根据条件有 $\mathcal{M}\vDash\theta$ ，即对于任意[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash\theta$

综上所述，对于任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及任意[[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash T$ 则有 $\left<\mathcal{M},v\right>\vDash\theta$

根据[[MK256][第二完备性]] $T\vdash\theta$

***** 推论3<<MK259>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 以及任意[[MK129][表达式]] $\phi$ ，则 $\Gamma\not\vdash\phi$ 的充要条件是

存在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash\Gamma$ 且 $\left<\mathcal{M},v\right>\not\vDash\phi$

****** 证明

******* 充分

若有 $\Gamma\not\vdash\phi$ ，则假设不存在 $\left<\mathcal{M},v\right>\vDash\Gamma$ 且 $\left<\mathcal{M},v\right>\not\vDash\phi$

即可得对于任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及任意[[MK154][赋值]] $v$ 均有若 $\left<\mathcal{M},v\right>\vDash T$ 则 $\left<\mathcal{M},v\right>\vDash\phi$

则根据[[MK256][第二完备性]]有 $\Gamma\vdash\phi$ ，矛盾，故假设不成立。

即有存在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash\Gamma$ 且 $\left<\mathcal{M},v\right>\not\vDash\phi$

******* 必要

若存在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash\Gamma$ 且 $\left<\mathcal{M},v\right>\not\vDash\phi$

则假设 $\Gamma\vdash\phi$ 则根据[[MK256][第二完备性]]任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及任意[[MK154][赋值]] $v$ 均有

若 $\left<\mathcal{M},v\right>\vDash T$ 则 $\left<\mathcal{M},v\right>\vDash\phi$ ，即不存在 $\left<\mathcal{M},v\right>\vDash\Gamma$ 且 $\left<\mathcal{M},v\right>\not\vDash\phi$

矛盾，故假设不成立。即有 $\Gamma\not\vdash\phi$ 

***** 推论4<<MK260>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 有 $T\not\vdash\theta$ 的充要条件是存在 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}\vDash T$

满足 $\mathcal{M}\not\vDash\theta$

****** 证明

根据[[MK258][推论2]]和[[MK259][推论3]]易证得

***** 推论5<<MK261>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ [[MK222][一致]]，以及任意[[MK129][表达式]] $\phi$

若 $\Gamma\cup\{\phi\}$ 不[[MK222][一致]]则 $\Gamma\cup\{(\lnot\phi)\}$ [[MK222][一致]]

****** 证明

根据[[MK213][归谬定理]]有 $\Gamma\vdash(\lnot\phi)$ ，又由于 $\Gamma$ [[MK222][一致]]，则根据[[MK254][完备性]]可得存在 $\mathcal{L}_{\mathcal{A}}$ 的可数[[MK153][结构]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 

使得 $\left<\mathcal{M},v\right>\vDash\Gamma$ ，又根据[[MK256][完备性]]可得 $\left<\mathcal{M},v\right>\vDash(\lnot\phi)$ 即有 $\left<\mathcal{M},v\right>\vDash\Gamma\cup\{(\lnot\phi)\}$

则根据[[MK254][完备性]]可得 $\Gamma\cup\{(\lnot\phi)\}$ [[MK222][一致]]

*** 可靠性定理<<MK262>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 若 $\Gamma\vdash\phi$ 则有 $\Gamma\vDash\phi$

即若 $\Gamma$ [[MK196][证明]] $\phi$ ，则有 $\phi$ 是 $\Gamma$ 的[[MK187][逻辑结论]]

**** 证明

根据[[MK196][定义]]可得若 $\Gamma\vdash\phi$ 则有满足条件的 $<\phi_1,...,\phi_n>$ 使得 $\phi_n=\phi$

由于 $n<\infty$ ，则根据以下证明以及数学归纳法可证定理

***** $n=1$ <<MK263>>

显然有且仅有 $\phi$ 是[[MK197][公理]]或 $\phi\in\Gamma$ 则根据[[MK194][定理]]以及[[MK187][逻辑结论]]定义

显然对于任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 若 $<\mathcal{M},v>\vDash\Gamma$ 则有 $<\mathcal{M},v>\vDash\phi$

***** 归纳假设

对于任意 $\phi$ 有 $\Gamma\vdash\phi$ ，若其[[MK196][证明]] $<\phi_1,...,\phi_i>$ 满足  $1\leq i<N$

则有 $\Gamma\vDash\phi$

***** $n=N$

则对于任意 $\phi$ 有 $\Gamma\vdash\phi$ 有[[MK196][证明]] $<\phi_1,...,\phi_n>$ 若 $\phi_n\in\Gamma$ 或是[[MK197][公理]]，则[[MK263][同理可证]]

若有 $j<n,k<n$ 满足 $\phi_j=(\phi_k\to\phi_n)$ ，则显然 $<\phi_1,...,\phi_j>,<\phi_1,...,\phi_k>$ 均为[[MK196][证明]]

故根据归纳假设有 $\Gamma\vDash\phi_k$ 以及 $\Gamma\vDash(\phi_k\to\phi_n)$ 根据[[MK189][可满足]]有对于任意[[MK153][结构]] $\mathcal{M}=<M,I>$ 以及 $\mathcal{M}$ [[MK154][赋值]] $v$

若 $<\mathcal{M},v>\vDash\Gamma$ 则有 $<\mathcal{M},v>\vDash\phi_k,<\mathcal{M},v>\vDash(\phi_k\to\phi_n)$ 根据[[MK158][满足]]则有 $<\mathcal{M},v>\vDash\phi_n$

综上所术，对于任意 $\phi$ 有 $\Gamma\vdash\phi$ 有长度为 $N$ [[MK196][证明]] $<\phi_1,...,\phi_n>$ ，则有 $\Gamma\vDash\phi_n$

*** 完全性<<MK264>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 若对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 有 $T\vdash\theta$ 的充要条件是 $T\not\vdash(\lnot\theta)$

则称 $\mathcal{T}$ 是完全理论

**** 独立性<<MK265>>

[[MK220][一阶理论]] $\mathcal{T}=<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*>$ 对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 满足 $T\cup\{\theta\},T\cup\{(\lnot\theta)\}$ 均为[[MK222][一致的]]

则称 $T$ 独立于 $\theta$

**** 引理

***** 引理1<<MK266>>

[[MK220][一阶理论]] $\mathcal{T}=<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*>$ 是[[MK264][完全理论]]的充要条件是对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$

可得 $T\vdash\theta$ 和 $T\vdash(\lnot\theta)$ 有且仅有一个成立

****** 证明

******* 充分

若 $\mathcal{T}=<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*>$ 是[[MK264][完全理论]]

假设 $T\vdash\theta$ 和 $T\vdash(\lnot\theta)$ 均不成立，则根据 $T\not\vdash(\lnot\theta)$ 有 $T\vdash\theta$ ，矛盾，假设不成立

假设 $T\vdash\theta$ 和 $T\vdash(\lnot\theta)$ 均成立，则根据 $T\vdash\theta$ 可推出 $T\not\vdash(\lnot\theta)$ ，矛盾，假设不成立

综上所述， $T\vdash\theta$ 和 $T\vdash(\lnot\theta)$ 有且仅有一个成立

******* 必要

若对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 有 $T\vdash\theta$ 和 $T\vdash(\lnot\theta)$ 有且仅有一个成立

则若 $T\vdash\theta$ 可得 $T\vdash(\lnot\theta)$ 不成立，即有 $T\not\vdash(\lnot\theta)$

若 $T\not\vdash(\lnot\theta)$ 即 $T\vdash(\lnot\theta)$ 不成立，则必有 $T\vdash\theta$ 成立

综上所述 $T\vdash\theta$ 的充要条件是 $T\not\vdash(\lnot\theta)$ ，即 $\mathcal{T}=<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*>$ 是[[MK264][完全理论]]

***** 引理2<<MK389>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ ，定义 $\mathcal{L}_\mathcal{A}$ 中所有[[MK144][语句]]的集合为 $\mathcal{S}$ ，存在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ [[MK154][赋值]] $v$ 有

（1） $\left<\mathcal{M},v\right>\vDash T$ 即在[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 下 $\left<\mathcal{M},v\right>$ [[MK188][满足]] $T$

（2） $T=\left\{\theta\big|\theta\in\mathcal{S}\land\left<\mathcal{M},v\right>\vDash\theta\right\}$ 即 $T$ 为所有 $\left<\mathcal{M},v\right>$ [[MK158][满足]]的[[MK144][语句]]

则 $\mathcal{T}$ 是[[MK264][完全理论]]

****** 证明

根据条件（1）以及[[MK254][第一完备性]]可得 $T$ 是[[MK222][一致]]的，对于任意[[MK144][语句]] $\theta\in\mathcal{S}$

若 $\left<\mathcal{M},v\right>\vDash\theta$ 则有 $\theta\in T$ 故可得 $T\vdash\theta$ ，若 $\left<\mathcal{M},v\right>\not\vDash\theta$ 则根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash(\lnot\theta)$

则 $(\lnot\theta)\in T$ 即有 $T\vdash(\lnot\theta)$ ，又由于 $T$ 是[[MK222][一致]]的，故根据[[MK228][定理3]]可得 $T\not\vdash\theta$

根据[[MK164][引理4]]可得 $\left<\mathcal{M},v\right>\vDash\theta$ 和 $\left<\mathcal{M},v\right>\not\vDash\theta$ 有且仅有一个成立

故可得 $T\vdash\theta$ 和 $T\not\vdash\theta$ 有且仅有一个成立，即 $\mathcal{T}$ 是[[MK264][完全理论]]

***** 引理3<<MK267>>

[[MK220][一阶理论]] $\mathcal{T}=<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*>$ 若 $T$ 是[[MK222][一致的]]，则：

（1） $T$ [[MK265][独立于]]某[[MK144][语句]] $\theta$ 的充要条件是存在[[MK153][结构]] $\mathcal{M}_1,\mathcal{M}_2$ 满足 $\mathcal{M}_1\vDash T\cup\{\theta\}$ 及 $\mathcal{M}_2\vDash T\cup\{(\lnot\theta)\}$

     其中 $\vDash$ 表示[[MK191][真实性]]

（2） $\mathcal{T}$ 是[[MK264][完全理论]]当且仅当任意两个 $\mathcal{T}$ 的[[MK195][模型]]是[[MK281][同样]]的

（3） $\mathcal{T}$ 是[[MK264][完全理论]]的充要条件是对于任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}\vDash T$ 有对任意[[MK144][语句]] $\theta$ 有 $T\vdash \theta$ 的充要条件是 $\mathcal{M}\vDash\theta$

     即 $\theta$ 在 $\mathcal{M}$ 下是[[MK191][真实的]]

****** 证明

******* 证明（1）

******** 充分

若 $T$ [[MK265][独立于]] $\theta$ 则 $T\cup\{\theta\},T\cup\{\lnot\theta\}$ 均为[[MK222][一致的]]，根据[[MK254][第一完备性]]可得 $T\cup\{\theta\},T\cup\{\lnot\theta\}$ 均[[MK189][可满足]]

故存在[[MK153][结构]] $\mathcal{M}_1,\mathcal{M}_2$ 与对应[[MK154][赋值]] $v_1,v_2$ 使得 $\left<\mathcal{M}_1,v_1\right>\vDash T\cup\{\theta\},\left<\mathcal{M}_1,v_1\right>\vDash T\cup\{\lnot\theta\}$

根据[[MK192][定理]]可得 $\mathcal{M}_1\vDash T\cup\{\theta\}$ 及 $\mathcal{M}_2\vDash T\cup\{(\lnot\theta)\}$

******** 必要

若 $\mathcal{M}_1\vDash T\cup\{\theta\}$ 及 $\mathcal{M}_2\vDash T\cup\{(\lnot\theta)\}$ ，则根据[[MK254][第一完备性]]可得 $T\cup\{\theta\},T\cup\{\lnot\theta\}$ 均[[MK222][一致]]

根据[[MK265][独立性定义]]可得 $T$ 独立于 $\theta$

******* 证明（2）

对于任意 $\mathcal{T}$ 的两个[[MK195][模型]] $\mathcal{M}_1\vDash T,\mathcal{M}_2\vDash T$ 

******** 充分

若 $\mathcal{T}$ 是[[MK264][完全理论]]，则对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 以及任意 $\mathcal{T}$ 的两个[[MK195][模型]] $\mathcal{M}_1\vDash T,\mathcal{M}_2\vDash T$ 

若有 $\mathcal{M}_1\vDash\theta$ 则根据[[MK158][满足]]以及[[MK192][定理]]易证 $\mathcal{M}_1\not\vDash(\lnot\theta)$ 则根据[[MK260][推论4]]可得 $T\not\vdash(\lnot\theta)$

又根据 $\mathcal{T}$ 是[[MK264][完全理论]]可得 $T\vdash\theta$ 又由于 $\mathcal{M}_2\vDash T$ 则根据[[MK256][第二完备性]]可得 $\mathcal{M}_2\vDash\theta$

同理可证若 $\mathcal{M}_2\vDash\theta$ 则有 $\mathcal{M}_1\vDash\theta$

综上所述，对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 有 $\mathcal{M}_2\vDash\theta$ 的充要条件是 $\mathcal{M}_1\vDash\theta$ 即 $\mathcal{M}_1,\mathcal{M}_2$ [[MK281][同样]]

******** 必要

若任意 $\mathcal{T}$ 的两个[[MK195][模型]]是[[MK281][同样]]的

若有 $T\vdash\theta$ 则根据[[MK258][推论2]]可得任意[[MK195][模型]] $\mathcal{M}_1\vDash\theta$ 根据[[MK158][满足]]以及[[MK192][定理]]易证 $\mathcal{M}_1\not\vDash(\lnot\theta)$

又根据[[MK260][推论4]]可得 $T\not\vdash(\lnot\theta)$

若有 $T\not\vdash(\lnot\theta)$ ，根据[[MK260][推论4]]可得存在[[MK195][模型]] $\mathcal{M}$ 满足 $\mathcal{M}\not\vDash(\lnot\theta)$ 根据[[MK158][满足]]以及[[MK192][定理]]易证 $\mathcal{M}\vDash\theta$ 

则对于任意其他[[MK195][模型]] $\mathcal{M}'$ 若有 $\mathcal{M}'\vDash T$ 则与 $\mathcal{M}$ [[MK281][同样]]，即有 $\mathcal{M}\vDash\theta$

即对于任意 $\mathcal{T}$ 的[[MK195][模型]]均有 $\mathcal{M}\vDash\theta$ 则根据[[MK258][推论2]]可得 $T\vdash\theta$

综上所述， $T\vdash\theta$ 的充要条件是 $T\not\vdash(\lnot\theta)$ ，即 $\mathcal{T}$ 是[[MK264][完全理论]]

******* 证明（3）

任意[[MK144][语句]] $\theta$ 

******** 充分

若 $\mathcal{T}$ 是[[MK264][完全理论]]，对于任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 若有 $T\vdash \theta$ ，则根据[[MK258][推论2]]可得 $\mathcal{M}\vDash\theta$

若有 $\mathcal{M}\vDash\theta$ 则根据[[MK158][满足]]以及[[MK192][定理]]易证 $\mathcal{M}\not\vDash(\lnot\theta)$ ，则根据[[MK260][推论4]]可得 $T\not\vdash(\lnot\theta)$

又由于 $\mathcal{T}$ 是[[MK264][完全理论]]，则有 $T\vdash \theta$

综上所述，对于任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 均有 $T\vdash \theta$ 的充要条件是 $\mathcal{M}\vDash\theta$

故存在 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 均有 $T\vdash \theta$ 的充要条件是 $\mathcal{M}\vDash\theta$

******** 必要

若存在 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 均有 $T\vdash \theta$ 的充要条件是 $\mathcal{M}\vDash\theta$

则若 $T\vdash\theta$ 则有 $\mathcal{M}\vDash\theta$ 根据[[MK158][满足]]以及[[MK192][定理]]易证 $\mathcal{M}\not\vDash(\lnot\theta)$ ，根据[[MK260][推论4]]有 $T\not\vdash(\lnot\theta)$

若 $T\not\vdash(\lnot\theta)$ 则根据条件有 $\mathcal{M}\not\vDash(\lnot\theta)$ 根据[[MK158][满足]]以及[[MK192][定理]]易证 $\mathcal{M}\vDash\theta$

又根据条件有 $T\vdash \theta$

综上所述， $T\vdash \theta$ 的充要条件是 $T\not\vdash(\lnot\theta)$ ，即 $\mathcal{T}$ 是[[MK264][完全理论]]

****** 推论<<MK268>>

[[MK220][一阶理论]] $\mathcal{T}=<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*>$ 若 $T$ 是[[MK222][一致的]]，则 $\mathcal{T}$ 是[[MK264][完全理论]]的充要条件是

对任意[[MK144][语句]] $\theta$ 有 $T\vdash \theta$ 的充要条件是任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}\vDash T$ 均有 $\mathcal{M}\vDash\theta$

******* 证明

******** 充分

若 $\mathcal{T}$ 是[[MK264][完全理论]]，则对于任意[[MK144][语句]] $\theta$ 若有 $T\vdash \theta$ 则根据[[MK267][引理3（3）]]可得存在 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 有 $\mathcal{M}\vDash\theta$

又根据[[MK267][引理3（2）]]可得任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}'$ 均与 $\mathcal{M}$ [[MK281][同样]]，故有任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 均有 $\mathcal{M}\vDash\theta$

若任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 均有 $\mathcal{M}\vDash\theta$ ，则存在 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 均有 $\mathcal{M}\vDash\theta$

根据 $\mathcal{T}$ 是[[MK264][完全理论]]以及[[MK267][引理3（3）]]可得 $T\vdash \theta$

综上所述，若 $\mathcal{T}$ 是[[MK264][完全理论]]，则有任意[[MK144][语句]] $\theta$ ， $T\vdash \theta$ 的充要条件是任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 均有 $\mathcal{M}\vDash\theta$ 

******** 必要

若任意[[MK144][语句]] $\theta$ ， $T\vdash \theta$ 的充要条件是任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 均有 $\mathcal{M}\vDash\theta$ 

则若 $T\vdash \theta$ 则有任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 均有 $\mathcal{M}\vDash\theta$ ，可得存在 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 有 $\mathcal{M}\not\vDash(\lnot\theta)$

根据[[MK260][推论4]]可得 $T\not\vdash(\lnot\theta)$

若有 $T\not\vdash(\lnot\theta)$ ，则根据条件有任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 均有 $\mathcal{M}\not\vDash(\lnot\theta)$ 根据[[MK158][满足]]以及[[MK192][定理]] $\mathcal{M}\vDash\theta$

根据[[MK258][推论2]]可得有 $T\vdash \theta$

综上所述，若条件成立，则有对任意[[MK144][语句]] $\theta$ ， $T\vdash \theta$ 的充要条件是 $T\not\vdash(\lnot\theta)$

即 $\mathcal{T}$ 是[[MK264][完全理论]]

***** 引理4<<MK269>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全理论]]的充要条件是 $\mathcal{L}_\mathcal{A}$ 中不存在[[MK265][独立于]] $T$ 的[[MK144][语句]]

****** 证明

******* 充分

若 $\mathcal{T}$ 是[[MK264][完全理论]]，则假设存在[[MK144][语句]] $\theta$ [[MK265][独立于]] $T$ ，则有 $T\cup\{\theta\},T\cup\{(\lnot\theta)\}$ 均为[[MK222][一致的]]

根据[[MK213][归谬定理]]可得 $T\not\vdash\theta,T\not\vdash(\lnot\theta)$ ，又由于是[[MK264][完全理论]]，则根据 $T\not\vdash(\lnot\theta)$ 有 $T\vdash\theta$ 矛盾

故假设不成立，即不存在[[MK144][语句]] $\theta$ [[MK265][独立于]] $T$ 

******* 必要

若不存在[[MK265][独立于]] $T$ 的[[MK144][语句]]，则对于任意[[MK144][语句]] $\theta$ 若有 $T\vdash\theta$ 则根据[[MK259][推论2]]可得任意 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$

均有 $\mathcal{M}\vDash\theta$ ，根据[[MK158][满足]]以及[[MK192][定理]]易证 $\mathcal{M}\not\vDash(\lnot\theta)$ ，则根据[[MK260][推论4]]可得 $T\not\vdash(\lnot\theta)$

若有 $T\not\vdash(\lnot\theta)$ ，则根据[[MK260][推论4]]可得存在 $\mathcal{T}$ 的[[MK195][模型]] $\mathcal{M}$ 满足 $\mathcal{M}\not\vDash\theta$

根据[[MK158][满足]]以及[[MK192][定理]]易证 $\mathcal{M}\vDash(\lnot\theta)$ ，即 $\mathcal{M}\vDash T\cup\{(\lnot\theta)\}$ 根据[[MK254][第一完备性]]可得 $T\cup\{(\lnot\theta)\}$ [[MK222][一致]]

又由于 $\theta$ 不[[MK265][独立于]] $T$ ，即 $T\cup\{\theta\}$ 不[[MK222][一致]]，则根据[[MK213][归谬定理]]可得 $T\vdash\theta$

综上所述，若不存在[[MK265][独立于]] $T$ 的[[MK144][语句]]，则任意[[MK144][语句]] $\theta$ ， $T\vdash\theta$ 的充要条件是 $T\not\vdash(\lnot\theta)$

即 $\mathcal{T}$ 是[[MK264][完全理论]]

***** 引理5

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 是[[MK223][极大一致的]]，则定义 $T$ 为 $\Gamma$ 中所有的[[MK144][语句]]

则[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全理论]]

****** 证明

假设 $\mathcal{T}$ 不是[[MK264][完全理论]]，则根据[[MK269][引理4]]存在[[MK144][语句]] $\theta$ 满足 $T\cup\{\theta\},T\cup\{(\lnot\theta)\}$ 均为[[MK222][一致的]]

根据[[MK196][证明]]定义易证 $\theta\not\in T,(\lnot\theta)\not\in T$ ，由于 $\theta$ 是[[MK144][语句]]且 $T$ 是 $\Gamma$ 中所有的[[MK144][语句]]，即 $\theta\not\in\Gamma,(\lnot\theta)\not\in\Gamma$

又由于 $\Gamma$ 是[[MK223][极大一致的]]，故必有 $\Gamma\cup\{\theta\},\Gamma\cup\{(\lnot\theta)\}$ 均不[[MK222][一致]]

根据[[MK213][归谬定理]]可得 $\Gamma\cup\{\theta\}$ 不[[MK222][一致]]可得 $\Gamma\vdash(\lnot\theta)$ ， $\Gamma\cup\{(\lnot\theta)\}$ 不[[MK222][一致]]可得 $\Gamma\vdash\theta$ 

即 $\Gamma$ 不[[MK222][一致]]，与 $\Gamma$ [[MK223][极大一致]]矛盾。故假设不成立， $\mathcal{T}$ 是[[MK264][完全理论]]

***** 引理6<<MK270>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全理论]]，[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 若有 $T\cup\{\theta\}$ [[MK222][一致]]

则有 $T\vdash\theta$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

****** 证明

根据[[MK213][归谬定理]]可得 $T\cup\{\theta\}$ [[MK222][一致]]的充要条件是 $T\not\vdash(\lnot\phi)$ 又根据[[MK264][完全性]]可得 $T\vdash\theta$

***** 引理7<<MK372>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]，则对于[[MK144][语句]]集合 $T'\subset\mathcal{L}_\mathcal{A}$ 满足 $T\cup T'$ [[MK222][一致]]

则对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 若有 $T'\vdash\phi$ 则有 $T\vdash\phi$

****** 证明

若 $T'\vdash\phi$ 则根据[[MK196][证明]]可得存在满足条件的表达式[[~/文档/note/离散数学/lssx.org::MK105][序列]] $\left<\phi_1,...,\phi_n\right>$ 满足 $\phi_n=\phi$

定义 $\phi_{i_1},...,\phi_{i_m}$ 满足 $\phi_{i_j}\in T'-T$ ，由于 $T\cup T'$ [[MK222][一致]]，故有 $T\cup\{\phi_{i_j}\}$ [[MK222][一致]]

由于 $\mathcal{T}$ [[MK264][完全]]故根据[[MK27][引理6]]可得 $T\vdash\phi_{i_j}$ 同理根据[[MK196][证明]]有 $T$ 的[[~/文档/note/离散数学/lssx.org::MK105][序列]] $\left<\phi_{i_j,1},...,\phi_{i_j,k_{i_j}}\right>$ 满足 $\phi_{i_j,k_{i_j}}=\phi_{i_j}$

定义[[~/文档/note/离散数学/lssx.org::MK105][序列]] $\left<\phi_{i_1,1},...,\phi_{i_1,k_{i_1}},...,\phi_{i_m,1},...,\phi_{i_m,k_{i_m}},\phi_1,...,\phi_n\right>$

显然 $\left<\phi_{i_1,1},...,\phi_{i_1,k_{i_1}},...,\phi_{i_m,1},...,\phi_{i_m,k_{i_m}}\right>$ 是[[MK196][证明序列]]，故对于任意 $\phi_{i_j,k}$ 均满足[[MK196][证明条件]]

对于任意 $\phi_i$ 若 $\phi_i$ 是[[MK197][公理]]或存在 $j<i,k<i$ 满足 $\phi_j=(\phi_k\to\phi_i)$ 则同样满足[[MK196][证明条件]]

若 $\phi_i\in T'-T$ 则存在 $\phi_{i_j,k_{i_j}}=\phi_{i_j}=\phi_i$ 由于 $\left<\phi_{i_j,1},...,\phi_{i_j,k_{i_j}}\right>$ 是 $\phi_{i_j}$ 在 $T$ 的[[MK196][证明]]

故必有 $\phi_{i_j}$ 是[[MK197][公理]]或在 $\left<\phi_{i_j,1},...,\phi_{i_j,k_{i_j}}\right>$ 中存在 $u<i_j,v<i_j$ 满足 $\phi_u=(\phi_v\to\phi_{i_j})$ 

由于 $\left<\phi_{i_1,1},...,\phi_{i_1,k_{i_1}},...,\phi_{i_m,1},...,\phi_{i_m,k_{i_m}}\right>$ 包含 $\left<\phi_{i_j,1},...,\phi_{i_j,k_{i_j}}\right>$ ，故 $\phi_i$ 同样满足[[MK196][证明条件]]

综上所述 $\left<\phi_{i_1,1},...,\phi_{i_1,k_{i_1}},...,\phi_{i_m,1},...,\phi_{i_m,k_{i_m}},\phi_1,...,\phi_n\right>$ 是 $\phi$ 的[[MK196][证明序列]]

***** 引理8<<MK373>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]，则 $T$ [[MK222][一致]]

****** 证明

假设不[[MK222][一致]]，则根据[[MK227][定理2]]可得对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 均有 $T\vdash\phi$ 则对于任意[[MK144][语句]] $\theta$ 均有 $T\vdash\theta,T\vdash(\lnot\theta)$

又根据 $\mathcal{T}$ [[MK264][完全]]以及[[MK266][引理1]]可得 $T\vdash\theta,T\vdash(\lnot\theta)$ 有且仅有一个成立，故矛盾。

则假设不成立，即 $T$ [[MK222][一致]]

***** 引理9<<MK493>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 对于任意[[MK144][语句]] $\theta$ 满足存在 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 满足 $\mathcal{M}\vDash \theta$ 

则任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{N}$ 满足 $\mathcal{N}\vDash \theta$ 。则 $\mathcal{T}$ 是[[MK264][完全的]]
 
****** 证明

任取 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}_0$ ，对于任意[[MK144][语句]] $\theta$ 若有 $T\vdash\theta$ 则根据[[MK257][完备性]] $\mathcal{M}_0\vDash\theta$ ，则根据[[MK158][满足]]可得 $\mathcal{M}_0\not\vDash(\lnot\theta)$

根据条件（2）易证任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 均有 $\mathcal{M}\not\vDash(\lnot\theta)$ ，则根据[[MK257][完备性]]可得 $T\not\vdash(\lnot\theta)$

若 $T\not\vdash(\lnot\theta)$ 则根据[[MK257][完备性]] $\mathcal{M}_0\not\vDash(\lnot\theta)$ ，则根据[[MK158][满足]]可得 $\mathcal{M}_0\vDash\theta$ 同理对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 均有 $\mathcal{M}\vDash\theta$

则根据[[MK257][完备性]]可得 $T\vdash\theta$

综上所述 $\mathcal{T}$ 是[[MK264][完全的]]

*** 紧致性

**** 第一紧致性定理<<MK271>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ ，则 $\Gamma$ 是[[MK222][一致]]的充要条件是 $\Gamma$ 的任意[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集都是[[MK222][一致]]的

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 充分

若 $\Gamma$ [[MK222][一致]]，假设存在 $\Gamma'\subset\Gamma$ 不[[MK222][一致]]，则根据[[MK227][定理2]]有 $\Gamma'\vdash(\lnot(x_i\hat{=}x_i))$ 故存在[[MK196][证明]] $\left<\phi_1,...,\phi_n\right>$

满足 $\phi_n=(\lnot(x_i\hat{=}x_i))$ 由于 $\Gamma'\subset\Gamma$ ，故 $\left<\phi_1,...,\phi_n\right>$ 亦为 $\Gamma$ 对 $(\lnot(x_i\hat{ =}x_i))$ 的[[MK196][证明]]

显然 $(\lnot(x_i\hat{ =}x_i))$ 与[[MK197][恒等律]]相反，故可得 $\Gamma$ 不一致，矛盾

故假设不成立，即不存在 $\Gamma'\subset\Gamma$ 不[[MK222][一致]]

****** 必要

若 $\Gamma$ 的任意有限子集都[[MK222][一致]]，假设 $\Gamma$ 不[[MK222][一致]]，则有 $\Gamma\vdash\phi,\Gamma\vdash(\lnot\phi)$

故存在[[MK196][证明]] $\left<\phi_1,...,\phi_n\right>,\left<\psi_1,...,\psi_m\right>$ 满足 $\phi_n=\phi,\psi_m=(\lnot\phi)$

则取 $\Gamma'=\{\phi_1,...,\phi_n,\psi_1,...,\psi_m\}\cap\Gamma$ 则显然 $\left<\phi_1,...,\phi_n\right>,\left<\psi_1,...,\psi_m\right>$ 亦为 $\Gamma'$ 的证明

即 $\Gamma'\vdash\phi,\Gamma'\vdash(\lnot\phi)$ 不一致。由于证明是有限有序组，故 $\Gamma$ 是有限集，与有限子集[[MK222][一致]]矛盾

故假设不成立， $\Gamma$ [[MK222][一致]]

**** 第二紧致性定理<<MK405>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK129][表达式]]集合 $\Gamma\subset\mathcal{L}_\mathcal{A}$ 满足对于任意 $\phi\in\Gamma$ 有 $\phi$ 中所有[[MK140][自由变元]]均在 $\{x_1,...,x_n\}$ 中

其中 $n<\infty$ 。若存在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 满足对于任意[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $\Gamma'\subset\Gamma$

均存在[[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash\Gamma'$ 。则存在[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 满足：

（1） $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]

（2） 存在 $\mathcal{N}$ [[MK154][赋值]] $v$ 满足 $\left<\mathcal{N},v\right>\vDash\Gamma$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 前提定义

定义 $\mathcal{A}^*=\mathcal{A}\cup\left\{c_a\big|a\in M\right\}$ 其中 $c_a\not\in\mathcal{A}$ 定义 $\{d_1,...,d_n\}$ 亦为[[MK108][常元符号]]满足 $d_i\not\in\mathcal{A}^*$

定义 $\mathcal{A}^{**}=\mathcal{A}^ *\cup\{d_1,...,d_n\}$ 显然 $\mathcal{L}_{\mathcal{A}}$ 是 $\mathcal{L}_{\mathcal{A}^{ *}}$ 的[[MK152][裁剪语言]]， $\mathcal{L}_{\mathcal{A}^ *}$ 是 $\mathcal{L}_{\mathcal{A}^{ * *}}$ 的[[MK152][裁剪语言]]

定义 $I^*=I\cup\left\{\left<c_a,a\right>\big|a\in M\right\}$ 则可定义[[MK151][语言]] $\mathcal{L}_{\mathcal{A}^ *}$ 的[[MK153][结构]] $\mathcal{M}^ *=\left<M,I^ *\right>$ 易证 $\mathcal{M}$ 是 $\mathcal{M}^{ *}$ 的[[MK295][裁剪结构]]

定义 $\Theta$ 为[[MK151][语言]] $\mathcal{L}_{\mathcal{A}^*}$ 中所有的[[MK144][语句]]，定义 $T=\left\{\theta\big|\theta\in\Theta\land\mathcal{M}^*\vDash\theta\right\}$

定义 $T_\Gamma=\left\{\phi(\left<x_1,...,x_n\right>,\left<d_1,...,d_n\right>)\big|\phi\in\Gamma\right\}$ 进而定义 $T^*=T\cup T_\Gamma$

****** $T^*$ [[MK222][一致]]

对于任意 $T^*$ 的[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $T'$ ，定义 $T'_1=T'\cap T _\Gamma, T'_2=T'-T _\Gamma$

定义 $\Gamma'=\left\{\phi\big|\phi(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)\in T'_1 \right\}$ 显然 $T'_1$ 是[[~/文档/note/离散数学/lssx.org::MK82][有限]]集，故 $\Gamma'$ 是[[~/文档/note/离散数学/lssx.org::MK82][有限]]集

则根据条件存在 $\mathcal{M}$ [[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash\Gamma'$ 定义 $v(x_i)=a_i\in M$

则对于任意 $\phi\in\Gamma'$ 根据[[MK168][局部确定定理]]有 $\mathcal{M}\vDash\phi(\left<x_1,...,x_n\right>,\left<a_1,...,a_n\right>)$

根据 $T_\Gamma$ 定义对于任意 $\theta\in T'_1$ 均有 $\phi\in\Gamma'$ 满足 $\theta=\phi(\left<x_1,...,x_n\right>,\left<d_1,...,d_n\right>)$

定义 $I^{**}=I^ *\cup\left\{\left<d_1,a_1\right>,...,\left<d_n,a_n\right>\right\}$ 以及 $\mathcal{M}^{ * *}=\left<M,I^{ * *}\right>$ 显然 $\mathcal{M}^{ *}$ 是 $\mathcal{M}^{ * *}$ 的[[MK295][裁剪结构]]

则根据[[MK169][推论]]以及[[MK296][定理1]]易证任意 $\phi\in\Gamma'$ 均有 $\mathcal{M}^{ * *}\vDash\phi(\left<x_1,...,x_n\right>,\left<d_1,...,d_n\right>)$ 

对于任意 $\theta\in T'_2$ 可得 $\theta\in T$ 即根据 $T$ 定义有 $\mathcal{M}^*\vDash\theta$ 同理可证 $\mathcal{M}^{ * *}\vDash\theta$

综上所述，对于任意 $\theta\in T'$ 均有 $\mathcal{M}^{ * *}\vDash\theta$ 即 $\mathcal{M}^{ * *}\vDash T'$ 根据[[MK254][第一完备性]]可得 $T'$ [[MK222][一致]]

综上所述，对于任意 $T^*$ 的[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $T'$ 均有 $T'$ [[MK222][一致]]，根据[[MK271][第一紧致性]]有 $T^*$ [[MK222][一致]]

****** 存在 $\mathcal{N}^{ *}=\left<N,J^{ *}\right>$ 满足 $\mathcal{N}^ *\vDash T$ 

由于 $T^*$ [[MK222][一致]]，故根据[[MK254][第一完备性]]可得存在 $\mathcal{L}_{\mathcal{A}^{ * *}}$ 的[[MK153][结构]] $\mathcal{N}^{ * *}=\left<N,J^{ * *}\right>$ 以及其[[MK154][赋值]] $\mu$ 满足 $\left<\mathcal{N}^{ * *},\mu\right>\vDash T^*$

由于 $T^*$ 为[[MK144][语句]]集合，故根据[[MK169][推论]]有 $\mathcal{N}^{ * *}\vDash T^*$

由于 $\mathcal{L}_{\mathcal{A}^ *}$ 是 $\mathcal{L}_{\mathcal{A}^{ * *}}$ 的[[MK152][裁剪语言]]，故根据[[MK299][定理2]]可得存在 $\mathcal{L}_{\mathcal{A}^ *}$ 的[[MK153][结构]] $\mathcal{N}^{ *}=\left<N,J^{ *}\right>$ 是 $\mathcal{N}^{ * *}$ 的[[MK295][裁剪结构]]

根据[[MK296][定理1]]易证 $\mathcal{N}^*\vDash T$

****** $\mathcal{M}^*$ 是 $\mathcal{N}^*$ 的[[MK301][同质嵌入]]

根据 $\mathcal{L}_{\mathcal{A}^{ *}}$ 定义可得对于任意 $a\in M$ 存在 $c_a\in \mathcal{A}^*$ 满足 $I^*(c_a)=a$

根据上一步可得 $\mathcal{N}^ *\vDash T=\left\{\theta\big|\theta\in\Theta\land\mathcal{M}^*\vDash\theta\right\}$ 则根据[[MK496][引理2]]可得 $\mathcal{M}^*$ 是 $\mathcal{N}^*$ 的[[MK301][同质嵌入]]

且[[MK301][同质嵌入映射]] $e$ 满足 $e(a)=J(c_a)$

****** 证明（1）

由于 $\mathcal{L}_{\mathcal{A}}$ 是 $\mathcal{L}_{\mathcal{A}^{ *}}$ 的[[MK152][裁剪语言]]，故根据[[MK299][定理2]]可得存在 $\mathcal{L}_{\mathcal{A}}$ 的[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 是 $\mathcal{N}^{ *}$ 的[[MK295][裁剪结构]]

故对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ ，若 $\left<\mathcal{M},v\right>\vDash\phi$ 根据[[MK296][定理1]]有其充要条件为 $\left<\mathcal{M}^*,v\right>\vDash\phi$

由于 $\mathcal{M}^*$ 是 $\mathcal{N}^*$ 的[[MK301][同质嵌入]]，故 $\left<\mathcal{M}^*,v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{N}^*,e\cdot v\right>\vDash\phi$ 其中 $e$ 为上一步证明的[[MK301][嵌入映射]]

由于 $\mathcal{N}$ 是 $\mathcal{N}^*$ 的[[MK295][裁剪结构]]，根据[[MK296][定理1]]的结论（2）可得 $v\cdot e$ 亦为 $\mathcal{N}$ 的[[MK154][赋值]]

以及 $\left<\mathcal{N}^*,e\cdot v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{N},e\cdot v\right>\vDash\phi$

综上所述，对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},e\cdot v\right>\vDash\phi$

根据[[MK301][定义]]可得 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]

****** 证明（2）

定义 $\mathcal{N}^{**}$ 的[[MK154][赋值]] $\mu$ 满足 $\mu(x_i)=J^{ * *}(d_i)$  对于任意 $\phi\in\Gamma$ 可得 $\phi(\left<x_1,...,x_n\right>,\left<d_1,...,d_n\right>)\in T^*$

故有 $\mathcal{N}^{ * *}\vDash\phi(\left<x_1,...,x_n\right>,\left<d_1,...,d_n\right>)$ 则根据[[MK176][替换定理]]有 $\left<\mathcal{N}^{ * *},\mu\right>\vDash\phi$

由于 $\mathcal{N}^{ *}$ 是 $\mathcal{N}^{ * *}$ 的[[MK295][裁剪结构]]，根据[[MK296][定理1]]可得 $\mu$ 亦为 $\mathcal{N^ *}$ [[MK154][赋值]]以及 $\left<\mathcal{N}^{ *},\mu\right>\vDash\phi$

同理亦有 $\left<\mathcal{N},\mu\right>\vDash\phi$ ，故综上所述，对于任意 $\phi\in\Gamma$ 均有 $\left<\mathcal{N},\mu\right>\vDash\phi$ 

**** 定理1<<MK272>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 对于任意 $n\in\mathbb{N}$ 均存在[[MK221][模型]] $\mathcal{M}=\left<M,I\right>$ 满足 $|M|\geq n$

则 $\mathcal{T}$ 必有[[MK221][无限模型]] $\mathcal{M}^*=\left<M^*,I^*\right>$

***** 证明

定义 $T_1=T\cup\left\{(\lnot(x_i\hat{=}x_j))\big|i\ne j\land \{i,j\}\subset\mathbb{N}\right\}$

****** $T_1$ 的任意[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $E$ [[MK222][一致]]

设 $|E|=n$ ，由于 $T$ 是[[MK144][语句]]集合，故 $\theta\in T$ 不含[[MK140][自由变元]]，故 $E$ 中至多有 $2n$ 个[[MK140][自由变元]]，设共有 $m$ 个

则定义 $B=\{x_{j_1},...,x_{j_m}\}$ 为 $E$ 中所有表达式包含的[[MK140][自由变元]]

根据条件 $\mathcal{T}$ 存在[[MK221][模型]] $\mathcal{M}=\left<M,I\right>$ 满足 $|M|\geq 2n$ ，且由于 $|B|=m<2n$

则存在 $\mathcal{M}$ [[MK154][赋值]] $v$ 为 $B$ 到 $M$ 的[[~/文档/note/离散数学/lssx.org::MK176][单射]]，即任意 $p\ne q\land 1\leq p\leq m\land 1\leq q\leq m$

均有 $v(x_{j_p})\ne f(x_{j_q})$ ，则可得对于任意 $i\ne j$ 有 $\left<\mathcal{M},v\right>\vDash(\lnot(x_i\hat{=}x_j))$ 即 $\left<\mathcal{M},v\right>\vDash E-T$ 

又由于 $\mathcal{M}\vDash T$ ，故必有 $\mathcal{M}\vDash E\cap T$ 故有 $\left<\mathcal{M},v\right>\vDash E$ ，即 $E$ [[MK189][可满足]]

则根据[[MK254][完备性定理]]可得 $E$ [[MK222][一致]]

****** $T_1$ [[MK189][可满足]]

根据[[MK271][紧致性定理]]以及上一步证明可得 $T_1$ [[MK222][一致]]，进一步根据[[MK254][完备性定理]]可得 $T_1$ [[MK189][可满足]]

即存在[[MK153][结构]] $\mathcal{M}^*=\left<M^*,I^*\right>$ 以及 $\mathcal{M}^*$ [[MK154][赋值]] $v$ 使的 $\left<\mathcal{M}^*,v\right>\vDash T_1$

****** $M^*$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]

定义 $f(i)=v(x_i)$ 其中 $i\in\mathbb{N}$ ，定义 $S=\left\{s\big|s\in M^*\land (\exists x_i((x_i\in X)\land(v(x_i)=s)))\right\}$

显然 $f:\mathbb{N}\to S$ 是[[~/文档/note/离散数学/lssx.org::MK175][函数]]

对于任意 $i\ne j$ 有 $f(i)=v(x_i),f(j)=v(x_j)$ 由于 $\left<\mathcal{M}^*,v\right>\vDash T_1$ 则有 $\left<\mathcal{M}^*,v\right>\vDash(\lnot(x_i\hat{=}x_j))$

根据[[MK158][满足]]可得 $v(x_i)\ne v(x_j)$ 即 $f(i)\ne f(j)$ 可得 $f$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

对于任意 $v(x_i)\in S$ 根据 $x_i\in X$ 以及[[MK107][变元符号]]定义可得 $i\in\mathbb{N}$ 则有 $f(i)=v(x_i)$

综上所述 $f:\mathbb{N}\to S$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]，则根据[[~/文档/note/离散数学/lssx.org::MK29][等势]]有 $|S|=|\mathbb{N}|$ 又由于 $S\subset M^*$

故根据[[~/文档/note/离散数学/lssx.org::MK33][定理7]]可得 $|M^*|\geq |\mathbb{N}|$ 即 $M^*$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]

***** 推论

$\theta$ 是[[MK144][语句]]，且对于任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 若 $M$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]就有 $\mathcal{M}\vDash\theta$

则存在 $n\in\mathbb{N}$ 满足对于任意[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 若有 $|N|>n$ 则有 $\mathcal{N}\vDash\theta$

****** 证明

假设推论为假，则对于任意 $m\in\mathbb{N}$ 均存在[[MK153][结构]] $\mathcal{M}'=\left<M',I'\right>$ 有 $\mathcal{M}'\not\vDash\theta$

根据[[MK158][满足]]可得有 $\mathcal{M}'\vDash(\lnot\theta)$ ，则根据[[MK272][定理1]]可得存在无限模型 $\mathcal{M}^*=\left<M^*,I^*\right>$ 使得 $\mathcal{M}^*\vDash(\lnot\theta)$

根据条件由于 $\mathcal{M}^*$ 是无限结构，故有 $\mathcal{M}^*\vDash\theta$ 矛盾，故假设不成立。即推论为真

**** 定理2<<MK273>>

[[MK151][一阶可数语言]] $\mathcal{L}_\mathcal{A}$ 任意关于 $x_1,...,x_n$ 的[[MK222][一致]]的[[MK129][表达式]]集合 $\Gamma$

若存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 且 $M$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]

则对于任意[[~/文档/note/离散数学/lssx.org::MK83][无限]]的[[~/文档/note/离散数学/lssx.org::MK35][基数]] $\kappa\leq|M|$ 均有 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}'=\left<M,I\right>$ 及其[[MK154][赋值]] $v'$ 满足 $\left<\mathcal{M}',v'\right>\vDash\Gamma$ 且 $|M'| =\kappa$

***** 证明

****** 未在 $\mathcal{A}$ 中的[[MK108][常元符号]]为[[~/文档/note/离散数学/lssx.org::MK83][无限]]个

根据 $\mathcal{A}$ 中[[MK108][常元符号]]为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个显然 $D$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，故定义 $D=\left\{d_i\big|i\in\mathbb{N}\right\}$ ，定义 $\mathcal{A}^*=\mathcal{A}\cup D$

定义函数 $f(x_i)=d_i$ 易证是[[~/文档/note/离散数学/lssx.org::MK181][双射]]，定义 $T_\Gamma=\left\{\phi\left(\left<x_{i_1},...,x_{i_{n_\phi}}\right>,\left<f(x_{i_1}),...,f\left(x_{i_{n_\phi}}\right)\right>\right)\big|\phi\in\Gamma\right\}$

其中 $x_{i_1},...,x_{i_{n_\phi}}$ 是 $\phi$ 中所有的[[MK140][自由变元]]

定义 $I^*=I\cup\left\{\left<d_i,v(x_i)\right>\big|i\in\mathbb{N}\right\}$ ，显然 $\mathcal{M}^*=\left<M,I^*\right>$ 亦为 $\mathcal{L}_{\mathcal{A}^*}$ 的[[MK153][结构]]，则 $v$ 亦为其[[MK154][赋值]]

$\Gamma$ 亦为 $\mathcal{L}_{\mathcal{A}^*}$ 下[[MK322][关于 $x_1,...,x_n$ 的表达式]]集合，故易证 $\mathcal{L}_{\mathcal{A}^*}$ 下有 $\left<\mathcal{M}^*,v\right>\vDash\Gamma$

由于 $I^*(d_i)=v(x_i)$ 故根据[[MK176][替换定理]] $\mathcal{L}_{\mathcal{A}^*}$ 下 $\left<\mathcal{M}^*,v\right>\vDash T_\Gamma$ ，由于 $T_\Gamma$ 均为[[MK144][语句]]，故根据[[MK169][推论]]有 $\mathcal{M}^*\vDash T_\Gamma$

由于 $M$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]且 $\mathcal{L}_\mathcal{A}$ 为[[MK151][可数语言]]，则根据[[MK294][同质缩小]]可得存在 $\mathcal{L}_{\mathcal{A}^*}$ 下的[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 是 $\mathcal{M}^*$ 的[[MK287][同质子结构]]且 $|N|=\kappa$

对于任意 $\mathcal{N}$ 的[[MK154][赋值]] $\mu$ 显然亦为 $\mathcal{M^*}$ 的[[MK154][赋值]]，则有 $\left<\mathcal{M}^*,\mu\right>\vDash T_\Gamma$ ，根据定义 $\left<\mathcal{N},\mu\right>\vDash T_\Gamma$

又根据[[MK169][推论]] $\mathcal{N}\vDash T_\Gamma$ ，再次定义 $\mathcal{N}$ 的[[MK154][赋值]] $\eta$ 满足 $\eta(x_i)=J(d_i)$ 则根据[[MK176][替换定理]] $\mathcal{L}_{\mathcal{A}^*}$ 下 $\left<\mathcal{N},\eta\right>\vDash \Gamma$

显然 $\mathcal{L}_\mathcal{A}$ 是 $\mathcal{L}_{\mathcal{A}^*}$ 的[[MK152][裁剪语言]]，则根据[[MK299][定理2]]可得存在 $\mathcal{N}'=\left<N,J'\right>$ 是 $\mathcal{N}$ 的[[MK295][裁剪结构]]

故根据[[MK296][定理1]]可得 $\eta$ 亦为 $\mathcal{N}'$ 的[[MK154][赋值]]，且有 $\mathcal{L}_\mathcal{A}$ 下 $\left<\mathcal{N}',\eta\right>\vDash \Gamma$ 显然 $\mathcal{N}'=\left<N,J'\right>$ 且 $|N| =\kappa$ 

****** 未在 $\mathcal{A}$ 中的[[MK108][常元符号]]为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个

根据[[MK248][常元省略]]可得存在[[~/文档/note/离散数学/lssx.org::MK181][双射]] $\rho:\mathcal{L}_\mathcal{A}\to\mathcal{L}_{\mathcal{A}'}$ 对应[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}'}$ 中的 $\Gamma'=\left\{\rho(\phi)\big|\phi\in\Gamma\right\}$

显然不在 $\mathcal{A}'$ 中的[[MK108][常元符号]]为[[~/文档/note/离散数学/lssx.org::MK83][无限]]个，故存在 $\mathcal{L}_{\mathcal{A}'}$ 下的[[MK153][结构]] $\mathcal{M}'= \left<M,I'\right>$ 及其[[MK154][赋值]] $v'$

满足 $\left<\mathcal{M}',v'\right>\vDash\Gamma$ 且 $|M|=\kappa$ 。则根据[[MK251][之前证明]]可得存在 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 满足 $v'$ 亦是其[[MK154][赋值]]

且 $\left<\mathcal{M},v'\right>\vDash\Gamma$ ，显然亦有 $|M|=\kappa$

*** [[MK221][模型]]完全<<MK485>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]，若对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$

满足 $\mathcal{N}$ 是 $\mathcal{M}$ 的[[MK282][子结构]]，则 $\mathcal{N}$ 是 $\mathcal{M}$ 的[[MK287][同质子结构]]，则称 $\mathcal{T}$ 是[[MK221][模型]]完全的

**** 极小模型<<MK491>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]若存在 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}=\left<M,I\right>$ 满足对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{N}=\left<N,J\right>$ 

有 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK300][嵌入]]，则称 $\mathcal{M}$ 是 $\mathcal{T}$ 的极小模型

**** 定理1

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK485][模型完全]]且具有[[MK491][极小模型]]，则 $\mathcal{T}$ 是[[MK264][完全的]]

***** 证明

设[[MK491][极小模型]]为 $\mathcal{M}_0=\left<M_0.I_0\right>$ ，对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}=\left<M,I\right>$ 据[[MK312][定理]]可得 $\mathcal{M}$ 中有与 $\mathcal{M}_0$ [[MK274][同构]]的[[MK282][子结构]] $\mathcal{M}'=\left<M',I'\right>$

又根据[[MK485][模型完全]]故 $\mathcal{M}'$ 是 $\mathcal{M}$ 的[[MK287][同质子结构]]，根据[[MK492][定理1]]可得 $\mathcal{M}_0$ 是 $\mathcal{M}$ 的[[MK301][同质嵌入]]，设[[MK301][同质嵌入映射]]为 $e:M_0\to M$

对于任意[[MK144][语句]] $\theta$ 若有 $\mathcal{M}_0\vDash\theta$ 则根据[[MK169][推论]]任取 $\mathcal{M}_0$ 的[[MK154][赋值]] $v$ 有 $\left<\mathcal{M}_0,v\right>\vDash\theta$ ，根据[[MK301][同质嵌入]]可得有 $\left<\mathcal{M},v\cdot e\right>\vDash\theta$ 

又根据[[MK169][推论]] $\mathcal{M}\vDash\theta$ 。

综上所述，对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 以及[[MK144][语句]] $\theta$ ，若有 $\mathcal{M}_0\vDash\theta$ 则有 $\mathcal{M}\vDash \theta$ ，即根据[[MK493][引理9]]可得 $\mathcal{T}$ 是[[MK264][完全的]]

**** 定理2

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK485][模型完全]]且任意两 $\mathcal{T}$ 的[[MK221][模型]]均可[[MK300][嵌入]]到同一个 $\mathcal{T}$ 的[[MK221][模型]]，则 $\mathcal{T}$ 是[[MK264][完全的]]

***** 证明

对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK144][语句]] $\theta$ 假设存在 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 满足 $\mathcal{M}\vDash\theta, \mathcal{N}\not\vDash\theta$

根据条件设 $\mathcal{M},\mathcal{N}$ 均可[[MK300][嵌入]] $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}_0=\left<M_0.I_0\right>$ 据[[MK312][定理]]可得 $\mathcal{M}_0$ 中有与 $\mathcal{M},\mathcal{N}$ [[MK274][同构]]的[[MK282][子结构]]

又根据[[MK485][模型完全]]可得上述[[MK282][子结构]]均为[[MK287][同质子结构]]，即 $\mathcal{M},\mathcal{N}$ 为 $\mathcal{M}_0$ 的[[MK287][同质子结构]]，设[[MK301][同质嵌入映射]]为 $e_1:N\to M_0,e_2:M\to M_0$

则根据[[MK169][推论]]任取 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash\theta$ 根据[[MK301][同质嵌入]]可得有 $\left<\mathcal{M},v\cdot e\right>\vDash\theta$ ，又根据[[MK169][推论]] $\mathcal{M}_0\vDash\theta$

同理根据 $\mathcal{N}\not\vDash\theta$ 可得 $\mathcal{M}_0\not\vDash\theta$ 故假设不成立，即不存在 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M},\mathcal{N}$ 满足 $\mathcal{M}\vDash\theta, \mathcal{N}\not\vDash\theta$

即若存在 $\mathcal{M}\vDash\theta$ 则对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{N}$ 均有 $\mathcal{N}\vDash\theta$ ，根据[[MK493][引理9]]可得 $\mathcal{T}$ 是[[MK264][完全的]]

** 一阶结构关系

*** 同构<<MK274>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]，存在[[~/文档/note/离散数学/lssx.org::MK175][函数]] $e:M\to N$ 满足：

（1） $e$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]

（2） 若 $c\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]]，则有 $e(I(c))=J(c)$

（3） 若 $f\in\mathcal{L}_\mathcal{A}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ ，则对于任意 $\left<a_1,...,a_n\right>\subset M^n$ 使得 $I(f)(a_1,...,a_n)$ 有定义

     有 $e(I(f)(a_1,...,a_n))=J(f)(e(a_1),...,e(a_n))$

（4） 若 $p\in\mathcal{L}_\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ ，则对于任意 $\left<a_1,...,a_n\right>\subset M^n$

     $\left<a_1,...,a_n\right>\in I(p)$ 的充要条件是 $\left<e(a_1),...,e(a_n)\right>\in J(p)$

则称 $\left<M,I\right>,\left<N,J\right>$ 同构，记作 $\left<M,I\right>\cong\left<N,J\right>$ ， $e$ 为同构函数

**** 引理<<MK275>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]且 $\mathcal{M}\cong\mathcal{N}$ [[MK274][同构]]且同构函数为 $e$

则存在[[~/文档/note/离散数学/lssx.org::MK188][逆函数]] $e^{-1}:N\to M$ 亦为[[MK274][同构映射]]

***** 证明

****** 存在及[[MK274][条件（1）]]

由于 $e$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]，则存在[[~/文档/note/离散数学/lssx.org::MK188][逆函数]] $e^{-1}:N\to M$ 亦为[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]

****** [[MK274][条件（2）]]

若 $c\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]]，则根据 $e(I(c))=J(c)$ 有 $I(c)=e^{-1}(e(I(c)))=e^{-1}(J(c))$

****** [[MK274][条件（3）]]

若 $f\in\mathcal{L}_\mathcal{A}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ ，对于任意 $<b_1,...,b_n>\in N^n$

由于 $e$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]，则存在 $<a_1,...,a_n>\subset M^n$ 满足 $e(a_i)=b_i$

根据 $e(I(f)(a_1,...,a_n))=J(f)(e(a_1),...,e(a_n))$ 可得 $I(f)(a_1,...,a_n)=e^{-1}(J(f)(e(a_1),...,e(a_n)))$

即 $I(f)(e^{-1}(e(a_1)),...,e^{-1}(e(a_n)))=e^{-1}(J(f)(e(a_1),...,e(a_n)))$

进而有 $I(f)(e^{-1}(e(a_1)),...,e^{-1}(e(a_n)))=e^{-1}(J(f)(e(a_1),...,e(a_n)))$

****** [[MK274][条件（4）]]

若 $p\in\mathcal{L}_\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ ，对于任意 $<b_1,...,b_n>\in N^n$

由于 $e$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]，则存在 $<a_1,...,a_n>\subset M^n$ 满足 $e(a_i)=b_i$

根据 $<a_1,...,a_n>\in I(p)$ 的充要条件是 $<e(a_1),...,e(a_n)>\in J(p)$

可得 $<e^{-1}(e(a_1)),...,e^{-1}(e(a_n))>\in I(p)$ 的充要条件是 $<e(a_1),...,e(a_n)>\in J(p)$

即 $<e^{-1}(b_1),...,e^{-1}(b_n)>\in I(p)$ 的充要条件是 $<b_1,...,b_n>\in J(p)$

**** 引理2<<MK503>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ [[MK274][同构]]且同构函数为 $e$ 则对于任意 $\mathcal{M}$ 的[[MK282][子结构]] $\mathcal{M}'=\left<M',I'\right>$

定义 $N'=\left\{e(a)\big|a\in M'\right\}$ 以及 $J'$ 为 $J$ 在 $N'$ 上的[[MK481][限制解释]]，则

（1） $\mathcal{N}'=\left<N',J'\right>$ 亦为 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]]

（2） $\mathcal{M}',\mathcal{N}'$ [[MK274][同构]]

***** 证明

定义 $e':M'\to N'$ 满足对于任意 $a\in M'$ 有 $e'(a)=e(a)$ ，则根据[[~/文档/note/离散数学/lssx.org::MK185][子双射]]可得 $e'$ 亦为[[~/文档/note/离散数学/lssx.org::MK181][双射]]

又由于 $\mathcal{M}'$ 是 $\mathcal{M}$ 的[[MK282][子结构]]以及 $J'$ 为 $J$ 在 $N'$ 上的[[MK481][限制解释]]，则显然：

（1） 对于任意 $c\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]]，则有 $I(c)\in M'$ 且 $e'(I(c))\in N'$ 以及 $e'(I(c))=e(I(c))=J(c)=J'(c)$

（2） 对于任意 $f\in\mathcal{L}_\mathcal{A}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ 以及任意 $\left<a_1,...,a_n\right>\subset (M')^n$ 使得 $I'(f)(a_1,...,a_n)$ 有定义

     有 $e'(I'(f)(a_1,...,a_n))=e(I'(f)(a_1,...,a_n))=e(I(f)(a_1,...,a_n))=J(f)(e(a_1),...,e(a_n))=J'(f)(e'(a_1),...,e'(a_n))$

（3） 对于任意若 $p\in\mathcal{L}_\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ 以及任意 $\left<a_1,...,a_n\right>\subset (M')^n$

     与上一步同理可证 $\left<a_1,...,a_n\right>\in I'(p)$ 的充要条件是 $\left<e'(a_1),...,e'(a_n)\right>\in J'(p)$

**** 定理1<<MK276>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]且 $\mathcal{M}\cong\mathcal{N}$ [[MK274][同构]]且同构函数为 $e$

对于任意 $\mathcal{M}$ 的[[MK154][赋值]] $v:X\to M$ ，则：

（1） [[~/文档/note/离散数学/lssx.org::MK187][复合]]函数 $v\cdot e$ 是 $\mathcal{N}$ 的[[MK154][赋值]]

（2） 对于任意[[MK117][项]] $\tau$ 均有 $e(\bar{v}(\tau))=\overline{v\cdot e}(\tau)$

（3） 对于任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$

其中 $\vDash$ 表示[[MK158][满足]]， $e\cdot v$ 表示函数[[~/文档/note/离散数学/lssx.org::MK187][复合]]
 
***** 证明

****** 证明（1）<<MK277>>

根据[[~/文档/note/离散数学/lssx.org::MK187][复合]]可得 $v\cdot e$ 是 $X\to N$ 的[[~/文档/note/离散数学/lssx.org::MK175][函数]]，即满足 $\mathcal{N}$ [[MK154][赋值]]的定义

****** 证明（2）<<MK278>>

则根据[[MK155][项赋值]]，$\overline{v\cdot e}(\tau)$ 除了[[MK277][结论（1）]]以外，需满足：

（1） $\overline{v\cdot e}(c_i)=J(c_i)$

（2） $\overline{v\cdot e}(f(\tau_1,...,\tau_n))=J(f)(\overline{v\cdot e}(\tau_1),...,\overline{v\cdot e}(\tau_n))$

则根据以下证明， $\tau$ 为有限长度，以及数学归纳法可证

******* $|\tau|=1$ 时

根据[[MK126][唯一可读性]]可得有且仅有 $\tau=c_i,\tau=x_i$ 两种情况

则根据[[MK274][同构]]定义可得 $e(\bar{v}(c_i))=e(I(c_i))=J(c_i)=\overline{v\cdot e}(c_i),e(\bar{v}(x_i))=e(v(x_i))=\overline{v\cdot e}(x_i)$

******* 归纳假设

对于任意 $|\tau|<n$ 结论（2）成立，即 

******* $|\tau|=n$ 时

根据[[MK126][唯一可读性]]可得有且仅有 $\tau=f(\tau_1,...,\tau_n)$ 一种情况，显然 $|\tau_i|<n$

则根据[[MK274][同构]]有 $e(\bar{v}(f(\tau_1,...,\tau_n)))=e(I(f)(\bar{v}(\tau_1),...,\bar{v}(\tau_1)))=J(f)(e(\bar{v}(\tau_1)),...,e(\bar{v}(\tau_n)))$

又根据归纳假设有 $e(\bar{v}(f(\tau_1,...,\tau_n)))=J(f)(\overline{v\cdot e}(\tau_1),...,\overline{v\cdot e}(\tau_n))$

****** 证明（3）

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ ，定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

******* $z(\phi)=1$ 时

根据[[MK137][唯一可读性]]，有且仅有以下可能形式

故对于任意 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 当 $z(\phi)=1$ 时均有 $<\mathcal{M},v>\vDash\phi$ 的充要条件是 $<\mathcal{N},v\cdot e>\vDash\phi$

******** $\phi=(\mu_1\hat{=}\mu_2)$

若 $<\mathcal{M},v>\vDash\phi$ ，则根据[[MK158][满足]]等价于 $\bar{v}(\mu_1)=\bar{v}(\mu_2)$

则根据[[MK277][结论（2）]] $e(\bar{v}(\mu_1))=\overline{v\cdot e}(\mu_1),e(\bar{v}(\mu_1))=\overline{v\cdot e}(\mu_1)$ 故等价于 $\overline{v\cdot e}(\mu_1)=\overline{v\cdot e}(\mu_1)$

即 $<\mathcal{M},v>\vDash\phi$ 等价于 $<\mathcal{N},v\cdot e>\vDash\phi$

******** $\phi=p_i(\mu_1,...,\mu_n)$

若 $<\mathcal{M},v>\vDash\phi$ ，则根据[[MK158][满足]]等价于 $<\bar{v}(\mu_1),...,\bar{v}(\mu_n)>\in I(p_i)$

则根据[[MK274][同构]]可得 $<\bar{v}(\mu_1),...,\bar{v}(\mu_n)>\in I(p_i)$ 等价于 $<e(\bar{v}(\mu_1)),...,e(\bar{v}(\mu_n))>\in J(p_i)$

又根据[[MK277][结论（2）]]可得等价于 $<\overline{v\cdot e}(\mu_1),...,\overline{v\cdot e}(\mu_n)>\in J(p_i)$

即 $<\mathcal{M},v>\vDash\phi$ 等价于 $<\mathcal{N},v\cdot e>\vDash\phi$ 

******* 归纳假设

对于任意 $1<z(\phi)<n$ 的 $\phi\in\mathcal{L}_\mathcal{A}$ 定理结论（3）均成立

即对于任意 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 均有 $<\mathcal{M},v>\vDash\phi$ 的充要条件是 $<\mathcal{N},v\cdot e>\vDash\phi$

******* $z(\phi)=n$ 时

根据[[MK137][唯一可读性]]，有且仅有以下可能形式

******** $\phi=(\lnot\psi_1)$

若 $<\mathcal{M},v>\vDash\phi$ 则根据[[MK158][满足]]等价于 $<\mathcal{M},v>\not\vDash\psi_1$

显然 $z(\psi_1)<n$ 满足条件，即 $<\mathcal{M},v>\vDash\psi_1$ 等价于 $<\mathcal{N},v\cdot e>\vDash\psi_1$

则有 $<\mathcal{M},v>\not\vDash\psi_1$ 等价于 $<\mathcal{N},v\cdot e>\not\vDash\psi_1$ 即 $<\mathcal{M},v>\vDash\phi$ 等价于 $<\mathcal{N},v\cdot e>\vDash\phi$  

******** $\phi=(\psi_1\to\psi_2)$

若 $<\mathcal{M},v>\vDash\phi$ 则根据[[MK158][满足]]等价于 $<\mathcal{M},v>\not\vDash\psi_1$ 或 $<\mathcal{M},v>\vDash\psi_2$

显然 $z(\psi_1)<n,z(\psi_2)<n$ 故根据归纳假设等价于 $<\mathcal{N},v\cdot e>\not\vDash\psi_1$ 或 $<\mathcal{N},v\cdot e>\vDash\psi_2$ 

即 $<\mathcal{M},v>\vDash\phi$ 等价于 $<\mathcal{N},v\cdot e>\vDash\phi$

******** $\phi=(\forall x_i\psi_1)$

********* 充分

若 $\left<\mathcal{M},v\right>\vDash\phi$ ，则对于任的 $\mathcal{N}$ [[MK154][赋值]] $\beta: X\to N$ 

若满足对于任意 $\psi_1$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\beta(x_j)=\overline{v\cdot e}(x_j)=e(v(x_j))$ 则由于 $e$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]

根据[[~/文档/note/离散数学/lssx.org::MK188][函数求逆]]可得存在逆函数且满足任意 $\psi_1$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $e^{-1}(\beta(x_j))=v(x_j)$

[[MK277][同理易证]] $\beta\cdot e^{-1}: X\to M$ 亦为 $\mathcal{M}$ [[MK154][赋值]]，则根据 $\left<\mathcal{M},v\right>\vDash\phi$ 以及[[MK158][满足]]定义

可得 $\left<\mathcal{M},\beta\cdot e^{-1}\right>\vDash\psi_1$ ，显然 $z(\psi_1)<n$ 且有 $\beta\cdot e^{-1}\cdot e=\beta$ ，则根据归纳假设可得 $\left<\mathcal{N},\beta\right>\vDash\psi_1$

综上所述，对于任意 $\mathcal{N}$ [[MK154][赋值]] $\beta: X\to M$ 若满足对于任意 $\psi_1$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$

均有 $\beta(x_j)=e(v(x_j))$ 则有 $\left<\mathcal{N},\beta\right>\vDash\psi_1$ ，即根据[[MK158][满足]]有 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$

********* 必要

若 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$ ，则对于任意 $\mathcal{M}$ [[MK154][赋值]] $\alpha: X\to M$ 若满足对于任意 $\psi_1$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$

均有 $\alpha(x_j)=v(x_j)$ ，根据[[MK274][同构]]定义 $e(\alpha(x_j))=e(v(x_j))=\overline{v\cdot e}(x_j)$

根据[[MK277][之前证明]]可得 $\alpha\cdot e:X\to N$ 是 $\mathcal{N}$ [[MK154][赋值]]，则根据 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$ 以及[[MK158][满足]]有 $\left<\mathcal{N},\alpha\cdot e\right>\vDash\psi_1$

显然 $z(\psi_1)<n$ 则根据归纳假设有 $\left<\mathcal{M},\alpha\right>\vDash\psi_1$

综上所述，对于任意 $\mathcal{M}$ [[MK154][赋值]] $\alpha: X\to M$ 若满足对于任意 $\psi_1$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$

均有 $\alpha(x_j)=v(x_j)$ ，则有 $\left<\mathcal{M},\alpha\right>\vDash\psi_1$ 即根据[[MK158][满足]]有 $\left<\mathcal{M},v\right>\vDash\phi$

***** 推论1<<MK279>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=<M,I>,\mathcal{N}=<N,J>$ 两个[[MK153][结构]]，若 $\mathcal{M}\cong\mathcal{N}$ [[MK274][同构]]

则有 $\mathcal{M}$ 与 $\mathcal{N}$ [[MK281][同样]]

****** 证明

若 $\mathcal{M}\vDash\theta$ ，则根据[[MK169][推论]]有对于任意 $\mathcal{M}$ [[MK154][赋值]] $v:X\to M$ 均有 $<\mathcal{M},v>\vDash\theta$ 

根据[[MK276][定理]]可得 $<\mathcal{N},v\cdot e>\vDash\theta$ ，则又根据[[MK169][推论]]有 $\mathcal{N}\vDash\theta$

若 $\mathcal{N}\vDash\theta$ 则同理可证 $\mathcal{M}\vDash\theta$ 

***** 推论2

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=<M,I>,\mathcal{N}=<N,J>$ 两个[[MK153][结构]]且 $\mathcal{M}\cong\mathcal{N}$ [[MK274][同构]]且同构函数为 $e$

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 设其中中[[MK140][自由出现]]的[[MK107][变元符号]]为 $\{x_1,...,x_n\}$

对于任意 $\mathcal{M}$ [[MK154][赋值]] $v:X\to M$ 满足 $v(x_i)=a_i$ 以及任意 $\mathcal{N}$ [[MK154][赋值]] $u:X\to N$ 满足 $u(x_i)=e(v(x_i))$

$<\mathcal{M},v>\vDash\phi$ 的充要条件是 $<\mathcal{N},u>\vDash\phi$ 

****** 证明

根据[[MK276][定理]]可得 $<\mathcal{M},v>\vDash\phi$ 等价于 $<\mathcal{N},v\cdot e>\vDash\phi$ 以及 $e(v(x_i))=\overline{v\cdot e}(x_i)$

故有 $u(x_i)=\overline{v\cdot e}(x_i)$ 则根据[[MK168][局部确定性定理]]可得 $<\mathcal{N},v\cdot e>\vDash\phi$ 的充要条件为

对于任意 $\mathcal{N}$ [[MK154][赋值]] $u$ 若满足 $u(x_i)=\overline{v\cdot e}(x_i)$ 则有 $<\mathcal{N},u>\vDash\phi$ 

**** 定理2<<MK280>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]，若有[[~/文档/note/离散数学/lssx.org::MK181][双射函数]] $e:M\to N$

满足于任意[[MK129][原始表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 任意 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$

则 $e$ 是[[MK274][同构函数]]

***** 证明

****** [[MK108][常元符号]]

对于任意 $c\in\mathcal{L}_\mathcal{A}$ 显然存在 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 满足 $v(x_1)=I(c)$ 则根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash(x_1\hat{=}c)$

显然 $(x_1\hat{= }c)$ 是[[MK129][原始表达式]]，故 $\left<\mathcal{N},v\cdot e\right>\vDash(x_1\hat{=}c)$ 即有 $e(v(x_1))=e(I(c))=J(c)$

****** [[MK109][函数符号]]

对于任意 $f\in\mathcal{L}_\mathcal{A}$ 以及 $\left<a_1,...,a_n\right>\subset M^n$ 使得 $I(f)(a_1,...,a_n)$ 有定义

显然存在 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 满足 $v(x_i)=a_i$ 以及 $v(x_{n+1})=I(f)(a_1,...,a_n)$

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash(x_{n+1}\hat{=}f(x_1,...,x_n))$ 显然 $(x_{n+1}\hat{ =}f(x_1,...,x_n)))$ 是[[MK129][原始表达式]]

根据条件可得 $\left<\mathcal{N},v\cdot e\right>\vDash(x_{n+1}\hat{ =}f(x_1,...,x_n))$ 

即有 $e(I(f)(a_1,...,a_n))=e(v(x_{n+1}))=J(f)(e(v(x_1)),...,e(v(x_n)))=J(f)(e(a_1),...,e(a_n))$

****** [[MK110][谓词符号]]

对于任意 $p\in\mathcal{L}_\mathcal{A}$ 以及 $\left<a_1,...,a_n\right>\subset M^n$ 

******* 充分

若有 $\left<a_1,...,a_n\right>\in I(p)$ 显然存在 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 满足 $v(x_i)=a_i$ ，根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash p(x_1,...,x_n)$

显然 $p(x_1,...,x_n)$ 是[[MK129][原始表达式]]，故可得 $\left<\mathcal{N},v\cdot e\right>\vDash p(x_1,...,x_n)$

即 $\left<e(v(x_1)),...,e(v(x_2))\right>=\left<e(a_1),...,e(a_n)\right>\in J(p)$

******* 必要

若有 $\left<e(a_1),...,e(a_n)\right>\in J(p)$ 显然存在 $\mathcal{N}$ 的[[MK154][赋值]] $\mu$ 满足 $\mu(x_i)=e(a_i)$ 

则根据[[MK158][满足]] $\left<\mathcal{N},\mu\right>\vDash p(x_1,...,x_n)$ 由于 $e$ [[~/文档/note/离散数学/lssx.org::MK181][双射]]，故显然 $(\mu\cdot e^{-1})\cdot e=\mu$

则有 $\left<\mathcal{N},(\mu\cdot e^{-1})\cdot e\right>\vDash p(x_1,...,x_n)$ ，显然 $p(x_1,...,x_n)$ 是[[MK129][原始表达式]]

根据条件有 $\left<\mathcal{M},\mu\cdot e^{-1}\right>\vDash p(x_1,...,x_n)$

即 $\left<e^{-1}(\mu(x_1)),...,e^{-1}(\mu(x_n))\right>=\left<e^{-1}(e(a_1)),...,e^{-1}(e(a_n))\right>=\left<a_1,...,a_n\right>\in I(p)$

**** 等势同构<<MK437>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK222][一致]]的，则对于任意无穷[[~/文档/note/离散数学/lssx.org::MK35][基数]] $\kappa$ ， $\mathcal{T}$ 是一个 $\kappa$ 等势同构理论

当且仅当 $\mathcal{T}$ 的任意两个与 $\kappa$ [[~/文档/note/离散数学/lssx.org::MK29][等势]]的[[MK221][模型]]都[[MK274][同构]]

***** 定理<<MK494>>

[[MK220][一阶可数理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK222][一致]]的且只有无限[[MK221][模型]]，若存在无穷[[~/文档/note/离散数学/lssx.org::MK35][基数]] $\kappa$

使得 $\mathcal{T}$ 是一个 $\kappa$ 等势同构理论，则 $\mathcal{T}$ 是[[MK264][完全的]]

****** 证明

对于满足条件的[[MK220][一阶可数理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ ，假设 $\mathcal{T}$ 不[[MK264][完全]]

则存在[[MK144][语句]] $\theta$ 满足 $\mathcal{T}\not\vdash\theta$ 以及 $\mathcal{T}\not\vdash(\lnot\theta)$

则根据[[MK213][归谬定理]]可得 $\mathcal{T}_1=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T\cup\{\theta\},T^*\right>,\mathcal{T}_2=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T\cup\{(\lnot\theta)\},T^*\right>$ 均[[MK222][一致]]

根据[[MK255][推论]]以及 $T\cup\{\theta\},T\cup\{(\lnot\theta)\}$ 是[[MK144][语句]]集合可得存在 $\mathcal{M}_1=\left<M_1,I_1\right>,\mathcal{M}_2=\left<M_2,I_2\right>$

以及[[MK154][赋值]]函数 $v_1,v_2$ 满足 $\left<\mathcal{M}_1,v_1\right>\vDash\theta,\left<\mathcal{M}_2,v_2\right>\vDash(\lnot\theta)$ 根据[[MK169][推论]]有 $\mathcal{M}_1\vDash\theta,\mathcal{M}_2\vDash(\lnot\theta)$ 

若 $|M_1|>\kappa$ 由于 $\mathcal{L}_\mathcal{A}$ 为[[MK151][可数语言]]，则根据[[MK294][同质缩小]]可得存在 $\mathcal{M}_1'=\left<M'_1,I'_1\right>$ 满足 $|M'_1| =\kappa$ 且是 $\mathcal{M}_1$ 的[[MK287][同质子结构]]

则任取 $\mathcal{M}'_1$ 的[[MK154][赋值]] $v'$ ，由于是[[MK287][同质子结构]]，显然 $v'$ 亦为 $\mathcal{M}_1$ 的[[MK154][赋值]]，即有 $\left<\mathcal{M}_1,v'\right>\vDash\theta$

根据[[MK287][同质子结构]]定义可得 $\left<\mathcal{M}'_1,v'\right>\vDash\theta$ ，根据[[MK169][推论]] $\mathcal{M}'_1\vDash\theta$ 

若 $|M_1|=\kappa$ 则定义 $\mathcal{M}'_1=\mathcal{M}$ ，则有 $\mathcal{M}'_1\vDash\theta$ 

若 $|M_1|<\kappa$ 则根据 $\mathcal{L}_\mathcal{A}$ 为[[MK151][可数语言]]以及[[MK303][嵌入放大]]可得存在 $\mathcal{M}_1'=\left<M'_1,I'\right>$ 满足 $|M'_1| =\kappa$ 且 $\mathcal{M}$ 是 $\mathcal{M}_1$ 的[[MK301][同质嵌入]]

设[[MK300][嵌入映射]]为 $e$ ，则对于任意 $\mathcal{M}'_1$ [[MK154][赋值]] $v'$ 可得 $e\cdot v'$ 是 $\mathcal{M}_1$ [[MK154][赋值]]，则有 $\left<\mathcal{M}_1,e\cdot v'\right>\vDash\theta$

根据[[MK301][同质嵌入]]定义有 $\left<\mathcal{M}'_1,v'\right>\vDash\theta$ ，根据[[MK169][推论]] $\mathcal{M}'_1\vDash\theta$ 

综上所述，对于任意无穷[[~/文档/note/离散数学/lssx.org::MK35][基数]] $\kappa$ 均有 $\mathcal{M}_1'=\left<M'_1,I'_1\right>$ 满足 $|M'_1| =\kappa$ 以及 $\mathcal{M}'_1\vDash\theta$

同理可证有 $\mathcal{M}_2'=\left<M'_2,v'_2\right>$ 满足 $|M'_2| =\kappa$ 以及 $\mathcal{M}'_2\vDash(\lnot\theta)$

根据条件可得 $\mathcal{M}'_1,\mathcal{M}'_2$ [[MK274][同构]]，设[[MK274][同构函数]]为 $e$ ，对于任意 $\mathcal{M}'_1$ [[MK154][赋值]] $v'$ 根据[[MK276][定理]]可得 $e\cdot v'$ 是 $\mathcal{M}'_2$ [[MK154][赋值]]

由于 $\mathcal{M}'_1\vDash\theta$ 则有 $\left<\mathcal{M}'_1,v'\right>\vDash\theta$ 根据[[MK274][同构]]有 $\left<\mathcal{M}'_2,e\cdot v'\right>\vDash\theta$  

又犹豫 $\mathcal{M}'_2\vDash(\lnot\theta)$ 则有 $\left<\mathcal{M}'_2,e\cdot v'\right>\vDash(\lnot\theta)$ 根据[[MK158][满足]]定义可得两者矛盾

故假设不成立，即 $\mathcal{T}$ 是[[MK264][完全的]]

*** 同样<<MK281>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]，对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$

均有 $\mathcal{M}\vDash\theta$ （即 $\theta$ 在 $\mathcal{M}$ 下为[[MK175][真]]）的充要条件为 $\mathcal{N}\vDash\theta$ （即 $\theta$ 在 $\mathcal{N}$ 下为[[MK175][真]]），则称 $\mathcal{M}$ 与 $\mathcal{N}$ 同样

*** 子结构<<MK282>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]，若满足：

（1） $M\subset N$

（2） 若 $c\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]]，则有 $I(c)=J(c)$

（3） 若 $f\in\mathcal{L}_\mathcal{A}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ ，对于任意 $\left<a_1,...,a_n\right>\in M^n$ 使得 $I(f)(a_1,...,a_n)$ 有定义

     有 $I(f)(a_1,...,a_n)=J(f)(a_1,...,a_n)$

（4） 若 $p\in\mathcal{L}_\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ 有 $I(p)=J(p)\cap M^n$

则称 $\mathcal{M}$ 是 $\mathcal{N}$ 的子结构，记作 $\mathcal{M}\subset\mathcal{N}$ 

**** 限制[[MK153][解释]]<<MK481>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ ，若有 $N\subset M$ ，则 $I$ 对于 $N$ 的限制解释定义为 $I_N$ 满足：

（1） 若 $c\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]]，则有 $I_N(c)=I(c)$

（2） 若 $f\in\mathcal{L}_\mathcal{A}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ ，对于任意 $\left<a_1,...,a_n\right>\in N^n$ 有 $I_N(f)(a_1,...,a_n)=I(f)(a_1,...,a_n)$

（3） 若 $p\in\mathcal{L}_\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ 有 $I(p)=J(p)\cap N^n$

***** 引理<<MK482>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及 $N\subset M$ ，定义 $I$ 在 $N$ 上的[[MK481][限制解释]]为 $I_N$

则 $\left<N,I_N\right>$ 是 $\mathcal{M}$ 的[[MK282][子结构]]的充要条件是对于任意[[MK109][函数符号]] $f\in\mathcal{L}_\mathcal{A},\pi_F(f)=n$ ，对于任意 $\left<a_1,...,a_n\right>\in N^n$ 有 $I_N(f)(a_1,...,a_n)\in N$

****** 证明

******* 充分

显然有:

（1） 对于任意 $c\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]]，则有 $I_N(c)=I(c)$

（2） 根据条件对于任意 $f\in\mathcal{L}_\mathcal{A},\pi_F(f)=n$ 以及任意 $\left<a_1,...,a_n\right>\in N^n$ 有 $I_N(f)(a_1,...,a_n)\in N$

（3） 对于任意 $p\in\mathcal{L}_\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ 有 $I(p)\subset N^n$

即 $\left<N,I_N\right>$ 符合 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构定义]]，则显然 $\left<N,I_N\right>$ 是 $\mathcal{M}$ 的[[MK282][子结构]]

******* 必要

若 $\left<N,I_N\right>$ 是 $\mathcal{M}$ 的[[MK282][子结构]]，则根据定义显然对于任意 $\left<a_1,...,a_n\right>\in N^n$ 有 $I_N(f)(a_1,...,a_n)\in N$

**** [[~/文档/note/离散数学/lssx.org::MK143][偏序]]性<<MK283>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 上的所有[[MK153][结构]]集合为 $K$ 对于任意 $\{\mathcal{M},\mathcal{N}\}\subset K$ 设[[~/文档/note/离散数学/lssx.org::MK111][关系]] $\mathcal{M}\prec\mathcal{N}$ 为 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]

则 $\left<K,\prec\right>$ 是[[~/文档/note/离散数学/lssx.org::MK143][偏序关系]]

***** 证明

****** [[~/文档/note/离散数学/lssx.org::MK124][自反性]]

显然对于任意 $\mathcal{M}\in K$ 自己是自己的[[MK282][子结构]]，故有 $\mathcal{M}\prec\mathcal{M}$

****** [[~/文档/note/离散数学/lssx.org::MK127][反对称性]]

对于任意 $\{\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<K,J\right>\}\subset K$ 若有 $\mathcal{M}\prec\mathcal{N}$ 以及 $\mathcal{N}\prec\mathcal{M}$ 则根据[[MK282][定义]]可得 $M\subset N,N\subset M$

则根据[[~/文档/note/离散数学/lssx.org::MK34][伯恩斯坦定理]]可得 $M=N$ ，则显然有 $\mathcal{M}=\mathcal{N}$

****** [[~/文档/note/离散数学/lssx.org::MK128][传递性]]

若有 $\{\mathcal{M}_1,\mathcal{M}_2,\mathcal{M}_3\}\subset K$ 满足 $\mathcal{M}_1\prec\mathcal{M}_2,\mathcal{M}_2\prec\mathcal{M}_3$

******* [[MK108][常元符号]]

对于任意 $c\in\mathcal{L}_\mathcal{A}$ 有 $I_1(c)=I_2(c)=I_3(c)$

******* [[MK109][函数符号]]

对于任意 $f\in\mathcal{L}_\mathcal{A}$ 且 $\pi_F(f)=n$ 以及任意 $\left<a_1,...,a_n\right>\in M_1^n$

有 $I_1(f)(a_1,...,a_n)=I_2(f)(a_1,...,a_n)=I_3(f)(a_1,...,a_n)$

******* [[MK110][谓词符号]]

对于任意 $p\in\mathcal{L}_\mathcal{A}$ 且 $\pi_F(p)=n$ 以及任意 $\left<a_1,...,a_n\right>\in M_1^n$

有 $I_1(p)=I_2(p)\cap M_1^n,I_2(p)=I_3(p)\cap M_2^n$ 则有 $I_1(p)=(I_3(p)\cap M_2^n)\cap M_1^n$

根据[[~/文档/note/离散数学/lssx.org::MK71][结合律]]以及 $M_2^n\subset M_3^n$ 可得 $I_1(p)=I_3(p)\cap (M_2^n\cap M_1^n)=I_3(p)\cap M_1^n$

**** 子结构特征定理<<MK284>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]且 $M\subset N$ ，则 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]的充要条件是：

对于任意 $\mathcal{M}$ [[MK154][赋值]] $v:X\to M$ 以及[[MK129][原始表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

***** 证明

由于 $M\subset N$ 故 $\mathcal{M}$ [[MK154][赋值]] $v$ 亦为 $\mathcal{N}$ [[MK154][赋值]]

则对于任意 $\mathcal{M}$ [[MK154][赋值]] $v:X\to M$ 定义 $v'$ 为满足 $v(x_i)=v'(x_i)$ 的 $\mathcal{N}$ 赋值

则根据以下证明有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v'\right>\vDash\phi$

根据 $v'$ 定义显然 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

****** 充分

若 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]

******* 任意[[MK117][项]] $\tau\in T$ 有 $v(\tau)=v'(\tau)$ <<MK285>>

根据[[MK117][项定义]]可得 $|\tau|<\infty$ ，又根据数学归纳法以及以下证明可得 $v(\tau)=v'(\tau)$ 

******** $|\tau|=1$

根据[[MK126][唯一可读性]]有且仅有 $\tau=x_i$ 或 $\tau=c_i$ 根据[[MK282][定义（2）]]有 $\bar{v}(c_i)=I(c_i)=J(c_i)=\bar{v'}(c_i)$

根据[[MK154][赋值]] $v,v'$ 定义显然有 $\bar{v}(x_i)=v(x_i)=v'(x_i)=\bar{v'}(x_i)$

******** 归纳假设

对于任意 $|\tau|<n$ 均有 $v(\tau)=v'(\tau)$ 

******** $|\tau|=n$

根据[[MK126][唯一可读性]]有且仅有 $f_i(\tau_1,...,\tau_n)$ 显然 $|\tau_i|<n$ 故根[[MK155][项赋值]]有 $\bar{v}(f_i(\tau_1,...,\tau_n))=I(f_i)(\bar{v}(\tau_1),...,\bar{v}(\tau_n))$

以及 $\bar{v'}(f_i(\tau_1,...,\tau_n))=J(f_i)(\bar{v'}(\tau_1),...,\bar{v'}(\tau_n))$ 据归纳假设有 $\bar{v}(\tau_i)=\bar{v'}(\tau_i)\in M$

根据[[MK282][子结构]]又可得 $I(f_i)(\bar{v}(\tau_1),...,\bar{v}(\tau_n))=J(f_i)(\bar{v'}(\tau_1),...,\bar{v'}(\tau_n))$

即 $\bar{v}(f_i(x_1,...,x_n))=\bar{v'}(f_i(x_1,...,x_n))$

******* [[MK129][原始表达式]]充要条件

根据[[MK137][唯一可读性]]可得有且仅有以下两种情况，其中 $\tau_i\in T$ 是[[MK117][项]]

******** $\tau_1\hat{=}\tau_2$ 

根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\bar{v}(\tau_1) =\bar{v}(\tau_2)$ 根据[[MK285][之前证明]]有 $\bar{v}(\tau_1) =\bar{v'}(\tau_1)$ 以及 $\bar{v}(\tau_2) =\bar{v'}(\tau_2)$

故 $\bar{v}(\tau_1) =\bar{v}(\tau_2)$ 的充要条件为 $\bar{v'}(\tau_1) =\bar{v'}(\tau_2)$ ，又由于 $\bar{v'}(\tau_i) =\bar{v}(\tau_i)\in M$

则显然 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{N},v'\right>\vDash\phi$

******** $p(\tau_1,...,\tau_n)$

根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_1)\right>\in I(p)$

根据[[MK285][之前证明]]有 $\bar{v}(\tau_i) =\bar{v'}(\tau_i)\in M$ 则 $\left<\bar{v'}(\tau_1),...,\bar{v'}(\tau_1)\right>\in I(p)$ 且 $\left<\bar{v'}(\tau_1),...,\bar{v'}(\tau_1)\right>\in M^n$

根据[[MK282][子结构]]可得 $\left<\bar{v'}(\tau_1),...,\bar{v'}(\tau_1)\right>\in J(p)$ 

****** 必要

若对于任意 $\mathcal{M}$ [[MK154][赋值]] $v:X\to M$ 以及[[MK129][原始表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v'\right>\vDash\phi$

根据[[MK282][子结构定义]]以及以下证明可得 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]] 

******* 项相等<<MK286>>

则对于任意[[MK117][项]] $\tau_i\in T$ 定义 $\phi=\tau_i\hat{=}x_i$ 则必存在 $\mathcal{M}$ [[MK154][赋值]] $v$ 有 $<\mathcal{M},v>\vDash\phi$

则根据[[MK158][满足]]可得 $\bar{v}(\tau)=v(x_i)$ 根据假设亦有 $\left<\mathcal{N},v'\right>\vDash\phi$ ，同理根据[[MK158][满足]]可得 $\bar{v'}(\tau)=v'(x_i)$

又根据 $v'$ 定义可得 $\bar{v}(\tau)=v(x_i)=v'(x_i)=\bar{v'}(x_i)$ 即对于任意 $\tau_i\in T$ 均有 $\bar{v}(\tau_i)=\bar{v'}(\tau_i)$ 

******* 证明[[MK282][（2）]]

对于任意 $c_i\in T$ 根据[[MK286][之前证明]]以及[[MK155][项赋值]]可得 $I(c_i)=\bar{v}(c_i)=\bar{v'}(c_i)=J(c_i)$ 

******* 证明[[MK282][（3）]]

对于任意 $\left<a_1,...,a_n\right>\subset M^n$ 使得 $I(f)(a_1,...,a_n)=a_{n+1}$ 有定义

根据[[MK155][项赋值]]，定义 $\mathcal{M}$ [[MK154][赋值]] $v$ 满足 $v(x_i)=a_i$ ，又定义 $\tau=f_i(x_1,...,x_n)$ 以及 $\phi=(x_{n+1}\hat{=}f_i(x_1,...,x_n))$

又根据[[MK155][项赋值]]有 $a_{n+1}=v(x_{n+1})=\bar{v}(f_i(x_1,...,x_n))=I(f_i)(v(x_1),...,v(x_n))=I(f_i)(a_1,...,a_n)$

故根据[[MK158][满足]]有 $\left<\mathcal{M},v\right>\vDash\phi$ 根据假设有 $\left<\mathcal{N},v'\right>\vDash\phi$

又根据[[MK158][满足]]以及 $v'$ 定义有 $a_{n+1}=v'(x_{n+1})=\bar{v'}(f_i(x_1,...,x_n))=J(f_i)(a_1,...,a_n)$

最终有 $I(f)(a_1,...,a_n)=J(f)(a_1,...,a_n)$

******* 证明[[MK282][（4）]]

对于任意 $p\in\mathcal{L}_\mathcal{A}$ 且 $\pi_P(p)=n$ 以及 $\left<a_1,...,a_n\right>\in M^n$

若有 $\left<a_1,...,a_n\right>\in I(p)$ 则定义 $\mathcal{M}$ [[MK154][赋值]] $v$ 满足 $v(x_i)=a_i$ 以及 $\phi=p(x_1,...,x_n)$

显然 $\left<\bar{v}(x_1),...,\bar{v}(x_n)\right>=\left<a_1,...,a_n\right>\in I(p)$ ，故根据[[MK158][满足]]有 $\left<\mathcal{M},v\right>\vDash\phi$ ，根据假设有 $\left<\mathcal{N},v'\right>\vDash\phi$

又根据[[MK158][满足]]以及 $v'$ 定义有 $\left<\bar{v'}(x_1),...,\bar{v'}(x_n)\right>=\left<a_1,...,a_n\right>\in J(p)$

即对于任意 $\left<a_1,...,a_n\right>\in M^n$ 若 $\left<a_1,...,a_n\right>\in I(p)$ 则有 $\left<a_1,...,a_n\right>\in J(p)$

同理可证对于任意 $\left<a_1,...,a_n\right>\in M^n$ 若 $\left<a_1,...,a_n\right>\in J(p)$ 则有 $\left<a_1,...,a_n\right>\in I(p)$

即 $I(p)=J(p)\cap M^n$

***** 推论1<<MK461>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M},\mathcal{N}$ 两个[[MK153][结构]]且 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]，则任意不带[[MK106][量词]]的[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$

均有对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

****** 证明

定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

******* $z(\phi)=1$

根据[[MK137][可读性]]可得 $\phi$ 必为[[MK129][原始表达式]]，则根据[[MK284][特征定理]]

有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

******* 归纳假设

任意不含[[MK106][量词]]的 $\phi\in\mathcal{L}_{\mathcal{A}}$ 满足 $1\leq z(\phi)<n$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

******* $z(\phi)=n$

根据[[MK137][可读性]]可得不含[[MK106][量词]]的 $\phi\in\mathcal{L}_{\mathcal{A}_<}$ 有且仅有以下两种形式

******** $\phi=(\lnot\psi)$

根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\not\vDash\psi$ ，显然 $z(\psi)<n$

根据归纳假设充要条件为 $\left<\mathcal{N},v\right>\not\vDash\psi$ ，根据[[MK158][满足]]充要条件为 $\left<\mathcal{N},v\right>\vDash\phi$

******** $\phi=(\psi_1\to\psi_2)$

根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 或 $\left<\mathcal{M},v\right>\not\vDash\psi_2$ ，显然 $z(\psi_1)<n,z(\psi_2)<n$

根据归纳假设充要条件为 $\left<\mathcal{N},v\right>\not\vDash\psi_1$ 或 $\left<\mathcal{N},v\right>\not\vDash\psi_2$ 根据[[MK158][满足]]充要条件为 $\left<\mathcal{N},v\right>\vDash\phi$

***** 推论2<<MK498>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ [[MK397][适合量词消去]]，有 $\mathcal{L}_\mathcal{A}$ 的两个[[MK153][结构]]为 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$

满足 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]且 $\mathcal{M}\vDash T, \mathcal{N}\vDash T$ ，则 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]

****** 证明

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 若不含[[MK106][量词]]，则根据[[MK461][推论]]有对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

若含[[MK106][量词]]，则根据[[MK397][量词消去]]可得存在 $\psi\in\mathcal{L}_\mathcal{A}$ 满足 $T\vdash(\phi\leftrightarrow\psi)$ ，根据[[MK257][完备性]]可得 $\mathcal{M}\vDash(\phi\leftrightarrow\psi), \mathcal{N}\vDash(\phi\leftrightarrow\psi)$

如有 $\left<\mathcal{M},v\right>\vDash\phi$ 根据[[MK158][满足]]有 $\left<\mathcal{M},v\right>\vDash\psi$ ，又根据[[MK461][推论]]有 $\left<\mathcal{N},v\right>\vDash\psi$ 则有 $\left<\mathcal{N},v\right>\vDash\phi$

同理可证如有 $\left<\mathcal{N},v\right>\vDash\phi$ 则有 $\left<\mathcal{M},v\right>\vDash\psi$

综上所述，对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

结合 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]可得 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]

**** 同质子结构<<MK287>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]，若满足：

（1） $\mathcal{M}\subset\mathcal{N}$ 即 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]

（2） 对于任意 $\mathcal{M}$ [[MK154][赋值]] $v:X\to M$ 以及[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

则称 $\mathcal{M}$ 是 $\mathcal{N}$ 的同质子结构， $\mathcal{M}$ 是 $\mathcal{N}$ 的同质放大， $\mathcal{N}$ 是 $\mathcal{M}$ 的同质缩小，记作 $\mathcal{M}\prec\mathcal{N}$

***** 推论1<<MK288>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]

若 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]，则 $\mathcal{M}$ 与 $\mathcal{N}$ [[MK281][同样]] 

****** 证明

根据[[MK287][同质子结构]]定义，对于任意[[MK144][语句]] $\phi\in\mathcal{L}_\mathcal{A}$ ，存在 $\mathcal{M}$ [[MK154][赋值]] $v$ 满足 $<\mathcal{M},v>\vDash\phi$ 的充要条件是 $<\mathcal{M},v>\vDash\phi$

又根据[[MK169][推论]]易证 $\mathcal{M}\vDash\phi$ 的充要条件是 $\mathcal{M}\vDash\phi$

***** 推论2<<MK289>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]，若 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]且 $X\subset M$

对于任意由 $\mathcal{L}_\mathcal{A}$ [[MK129][表达式]] $\phi(x_1,...,x_n,x_{n+1},...,x_{n+m})$ 且参数为 ${q_1,...,q_m}$ 属于 $X$

其在 $\mathcal{M}$ 定义的集合 $A\in\text{Def}_n(\mathcal{M},X)$ 与在 $\mathcal{N}$ 定义的集合 $A^*\in\text{Def}_n(\mathcal{N},X)$ 满足 $A=A^*\cap M$

****** 证明

由于是[[MK287][同质子结构]]，则有 $M\subset N$ 进一步有 $M^n\subset N^n$

根据[[MK168][局部确定定理]]可得对于任意 $<a_1,...,a_n>\in A$ 其充要条件为 $\mathcal{M}\vDash\phi[a_1,...,a_n,q_1,...,q_m]$

又结合[[MK287][同质子结构]]定义可得充要条件为 $\mathcal{N}\vDash\phi[a_1,...,a_n,q_1,...,q_m]$ 根据[[MK313][可定义]]即 $<a_1,...,a_n>\in A^*$

即 $A\subset A^*$ 又根据[[MK313][可定义]]显然 $A\subset M$ ，即有 $A\subset M\cap A^*$

对于任意 $<a_1,...,a_n>\in A^*$ 且 $<a_1,...,a_n>\in M^n$ 同理可得 $\mathcal{N}\vDash\phi[a_1,...,a_n,q_1,...,q_m]$

由于 $<a_1,...,a_n>\in M^n$ 则根据[[MK287][同质子结构]]易证有 $\mathcal{M}\vDash\phi[a_1,...,a_n,q_1,...,q_m]$

即 $<a_1,...,a_n>\in A$ 则有 $M\cap A^*\subset A$

根据[[~/文档/note/离散数学/lssx.org::MK16][自反性]]可得 $A=A^*\cap M$

***** 传递性<<MK290>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}_1=\left<M_1,I_1\right>,\mathcal{M}_2=\left<M_2,I_2\right>,\mathcal{M}_3=\left<M_3,I_3\right>$ 三个[[MK153][结构]]

若有 $\mathcal{M}_1\prec\mathcal{M}_2,\mathcal{M}_2\prec\mathcal{M}_3$ 则有 $\mathcal{M}_1\prec\mathcal{M}_3$

****** 证明

根据[[MK283][子结构传递]]有 $\mathcal{M}_1\subset\mathcal{M}_3$ ，则对于任意 $\mathcal{M}_1$ [[MK154][赋值]] $v$ 以及[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$

有 $\left<\mathcal{M}_1,v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{M}_2,v\right>\vDash\phi$ 同理 $\left<\mathcal{M}_2,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_3,v\right>\vDash\phi$

即$\left<\mathcal{M}_1,v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{M}_3,v\right>\vDash\phi$ 

***** 定理1

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]，且 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]，则定义

（1） $\mathcal{A}_M=\mathcal{A}\cup\left\{c_a\big|a\in M\right\}$ 其中 $c_a$ 为新增的[[MK108][常元符号]]

（2） $I^*=I\cup\left<c_a,a\right>,J^*=J\cup\left<c_a,a\right>$

则有

（1） $\mathcal{L}_{\mathcal{A}_M}$ 为 $\mathcal{L}_\mathcal{A}$ 的[[MK152][扩充语言]]

（2） 定义 $\mathcal{M}^*=\left<M,I^*\right>,\mathcal{N}^*=\left<N,J^*\right>$ 分别为 $\mathcal{M},\mathcal{N}$ 的[[MK295][扩充结构]]

（3） $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]的充要条件为 $\mathcal{M}^*$ 与 $\mathcal{N}^*$ [[MK281][同样]] 

****** 证明

根据[[MK152][扩充语言]]、[[MK295][扩充结构定义]]，以及 $I^*,J^*$ 定义易证结论（1）（2），以下证明（3）

******* 充分

若 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]，则有 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]，进一步有 $M\subset N$

对于任意[[MK144][语句]] $\phi\in\mathcal{L}_{\matthcal{A}_M}$ 定义 $\phi$ 中所有[[MK107][变元符号]]的最大下标 $n$ 所有满足 $c\in\left\{c_a\big|a\in M\right\}$ 的[[MK108][常元符号]]个数为 $m$

则标注 $a_1,...,a_m$ 满足 $a_j\in M$ 且 $c_{a_j}$ 在 $\phi$ 中出现，进一步定义 $\psi[i]=\begin{cases}\phi[i]&\phi[i]\ne c_{a_j}\\x_{n+j}&\phi[i]=c_{a_j}\end{cases}$

即 $\psi$ 为 $\phi$ 替换所有新增的[[MK108][常元符号]] $c_{a_i}$ 为 $\phi$ 中没有出现过的[[MK107][变元符号]] $x_{n+j}$

根据[[MK146][常元替换引理]] $\psi\in\mathcal{L}$ 又根据 $\psi$ 定义若 $\psi[i]$ 不是[[MK105][固定符号]]时有 $\psi[i]\in\mathcal{A}$

故有 $\psi\in\mathcal{L}_\mathcal{A}$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]，显然 $\psi\in\mathcal{L}_{\mathcal{A}_M}$ 亦为 $\mathcal{L}_{\mathcal{A}_M}$ 的[[MK129][表达式]]

若有 $\mathcal{N}^*\vDash\phi$ 则定义 $\mathcal{M}^*$ [[MK154][赋值]] $v$ 满足对于任意 $j>n$ 均有 $v(x_{j})=a_{j-n}$

由于 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]，易证 $v$ 亦为 $\mathcal{N}^*$ 赋值，则根据[[MK169][推论]]有 $\left<\mathcal{N}^*,v\right>\vDash\phi$

进一步根据 $\psi$ 定义以及[[MK163][引理3]]可得 $\left<\mathcal{N}^*,v\right>\vDash\psi$

又由于 $\mathcal{N}^*$ 是 $\mathcal{N}$ 的[[MK295][扩充结构]]，故根据[[MK296][定理]]可得 $\left<\mathcal{N},v\right>\vDash\psi$

由于 $\mathcal{M}\prec\mathcal{N}$ 根据[[MK287][定义]]可得 $\left<\mathcal{M},v\right>\vDash\phi$ 同样根据[[MK296][定理]]可得 $\left<\mathcal{M}^*,v\right>\vDash\psi$

进一步根据 $\psi$ 定义以及[[MK163][引理3]]可得 $\left<\mathcal{M}^*,v\right>\vDash\phi$ 由于 $\phi$ 是[[MK144][语句]]，则根据[[MK169][推论]]有 $\mathcal{M}^*\vDash\phi$

综上所述，对于任意[[MK144][语句]] $\phi\in\mathcal{L}_{\matthcal{A}_M}$ 若有 $\mathcal{N}^*\vDash\phi$ 则有 $\mathcal{M}^*\vDash\phi$

同理可证若有 $\mathcal{M}^*\vDash\phi$ 则有 $\mathcal{N}^*\vDash\phi$ 则根据[[MK281][定义]]可得 $\mathcal{M}^*$ 与 $\mathcal{N}^*$ [[MK281][同样]] 

******* 必要

若 $\mathcal{M}^*$ 与 $\mathcal{N}^*$ [[MK281][同样]]，则对于任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 显然有 $\phi\in\mathcal{L}_{\mathcal{A}_M}$ ，对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash\phi$

定义 $I=\{i_1,...,i_n\}$ 为 $\phi$ 中所有[[MK107][变元符号]]的[[MK140][自由出现]]位置，定义 $K=\{k_1,...,k_n\}$ 满足 $\phi[i_j]=x_{k_j}$

定义 $v(x_{k_j})=a_j\in M$ 进一步定义 $\psi$ 为 $\psi[l]=\begin{cases}\phi[l]&l\not\in I\\c_{a_j}&l=i_j\in I\end{cases}$ 易证 $v$ 亦为 $\mathcal{M}^*$ [[MK154][赋值]]

根据[[MK296][定理]]可得 $\left<\mathcal{M}^*,v\right>\vDash\phi$ 进一步根据[[MK163][引理3]]可得 $\left<\mathcal{M}^*,v\right>\vDash\psi$ 且 $\psi\in\mathcal{L}_{\mathcal{A}_M}$ 是[[MK144][语句]]

根据[[MK169][推论]]有 $\mathcal{M}^*\vDash\phi$ 根据[[MK281][同样]]可得 $\mathcal{N}^*\vDash\psi$ ，由于 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]，易证 $v$ 亦为 $\mathcal{N},\mathcal{N^*}$ [[MK154][赋值]]

根据[[MK169][推论]]有 $\left<\mathcal{N}^*,v\right>\vDash\psi$ 又根据[[MK296][定理]]可得 $\left<\mathcal{N},v\right>\vDash\psi$ 根据[[MK163][引理3]]可得 $\left<\mathcal{N},v\right>\vDash\phi$

综上所述，对于任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 以及 $\mathcal{M}$ [[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash\phi$ 则有 $\left<\mathcal{N},v\right>\vDash\phi$

同理可证若有 $\left<\mathcal{N},v\right>\vDash\phi$ 则有 $\left<\mathcal{M},v\right>\vDash\phi$ 又由于 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]

则根据[[MK287][定义]]可得 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]

***** 定理2<<MK291>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{N}=\langle N,J\rangle$ ，若有 $M\subset N$ 满足对于每一个非空[[MK313][可定义]]的 $A\in\text{Def}_1(\mathcal{N},M)$

均有 $A\cap M\ne\varnothing$ ，则有

（1） 对于任意 $c_i\in\mathcal{A}$ 有 $J(c_i)\in M$

（2） 对于任意 $\pi_F(f)=n$ 若有 $\left<b_1,...,b_n\right>\in M^n$ 则 $J(f)(b_1,...,b_n)\in M$

****** 证明

******* 证明（1）

对于任意 $c_i\in\mathcal{A}$ 可得 $J(c_i)\in N$ 则定义[[MK129][表达式]] $\phi(x_j)$ 为 $(x_j\hat{=}c_i)$

则显然有且仅有 $J(c_i)$ 满足 $\mathcal{N}\vDash\phi[J(c_i)]$ ，则可得[[MK129][表达式]] $\phi$ [[MK313][定义]]了集合 $\{J(c_i)\}$

即 $\{J(c_i)\}\in\text{Def}_1(\mathcal{N},M)$ 显然 $\{J(c_i)\}$ 非空，则根据 $M\cap\{J(c_i)\}\ne\varnothing$ 则仅有可能 $J(c_i)\in M$  

******* 证明（2）

定义[[MK129][表达式]] $\phi(x_1,...,x_{n+1})$ 为 $(x_1\hat{=}f(x_2,...,x_{n+1}))$ 则对于任意参数 $<b_1,...,b_n>\in M^n$

有且仅有 $a=J(f)(b_1,...,b_n)$ 满足 $\mathcal{N}\vDash\phi[a,b_1,...,b_n]$ 即[[MK129][表达式]] $\phi$ 根据参数 $\left<b_1,...,b_n\right>$ [[MK313][定义]]了集合 $\{a\}$

即 $\{a\}\in\text{Def}_1(\mathcal{N},M)$ 显然 $\{a\}$ 非空，则根据 $M\cap\{J(c_i)\}\ne\varnothing$

则仅有可能 $a=J(f)(b_1,...,b_n)\in M$

****** 推论<<MK292>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{N}=\langle N,J\rangle$ ，若有 $M\subset N$ 满足对于每一个非空[[MK313][可定义]]的 $A\in\text{Def}_1(\mathcal{N},M)$

均有 $A\cap M\ne\varnothing$ ，则存在 $I$ 满足 $\mathcal{M}=\left<M,I\right>$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]

******* 证明

定义 $I$ 为：

（1） 根据[[MK291][定理2]]，对于任意[[MK108][常元符号]] $c_i\in\mathcal{A}$ 有 $I(c_i)=J(c_i)\in M$

（2） 根据[[MK291][定理2]]，对于任意[[MK109][函数符号]] $\pi_F(f)=n$

     若 $\left<b_1,...,b_n\right>\in M^n$ 则定义 $I(f)(b_1,...,b_n)=J(f)(b_1,...,b_n)\in M$

（3） 对于任意[[MK110][谓词符号]] $\pi_P(p)=n$ 定义 $I(p)=J(p)\cap M^n$

显然根据[[MK153][一阶结构]]以及前述证明可得 $\mathcal{M}=\left<M,I\right>$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]]

又根据[[MK282][子结构定义]]以及 $M\subset N$ 可得 $\mathcal{M}\subset\mathcal{N}$ ，则根据[[MK293][塔尔斯基]]定理有 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]

***** 定理3（塔尔斯基）<<MK293>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]，则以下两个命题等价：

（1） $\mathcal{M}\prec\mathcal{N}$ 即 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]

（2） $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]，且对于每一个非空[[MK313][可定义]]的 $A\in\text{Def}_1(\mathcal{N},M)$ 均有 $A\cap M\ne\varnothing$

****** 证明

******* （1）到（2）

假设 $\mathcal{M}\prec\mathcal{N}$

对于任意 $A\in\text{Def}_1(\mathcal{N},M)$ 若 $a\in A$ 根据[[MK313][可定义]]以及[[MK314][范式定理]]可得存在[[MK129][表达式]] $\phi(x_1,...,x_n)$

满足 $\mathcal{N}\vDash\phi[a,b_1,...,b_{n-1}]$ 由于 $A$ 非空，即对于任意 $\mathcal{N}$ [[MK154][赋值]] $v$ 满足 $v(x_1)=a$ 以及 $v(x_i)=b_{i-1},i\geq 2$

则有 $\left<\mathcal{N},v\right>\vDash\phi$ 则根据[[MK158][满足]]有 $\left<\mathcal{N},v\right>\not\vDash(\lnot\phi)$ 则对于任意 $\mathcal{M}$ [[MK154][赋值]] $u$ 满足 $u(x_i)=b_{i-1},i\geq 2$

易证 $u$ 亦为 $\mathcal{N}$ [[MK154][赋值]]，则根据[[MK158][满足]]可得 $\left<\mathcal{N},u\right>\not\vDash(\forall x_1(\lnot\phi))$

又由于 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]，则有 $\left<\mathcal{M},u\right>\not\vDash(\forall x_1(\lnot\phi))$

又根据[[MK158][满足]]可得存在 $\mathcal{M}$ [[MK154][赋值]] $\eta$ 满足 $\eta(x_1)\in M$ 以及 $\eta(x_i)=b_{i-1},i\geq 2$ 使得 $\left<\mathcal{M},\eta\right>\not\vDash(\lnot\phi)$

即根据[[MK158][满足]] $\left<\mathcal{M},\eta\right>\vDash\phi$ ，易证 $\eta$ 亦为 $\mathcal{N}$ [[MK154][赋值]]，故根据 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]] $\left<\mathcal{N},\eta\right>\vDash\phi$

根据 $\eta(x_1)\in M$ 、 $\left<\mathcal{N},\eta\right>\vDash\phi$ 以及[[MK168][局部确定定理]]可得 $\mathcal{N}\vDash\phi[\eta(x_1),b_1,...,b_{n-1}]$

即根据[[MK313][可定义]]有 $\eta(x_1)\in A\cap M$ 故有 $A\cap M\ne\varnothing$

******* （2）到（1）

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ ，定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

根据下列证明， $|\phi|<\infty$ 以及数学归纳法可得

对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

又结合（2）中 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]根据[[MK287][同质子结构]]定义可得 $\mathcal{M}\prec\mathcal{N}$

******** $z(\phi)=1$ 时

根据[[MK137][唯一可读性]]仅有可能为[[MK129][原始表达式]]，故对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$

根据[[MK284][子结构特征定理]] $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

******** 归纳假设

对于任意 $1<z(\phi)<n$ 的 $\phi\in\mathcal{L}_\mathcal{A}$ ，均有

对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

******** $z(\phi)=n$ 时

对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ ，根据[[MK137][唯一可读性]]有且仅有以下情况

********* $\phi=(\lnot\psi_1)$

则根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi$ 等价于 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 显然 $z(\psi_1)<n$

则根据归纳假设可得 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 等价于 $\left<\mathcal{N},v\right>\not\vDash\psi_1$

又根据[[MK158][满足]]可得 $\left<\mathcal{N},v\right>\not\vDash\psi_1$ 等价于 $\left<\mathcal{N},v\right>\vDash\phi$

综上所述，即此时 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

********* $\phi=(\psi_1\to\psi_2)$

则根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi$ 等价于 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 或者 $\left<\mathcal{M},v\right>\vDash\psi_2$ 显然 $z(\psi_1)<n,z(\psi_2)<n$

则根据归纳假设可得等价于 $\left<\mathcal{N},v\right>\not\vDash\psi_1$ 或者 $\left<\mathcal{N},v\right>\vDash\psi_2$

又根据[[MK158][满足]]可得等价于 $\left<\mathcal{N},v\right>\vDash\phi$ ，即此时 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\phi$

********* $\phi=(\forall x_i\psi_1)$

设 $\phi$ 中所有的[[MK140][自由变元]]为 $x_{k_1},...,x_{k_n}$

********** $\left<\mathcal{N},v\right>\vDash\phi$ 推出 $\left<\mathcal{M},\alpha\right>\vDash\phi$

若 $\left<\mathcal{N},v\right>\vDash\phi$ 由于 $v$ 是 $\mathcal{M}$ [[MK154][赋值]]，则对于任意 $\mathcal{M}$ 赋值 $\alpha$ 满足 $v(x_{k_i})=\alpha(x_{k_i})$

易证 $\alpha$ 亦为 $\mathcal{N}$ [[MK154][赋值]]，且根据[[MK158][满足]]可得 $\left<\mathcal{N},\alpha\right>\vDash\psi_1$ 显然 $z(\psi_1)<n$

故根据归纳假设可得 $\left<\mathcal{M},\alpha\right>\vDash\psi_1$ 则根据[[MK158][满足]]有 $\left<\mathcal{M},\alpha\right>\vDash\phi$

即若 $\left<\mathcal{N},v\right>\vDash\phi$ 则有 $\left<\mathcal{M},\alpha\right>\vDash\phi$

********** $\left<\mathcal{N},v\right>\not\vDash\phi$ 推出 $\left<\mathcal{M},\alpha\right>\not\vDash\phi$

若 $\left<\mathcal{N},v\right>\not\vDash\phi$ 则存在 $\mathcal{N}$ [[MK154][赋值]] $\alpha$ 满足 $v(x_{k_i})=\alpha(x_{k_i})$ 使得 $\left<\mathcal{N},\alpha\right>\not\vDash\psi_1$

根据[[MK158][满足]]有 $\left<\mathcal{N},\alpha\right>\vDash(\lnot\psi_1)$ 显然 $(\lnot\psi_1)$ 中的[[MK140][自由变元]]为 $x_i,x_{k_1},...,x_{k_n}$

则根据[[MK313][可定义]]可以有集合 $A=\left\{a\big|\mathcal{N}\vDash(\lnot\psi_1)[a,v(x_{k_1}),...,v(x_{k_n})]\right\}$

显然由于 $\left<\mathcal{N},\alpha\right>\vDash(\lnot\psi_1)$ 可得 $\alpha(x_i)\in A$ 即 $A\ne\varnothing$

则根据 $A\cap M\ne\varnothing$ 可得存在 $m\in A\cap M$ 则定义 $\mathcal{M}$ [[MK154][赋值]] $\beta$ 满足 $\beta(x_i)=m,\beta(x_{k_i})=v(x_{k_i})$

由于 $m\in A$ 则必有 $\mathcal{N}\vDash(\lnot\psi_1)[m,v(x_{k_1}),...,v(x_{k_n})]$ 易证 $\beta$ 亦为 $\mathcal{N}$ [[MK154][赋值]]，故 $\left<\mathcal{N},\beta\right>\vDash(\lnot\psi_1)$

根据[[MK158][满足]] $\left<\mathcal{N},\beta\right>\not\vDash\psi_1$ 显然 $z(\psi_1)<n$ 故根据归纳假设有 $\left<\mathcal{M},\beta\right>\not\vDash\psi_1$

又根据[[MK158][满足]]可得 $\left<\mathcal{M},\beta\right>\not\vDash(\forall x_i\psi_1)$ 即 $\left<\mathcal{M},\beta\right>\not\vDash\phi$

***** 定理4（同质缩小）<<MK294>>

[[MK151][一阶可数语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 满足 $N$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]，对于任意[[~/文档/note/离散数学/lssx.org::MK83][无限]]子集 $X\subset N$ 满足 $|X|=\kappa$

则存在 $\mathcal{M}=\left<M,I\right>$ 满足 $X\subset M\subset N$ 满足 $|M|=\kappa$ 且 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]] 

****** 证明

******* 定义 $M\subset N$

定义 $M_0=X$ ，对于任意 $M_n\subset N$ 满足 $|M_n|=\kappa$ 则根据 $\mathcal{L}_\mathcal{A}$ 为[[MK151][可数语言]]以及[[MK315][引理3]]可得 $|\text{Def}_1(\mathcal{N},M_n)|=\kappa$

根据[[~/文档/note/离散数学/lssx.org::MK14][选择公理]]对于任意非空 $A\in\text{Def}_1(\mathcal{N},M_n)$ 存在选择函数 $f$ 满足 $f(A)\in A$ 

则定义 $M_{n+1}=M_n\cup\left(\bigcup_{A\ne\varnothing\land A\in\text{Def}_1(\mathcal{N},M_n)}\{f(A)\}\right)$ 若 $|M_n|=\kappa$ 则根据[[~/文档/note/离散数学/lssx.org::MK86][定理3]]可得 $|M_{n+1}|=\kappa$ 

根据数学归纳法以及 $M_0$ 定义 $M_i,i\in\mathbb{N}$ ，最终定义 $M=\bigcup_{i\in\mathbb{N}}M_i$ [[~/文档/note/离散数学/lssx.org::MK86][同理]]可得 $|M|=\kappa$ 

******* 对于任意 $A\in\text{Def}_1(\mathcal{N},M)$ 均有 $A\cap M\ne\varnothing$

对于任意非空 $A\in\text{Def}_1(\mathcal{N},M)$ 存在对应[[MK129][表达式]] $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$

以及参数 $\left<b_1,...,b_{n-1}\right>\in M^{n-1}$ 根据 $M$ 定义可得对于任意 $b_i$ 必存在 $M_{k_i}$ 满足 $b_i\in M_{k_i}$

且 $k_i\in\mathbb{N}$ 定义 $k=\max(k_1,...,k_n)$ 则有 $\left<b_1,...,b_{n-1}\right>\in (M_k)^{n-1}$

显然易证 $A\in\text{Def}_1(\mathcal{N},M_k)$ 又根据 $M$ 定义可得 $M_{k+1}\cap A=f(A)\in M$

即对于任意非空 $A\in\text{Def}_1(\mathcal{N},M)$ 可得 $A\cap M\ne\varnothing$

******* 证明结论

根据[[MK292][推论]]可得存在 $I$ 使得 $\mathcal{M}=\left<M,I\right>$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]

*** 扩充/裁剪结构<<MK295>>

[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}_1},\mathcal{L}_{\mathcal{A}_2}$ 分别有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 若：

（1） $\mathcal{L}_{\mathcal{A}_1}$ 是 $\mathcal{L}_{\mathcal{A}_2}$ 的[[MK152][裁剪语言]]，即 $\mathcal{A}_1\subset\mathcal{A}_2$

（2） $M=N$

（3） 若 $c\in\mathcal{L}_{\mathcal{A}_1}$ 是[[MK108][常元符号]]，则有 $I(c)=J(c)$

（4） 若 $f\in\mathcal{L}_{\mathcal{A}_1}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ ，对于任意 $\left<a_1,...,a_n\right>\subset M^n$

     有 $I(f)(a_1,...,a_n)=J(f)(a_1,...,a_n)$

（5） 若 $p\in\mathcal{L}_{\mathcal{A}_1}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ 有 $I(p)=J(p)\cap M^n$

则称 $\mathcal{M}$ 是 $\mathcal{N}$ 的裁剪结构， $\mathcal{N}$ 是 $\mathcal{M}$ 的扩充结构

**** 引理

***** 引理1

[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}}$ 是 $\mathcal{L}_{\mathcal{A}\cup C}$ 的[[MK152][裁剪语言]]，其中 $C=\{c_1,...,c_n\}$ 是[[MK108][常元符号]]集合且 $C\cap\mathcal{A}=\varnothing$

对于任意 $\phi'\in\mathcal{L}_{\mathcal{A}\cup C}$ 设 $\phi'$ 中所有[[MK107][变元符号]]下标均小于 $p$ ，则定义 $\phi[j]=\begin{cases}\phi'[j]&\phi'[j]\not\in C\\x_{p+i}&\phi[j]'=c_i\in C\end{cases}$

则对于任意 $\mathcal{L}_{\mathcal{A}\cup C}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 定义 $\mathcal{M}'=\left<M,I'\right>$ 其中 $I'=I-\left\{\left<c_x,x\right>\big|x\in X\right\}$ 则有

（1） $\mathcal{M}'$ 是 $\mathcal{M}$ 的[[MK295][裁剪结构]]

（2） 对于任意 $\mathcal{M}'$ 的[[MK154][赋值]] $v'$ 定义 $v$ 满足 $v(x_i)=\begin{cases}v(x_i)&i<p\\I'(c_{i-p})&i> p\end{cases}$ 则 $\left<\mathcal{M},v\right>\vDash\phi$

     的充要条件是 $\left<\mathcal{M}',v'\right>\vDash\phi'$ 

****** 证明

根据[[MK395][定义]]显然可证（1）

根据[[MK296][定理1]]可得 $v$ 亦为 $\mathcal{M}'$ 的[[MK154][赋值]]，则根据[[MK176][替换定理]]可得 $\left<\mathcal{M}',v'\right>\vDash\phi'$ 的充要条件是 $\left<\mathcal{M}',v\right>\vDash\phi$ 

又根据[[MK296][定理1]]可得 $\left<\mathcal{M}',v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi$

综上所述 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}',v'\right>\vDash\phi'$ 即有（2）

***** 引理2<<MK474>>

[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}_1}$ 是 $\mathcal{L}_{\mathcal{A}_2}$ 的[[MK152][裁剪语言]]，则对于任意 $\mathcal{L}_{\mathcal{A}_2}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK282][子结构]] $\mathcal{N}=\left<N,J\right>$

则根据[[MK299][定理2]]生成的 $\mathcal{L}_{\mathcal{A}_1}$ 上的[[MK295][裁剪结构]] $\mathcal{M}'=\left<M,I'\right>,\mathcal{N}'=\left<N,J'\right>$ 满足 $\mathcal{N}'$ 是 $\mathcal{M}'$ 的[[MK282][子结构]]   

****** 证明

由于 $\mathcal{N}$ 是 $\mathcal{M}$ 的[[MK282][子结构]]，则有：

（1） 对于任意[[MK108][常元符号]] $c\in\mathcal{A}_1$ 有 $I'(c)=I(c)=J(c)=J'(c)$

（2） 对于任意[[MK109][函数符号]] $f\in\mathcal{A}_1$ 以及任意 $\left<a_1,...,a_n\right>\subset N^n$

     均有 $J'(f)(a_1,...,a_n)=J(f)(a_1,...,a_n)=I(f)(a_1,...,a_n)=I'(f)(a_1,...,a_n)$

（3） 对于任意[[MK110][谓词符号]] $p\in\mathcal{L}_{\mathcal{A}_1}$ 有 $J(p)=I(p)\cap N^n$

     又由于 $\mathcal{M}'=\left<M,I'\right>,\mathcal{N}'=\left<N,J'\right>$ ，故有 $J'(p)=J(p),I'(p)=I(p)$

     即有 $J'(p)=I'(p)\cap N^n$

显然根据上述结论可得 $\mathcal{N}'$ 是 $\mathcal{M}'$ 的[[MK282][子结构]]

**** 定理

***** 定理1<<MK296>>

[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}_1},\mathcal{L}_{\mathcal{A}_2}$ 分别有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 且 $\mathcal{N}$ 是 $\mathcal{M}$ 的[[MK295][扩充结构]]

则对于任意[[MK117][项]] $\tau\in T_{\mathcal{A}_1}$ [[MK129][表达式]] $\phi\in\mathcal{L}_{\mathcal{A}_1}$ 以及 $\mathcal{M}$ [[MK154][赋值]] $v$ 均有：

（1） 任意[[MK129][表达式]] $\phi\in\mathcal{L}_{\mathcal{A}_1}$ 有 $\phi\in\mathcal{L}_{\mathcal{A}_2}$

（2） 任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 亦为 $\mathcal{N}$ [[MK154][赋值]]，任意 $\mathcal{N}$ [[MK154][赋值]] $u$ 亦为 $\mathcal{M}$ [[MK154][赋值]]

（3） 任意 $\mathcal{L}_{\mathcal{A}_1}$ 的[[MK117][项]] $\tau$ 有 $\mathcal{M}$ [[MK154][赋值]]下的 $\bar{v}(\tau)$ 与 $\mathcal{N}$ [[MK154][赋值]]下的 $\bar{v}(\tau)$ 相等

（4） $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{N},v\right>\vDash\phi$ 

****** 证明

******* 证明（1）

由于 $\mathcal{A}_1\subset\mathcal{A}_2$ ，且[[MK105][固定符号]]一致，故可得 $\phi$ 中的非固定符号亦在 $\mathcal{A}_2$ 中

故可得 $\phi\in\mathcal{L}_{\mathcal{A}_2}$ 

******* 证明（2）<<MK297>>

由于是 $\mathcal{M}$ [[MK154][赋值]]，故对于任意 $\mathcal{L}_{\mathcal{A}_1}$ 中的[[MK105][变元符号]] $x_i$ 均有 $v(x_i)\in M=N$

由于 $\mathcal{L}_{\mathcal{A}_1},\mathcal{L}_{\mathcal{A}_2}$ 中变元符号相等，故 $\mathcal{L}_{\mathcal{A}_2}$ 中的[[MK105][变元符号]] $x_i$ 均有 $v(x_i)\in N$

故根据[[MK154][赋值定义]]可得 $v$ 亦为 $\mathcal{N}$ 赋值

若 $u$ 为 $\mathcal{N}$ [[MK154][赋值]]，对于任意 $\mathcal{L}_{\mathcal{A}_2}$ 中的[[MK105][变元符号]] $x_i$ 均有 $v(x_i)\in N=M$

同理可证 $\mathcal{L}_{\mathcal{A}_1}$ 中的[[MK105][变元符号]] $x_i$ 亦有 $v(x_i)\in M=N$

故根据[[MK154][赋值定义]]可得 $v$ 亦为 $\mathcal{M}$ 赋值

******* 证明（3）<<MK298>>

根据 $|\tau|<\infty$ 数学归纳法以及以下证明可得结论（3）

******** $|\tau|=1$ 时

根据[[MK126][唯一可读性]]有且仅有以下两种情况：

当 $\tau=x_i$ 时由于 $\mathcal{M}$ 下和于 $\mathcal{N}$ 下的[[MK154][赋值]]均为 $v$ 故相等

当 $\tau=c_i$ 时显然 $c_i\in\mathcal{A}_1\subset\mathcal{A}_2$ 又根据[[MK295][扩充结构定义]]有 $\bar{v}(\tau)=I(c_i)=J(c_i)$

******** 归纳假设

对于任意 $\tau\in T_\mathcal{A}_1$ 若 $1<|\tau|<n$ 均有结论（3）成立

******** $|\tau|=n$ 时

根据[[MK126][唯一可读性]]有且仅有 $f_i(\tau_1,...,\tau_n)$ 形式，显然 $\tau_i\in\mathcal{L}_{\mathcal{A}_1}$ 故有 $\tau_i\in\mathcal{L}_{\mathcal{A}_2}$

又由于 $|\tau_i|<n$ 则根据归纳假设有 $\mathcal{M}$ [[MK154][赋值]]下的 $\bar{v}(\tau_i)$ 与 $\mathcal{N}$ [[MK154][赋值]]下的 $\bar{v}(\tau_i)$ 相等

显然 $<\bar{v}(\tau_1),...,\bar{v}(\tau_n)>\in M^n=N^n$ 根据[[MK295][扩充结构定义]]有 $I(f)(\bar{v}(\tau_1),...,\bar{v}(\tau_n))=J(f)(\bar{v}(\tau_1),...,\bar{v}(\tau_n))$

******* 证明（4）

定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数，根据数学归纳法， $z(\phi)<\infty$ 以及以下证明

可以证得当 $\left<\mathcal{N},v\right>\vDash\phi$ 时有 $\left<\mathcal{M},v\right>\vDash\phi$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 有 $\left<\mathcal{N},v\right>\vDash\phi$ 类似可证 

******** $z(\phi)=1$ 时

根据[[MK137][唯一可读性]]有且仅有以下情况

********* $\phi=(\tau_1\hat{=}\tau_2)$

由 $\left<\mathcal{N},v\right>\vDash\phi$ 根据[[MK158][满足]]可得在 $\mathcal{N}$ 下有 $\bar{v}(\tau_1)=\bar{v}(\tau_2)$ 根据[[MK298][之前证明]]可得在 $\mathcal{M}$ 下亦有 $\bar{v}(\tau_1)=\bar{v}(\tau_2)$

同理根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi$ 

********* $\phi=p_i(\mu_1,...,\mu_n)$

由 $\left<\mathcal{N},v\right>\vDash\phi$ 根据[[MK158][满足]]可得有 $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>\in J(p_i)$

根据[[MK298][之前证明]]以及[[MK295][扩充定义]]可得在 $\mathcal{M}$ 下亦有 $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>\in I(p_i)$

根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi$ 

******** 归纳假设

对于任意 $1<z(\phi)<n$ 的 $\phi\in\mathcal{L}_{\mathcal{A}_1}$ 均有 $\left<\mathcal{N},v\right>\vDash\phi$ 可得 $\left<\mathcal{M},v\right>\vDash\phi$

******** $z(\phi)=n$ 时

根据[[MK137][唯一可读性]]，有且仅有以下可能形式

********* $\phi=(\lnot\psi_1)$

由 $\left<\mathcal{N},v\right>\vDash\phi$ 根据[[MK158][满足]]可得 $\left<\mathcal{N},v\right>\not\vDash\psi_1$ 显然 $z(\psi_i)<n$ 则根据归纳假设有 $\left<\mathcal{M},v\right>\not\vDash\psi_1$

则根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi$ 

********* $\phi=(\psi_1\to\psi_2)$

由 $\left<\mathcal{N},v\right>\vDash\phi$ 根据[[MK158][满足]]可得 $\left<\mathcal{N},v\right>\not\vDash\psi_1$ 或 $\left<\mathcal{N},v\right>\vDash\psi_2$

显然 $z(\psi_i)<n$ 则根据归纳假设有 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 或 $\left<\mathcal{M},v\right>\vDash\psi_2$

则根据[[MK158][满足]] $\left<\mathcal{M},v>\vDash\phi$ 

********* $\phi=(\forall x_i\psi_1)$

对于任意 $\mathcal{M}$ [[MK154][赋值]] $\alpha:X\to M$ 若满足对于任意 $\psi_1$ 中除 $x_i$ 的[[MK140][自由变元]] $x_{i_j}$ 有 $\alpha(x_{i_j})=v(x_{i_j})$

则根据[[MK297][之前证明]]可得 $\alpha$ 亦为 $\mathcal{N}$ [[MK154][赋值]]，且满足对于任意 $\psi_1$ 中除 $x_i$ 的[[MK140][自由变元]] $x_{i_j}$ 有 $\alpha(x_{i_j})=v(x_{i_j})$

故由 $\left<\mathcal{N},v\right>\vDash\phi$ 根据[[MK158][满足]]可得 $\left<\mathcal{N},\alpha\right>\vDash\psi_1$ 显然 $z(\psi_1)<n$

根据归纳假设有 $\left<\mathcal{M},\alpha\right>\vDash\psi_1$ 同理根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash\phi$

***** 定理2<<MK299>>

[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}_1}$ 是 $\mathcal{L}_{\mathcal{A}_2}$ 的[[MK152][裁剪语言]]，则对于任意 $\mathcal{L}_{\mathcal{A}_2}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$

存在 $\mathcal{L}_{\mathcal{A}_1}$ 的[[MK153][结构]] $\mathcal{M}'=\left<M,I'\right>$ 满足 $\mathcal{M}'$ 是 $\mathcal{M}$ 的[[MK295][裁剪结构]]

****** 证明

定义 $I'$ 满足：

（1） 对于任意[[MK108][常元符号]] $c\in\mathcal{A}_1$ 均有 $c\in\mathcal{A}_2$ ，故定义 $I'(c)=I(c)$

（2） 对于任意[[MK109][函数符号]] $f\in\mathcal{A}_1$ 亦有 $f\in\mathcal{A}_2$ ，故 $I(f):M^n\to M$ 是[[~/文档/note/离散数学/lssx.org::MK175][映射]]

     则对于任意 $\left<a_1,...,a_n\right>\subset M^n$ 均有 $I(f)(a_1,...,a_n)\in M$

     故定义 $I'(f)(a_1,...,a_n)=I(f)(a_1,...,a_n)$

（3） 对于任意[[MK110][谓词符号]] $p\in\mathcal{L}_{\mathcal{A}_1}$ 定义 $I'(p)=I(p)\cap M^n$

定义 $\mathcal{M}'=\left<M,I'\right>$ 显然对于任意 $\mathcal{A}_1$ 中的符号 $\mathcal{M}'$ 均有解释，故根据[[MK153][结构]]定义可得 $\mathcal{M}'$ 是 $\mathcal{L}_{\mathcal{A}_1}$ 的[[MK153][结构]]

由于 $M=M$ 以及 $I'$ 的定义，可得 $\mathcal{M}'$ 是 $\mathcal{M}$ 的[[MK295][裁剪结构]]

*** 嵌入<<MK300>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]，存在[[~/文档/note/离散数学/lssx.org::MK175][函数]] $e:M\to N$ 满足：

（1） $e$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

（2） 若 $c\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]]，则有 $e(I(c))=J(c)$

（3） 若 $f\in\mathcal{L}_\mathcal{A}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ ，则对于任意 $\left<a_1,...,a_n\right>\in M^n$ 使得 $I(f)(a_1,...,a_n)$ 有定义

     有 $e(I(f)(a_1,...,a_n))=J(f)(e(a_1),...,e(a_n))$

（4） 若 $p\in\mathcal{L}_\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ ，则对于任意 $\left<a_1,...,a_n\right>\in M^n$

     $\left<a_1,...,a_n\right>\in I(p)$ 的充要条件是 $\left<e(a_1),...,e(a_n)\right>\in J(p)$

则称 $\mathcal{M}$ 是 $\mathcal{N}$ 的嵌入结构，并定义 $e$ 是 $\mathcal{M}$ 到 $\mathcal{N}$ 的嵌入映射

**** 同质嵌入<<MK301>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]，存在[[~/文档/note/离散数学/lssx.org::MK175][函数]] $e:M\to N$ 使得

对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 以及[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$

则称 $\mathcal{M}$ 是 $\mathcal{N}$ 的同质嵌入结构，并定义 $e$ 是 $\mathcal{M}$ 到 $\mathcal{N}$ 的同质嵌入映射

***** 引理1<<MK302>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]

存在[[~/文档/note/离散数学/lssx.org::MK175][函数]] $e:M\to N$ 是 $\mathcal{M}$ 到 $\mathcal{N}$ 的[[MK301][同质嵌入映射]]，则 $e$ 必为[[MK300][嵌入映射]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

****** 证明

根据[[MK300][嵌入映射]]定义以及下列证明可证的 $e$ 为[[MK300][嵌入映射]]

******* $e$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

假设不为[[~/文档/note/离散数学/lssx.org::MK176][单射]]，则存在 $\{a_1,a_2\}\subset M$ 满足 $e(a_1)=e(a_2)$

定义[[MK129][表达式]] $\phi=(\lnot(x_1\hat{=}x_2))$ 以及[[MK154][赋值]] $v$ 满足 $v(x_1)=a_1,v(x_2)=a_2$

显然 $a_1\ne a_2$ 则根据[[MK158][满足]]易证有 $\left<\mathcal{M},v\right>\vDash\phi$ 又由于 $v\cdot e(x_1)=e(v(x_1))=e(a_1)=e(a_2)=v\cdot e(x_2)$

即 $v\cdot e(x_1)=v\cdot e(x_2)$ 则根据[[MK158][满足]]易证有 $\left<\mathcal{N},v\cdot e\right>\not\vDash\phi$

与 $\mathcal{M}$ 到 $\mathcal{N}$ 的[[MK301][同质嵌入映射]]矛盾，故假设不成立 $e$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

******* [[MK108][常元符号]]

对于任意 $c\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]]，定义[[MK129][表达式]] $\phi=(x_1\hat{=}c)$ 定义[[MK154][赋值]] $v$ 满足 $v(x_1)=I(c)$

则有 $\left<\mathcal{M},v\right>\vDash\phi$ 则根据[[MK301][同质嵌入映射]]定义有 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$

故根据[[MK158][满足]]定义可得 $v\cdot e(x_1)=J(c)$ 根据函数[[~/文档/note/离散数学/lssx.org::MK187][复合]]可得 $v\cdot e(x_1)=e(v(x_1))=e(I(c))=J(c)$ 

******* [[MK109][函数符号]]

若 $f\in\mathcal{L}_\mathcal{A}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ 定义[[MK129][表达式]] $\phi=(f(x_1,...,x_n)\hat{=}x_{n+1})$

对于任意一组使得 $I(f)$ 有定义的 $\left<a_1,...,a_n\right>\in M^n$ 定义[[MK154][赋值]] $v$

满足 $v(x_i)=a_i,1\leq i\leq n$ 以及 $v(x_{n+1})=I(f)(a_1,...,a_n)=a_{n+1}$

则根据[[MK158][满足]]易证 $\left<\mathcal{M},v\right>\vDash\phi$ 即有 $I(f)(a_1,...,a_n)=a_{n+1}$ 

则根据[[MK301][同质嵌入映射]]定义有 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$ 根据[[MK158][满足]]有 $J(f)(v\cdot e(x_1),...,v\cdot e(x_n))=v\cdot e(x_{n+1})$

根据函数[[~/文档/note/离散数学/lssx.org::MK187][复合]] $J(f)(e(a_1),...,e(a_n))=e(a_{n+1})$ 进而 $e(I(f)(a_1,...,a_n))=J(f)(e(a_1),...,e(a_n))$

******* [[MK110][谓词符号]]

若 $p\in\mathcal{L}_\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ ，则对于任意 $\left<a_1,...,a_n\right>\subset M^n$ 且 $\left<a_1,...,a_n\right>\in I(p)$

定义[[MK129][表达式]] $\phi=p(x_1,...,x_n)$ 以及[[MK154][赋值]] $v$ 满足 $v(x_i)=a_i$ 则根据[[MK158][满足]]易证 $\left<<\mathcal{M},v>\vDash\phi$

根据[[MK301][同质嵌入映射]]定义有 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$ ，同理根据[[MK158][满足]]有 $\left<v\cdot e(x_1),...,v\cdot e(x_n)\right>\in J(p)$

根据函数[[~/文档/note/离散数学/lssx.org::MK187][复合]] $\left<e(a_1),...,e(a_n)\right>\in J(p)$

***** 引理2<<MK496>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 满足：

（1） 对于任意 $a\in M$ 存在 $c_a\in\mathcal{A}$ ，且对于任意 $\{a,b\}\subset M\land a\ne b$ 有 $c_a\ne c_b$

（2） 定义 $T=\left\{\theta\big|\theta\in\Theta\land\mathcal{M}\vDash\theta\right\}$ 其中 $\Theta$ 为[[MK151][语言]] $\mathcal{L}_{\mathcal{A}^*}$ 中所有的[[MK144][语句]]，则有 $\mathcal{N}\vDash T$

则有 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]，且[[MK301][同质嵌入映射]] $e$ 满足 $e(a)=J(c_a)$

****** 证明

对于任意 $a\in M$ 定义[[~/文档/note/离散数学/lssx.org::MK175][函数]] $e:M\to N$ 满足 $e(a)=J(c_a)$

则对于任意 $\phi(x_1,...,x_n)\in\mathcal{L}_{\mathcal{A}}$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 若 $\left<\mathcal{M}^ *,v\right>\vDash\phi(x_1,...,x_n)$

定义 $v(x_i)=a_i$ 则有 $v(x_i)=\bar{v}(c_{a_i})=I^*(c_{a_i})$

故根据[[MK176][替换定理]]可得其充要条件为 $\left<\mathcal{M}^*,v\right>\vDash\phi(\left<x_1,...,x_n\right>,\left<c_{a_1},...,c_{a_n}\right>)$

显然 $\phi(\left<x_1,...,x_n\right>,\left<c_{a_1},...,c_{a_n}\right>)$ 是[[MK144][语句]]，则根据[[MK169][推论]]有其充要条件为 $\mathcal{M}^*\vDash\phi(\left<x_1,...,x_n\right>,\left<c_{a_1},...,c_{a_n}\right>)$

则根据 $T_0$ 定义有 $\phi(\left<x_1,...,x_n\right>,\left<c_{a_1},...,c_{a_n}\right>)\in T_0$

根据[[MK304][上步证明]]可得 $\mathcal{N}^{ *}\vDash T_0\cup\left\{(\lnot(c_a\hat{=}c_\alpha))\big|a\in M\land \alpha\in\kappa\right\}$ 故有 $\mathcal{N}^ *\vDash\phi(\left<x_1,...,x_n\right>,\left<c_{a_1},...,c_{a_n}\right>)$

显然 $v\cdot e$ 是 $\mathcal{N}^*$ 的[[MK154][赋值]]且有 $v\cdot e(x_i)=e(v(x_i))=e(a_i)=J^*(c_{a_i})$

又根据[[MK155][项赋值]]可得 $\overline{v\cdot e}(c_{a_i})=J^*(c_{a_i})$ 故根据[[MK176][替换定理]]以及[[MK169][推论]]

可得 $\mathcal{N}^ *\vDash\phi(\left<x_1,...,x_n\right>,\left<c_{a_1},...,c_{a_n}\right>)$ 的充要条件是 $\left<\mathcal{N}^ *,v\cdot e\right>\vDash\phi(x_1,...,x_n)$

综上所述，对于任意 $\mathcal{M}^*$ [[MK154][赋值]] $v$ 以及任意 $\phi\in\mathcal{L}_{\mathcal{A}^*}$ ， $\left<\mathcal{M}^*,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N}^*,v\cdot e\right>\vDash\phi$

故根据[[MK301][定义]]可得 $\mathcal{M}^*$ 是 $\mathcal{N}^*$ 的同质嵌入

***** 传递性<<MK241>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}_1=\left<M_1,I_1\right>,\mathcal{M}_2=\left<M_2,I_2\right>,\mathcal{M}_3=\left<M_3,I_3\right>$ 满足 $\mathcal{M}_1\prec\mathcal{M}_2,\mathcal{M}_2\prec\mathcal{M}_3$

即 $\mathcal{M}_1$ 是 $\mathcal{M}_2$ 的[[MK301][同质嵌入]] ， $\mathcal{M}_2$ 是 $\mathcal{M}_3$ 的[[MK301][同质嵌入]] ，则有 $\mathcal{M}_1\prec\mathcal{M}_3$

****** 证明

设 $e_1:M_1\to M_2,e_2:M_2\to M_3$ 分别为[[MK301][同质嵌入映射]]，则定义 $e=e_1\cdot e_2$

则对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 以及 $\mathcal{M}_1$ [[MK154][赋值]] $v$ 有 $\left<\mathcal{M}_1,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_1,v\cdot e_1\right>\vDash\phi$

同理亦有 $\left<\mathcal{M}_1,v\cdot e_1\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_3,v\cdot e_1\cdot e_2\right>\vDash\phi$ 即 $\left<\mathcal{M}_3,v\cdot e\right>\vDash\phi$

则有 $\mathcal{M}_1\prec\mathcal{M}_3$

***** 定理1<<MK492>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$

则 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]的充要条件是存在 $\mathcal{N}$ 的[[MK287][同质子结构]] $\mathcal{N}'$ 与 $\mathcal{M}$ [[MK274][同构]]

****** 证明

******* 充分

根据[[MK302][引理]]可得[[MK301][同质嵌入映射]] $e$ 是[[MK300][嵌入映射]]，根据[[MK312][定理]]可得存在 $\mathcal{N}$ 的[[MK282][子结构]] $\mathcal{N}'$ 与 $\mathcal{M}$ [[MK274][同构]]

定义[[MK274][同构映射]]为 $e'$ 则根据[[MK275][引理]]可得逆映射 $(e')^{-1}$ 亦为[[MK274][同构映射]],则对于任意 $\mathcal{N}'$ [[MK154][赋值]] $v$ 以及[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$

根据[[MK276][定理]]可得 $\left<\mathcal{N}',v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{M},v\cdot (e')^{-1}\right>\vDash\phi$

又根据[[MK300][同质嵌入]]定义可得 $\left<\mathcal{M},v\cdot (e')^{-1}\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{N},v\cdot (e')^{-1}\cdot e\right>\vDash\phi$

由于 $(e')$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]，故根据[[~/文档/note/离散数学/lssx.org::MK190][性质2]]可得 $(e')^{-1}$ 亦为[[~/文档/note/离散数学/lssx.org::MK181][双射]]，故对于任意 $a\in N'$ 存在 $b\in M$ 使得 $e'^{-1}(a)=b$

又根据[[MK312][定理]]可得 $e'$ 与 $e$ 区别仅为值域不同，即有对于任意 $b\in M$ 均有 $e'(b)=e(b)$

即有 $e(e'^{-1}(a))=e'(e'^{-1}(a))=a$ 故可得 $v\cdot (e')^{-1}\cdot e=v$ 即 $\left<\mathcal{N},v\right>\vDash\phi$

综上所述， $\left<\mathcal{N}',v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{N},v\right>\vDash\phi$ 结合 $\mathcal{N}'$ 是 $\mathcal{N}$ 的[[MK282][子结构]]

可得 $\mathcal{N}'$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]

******* 必要

若存在 $\mathcal{N}$ 的[[MK287][同质子结构]] $\mathcal{N}'=\left<N',J'\right>$ 与 $\mathcal{M}$ [[MK274][同构]]，则定义[[MK274][同构映射]]为 $e':M\to N'$

则对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 以及[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 根据[[MK276][定理]]可得 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{N}',v\cdot e'\right>\vDash\phi$

则定义 $e:M\to N$ 为 $e=e'$ 仅有值域不同，显然对于任意[[MK107][变元符号]] $x_i$ 均有 $v\cdot e'(x_i)=v\cdot e(x_i)$

则根据[[MK168][局部确定性定理]]可得 $\left<\mathcal{N}',v\cdot e'\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N}',v\cdot e\right>\vDash\phi$

有由于 $\mathcal{N}'$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]，故有 $\left<\mathcal{N}',v\cdot e\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$

综上所述， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$ 即 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]

***** 定理2（嵌入放大）<<MK303>>

[[MK151][一阶可数语言]] $\mathcal{L}_\mathcal{A}$ 存在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 其中 $M$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]

对于任意[[~/文档/note/离散数学/lssx.org::MK35][基数]] $\kappa$ 满足 $|\kappa|\geq|M|$ 均存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{N}'=\left<N',J\right>$ 满足：

（1） $|\mathcal{N}'|=\kappa$

（2） $\mathcal{M}$ 是 $\mathcal{N}'$ 的[[MK301][同质嵌入]]

****** 证明

定义 $\mathcal{A}^*=\mathcal{A}\cup\left\{c_a\big|a\in M\right\},\mathcal{A}^{**}=\mathcal{A}^ *\cup\left\{c_\alpha\big|\alpha\in\kappa\right\}$ 定义 $I^*=I\cup\left\{\left<c_a,a\right>\big|a\in M\right\}$

进一步定义[[MK151][语言]] $\mathcal{L}_{\mathcal{A}^*}$ 的[[MK153][结构]] $\mathcal{M}^*=\left<M,I^*\right>$

显然 $\mathcal{L}_{\mathcal{A}}$ 是 $\mathcal{L}_{\mathcal{A}^{ *}}$ 的[[MK152][裁剪语言]]，且根据 $I^{ *}$ 定义可得 $\mathcal{M}$ 是 $\mathcal{M}^{ *}$ 的[[MK295][裁剪结构]]

定义 $\Theta$ 为[[MK151][语言]] $\mathcal{L}_{\mathcal{A}^*}$ 中所有的[[MK144][语句]]，进一步定义 $T_0=\left\{\theta\big|\theta\in\Theta\land\mathcal{M}^*\vDash\theta\right\}$

定义 $T=T_0\cup\left\{(\lnot(c_a\hat{=}c_\alpha))\big|a\in M\land \alpha\in\kappa\right\}\cup\left\{(\lnot(c_\alpha\hat{ =}c_\beta))\big|\alpha\in\kappa\land\beta\in\kappa\land\alpha\ne\beta\right\}$

显然 $T$ 是[[MK151][语言]] $\mathcal{L}_{\mathcal{A}^{**}}$ 中的[[MK144][语句]]集合， $T_0\cup\left\{(\lnot(c_a\hat{=}c_\alpha))\big|a\in M\land \alpha\in\kappa\right\}$ 是 $\mathcal{L}_{\mathcal{A}^{ *}}$ 中的[[MK144][语句]]集合

******* 证明 $T$ [[MK222][一致]]

任取[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $E\subset T$ 根据 $T_0$ 定义可得 $\mathcal{M}^*\vDash E\cap T_0$

由于 $E$ 是[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，故可设 $E-T_0$ 包含的常元符号有 $\{c_{a_1},...,c_{a_n},c_{\alpha_1},...,c_{\alpha_m}\}$ 满足 $a_i\in M,\alpha_j\in\kappa$

由于 $M$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]，故可取 $\{b_1,...,b_m\}\subset (M-\{a_1,...,a_n\})$ ，则定义 $I^{**}=I^*\cup\left\{\left<c_{\alpha_i},b_i\right>\big|1\leq i\leq m\right\}$

定义 $\mathcal{M}^{**}=\left<M,I^{**}\right>$ ，显然 $\mathcal{L}_{\mathcal{A}^ *}$ 是 $\mathcal{L}_{\mathcal{A}^{ * *}}$ 的[[MK152][裁剪语言]]，且根据 $I^{ * *}$ 定义可得 $\mathcal{M}^*$ 是 $\mathcal{M}^{ * *}$ 的[[MK295][裁剪结构]]

则根据[[MK296][定理]]、[[MK169][推论]]以及 $\mathcal{M}^*\vDash E\cap T_0$ 可得 $\mathcal{M}^{**}\vDash E\cap T_0$

对于任意 $(\lnot(c_{a_i}\hat{=}c_{\alpha_j}))\in E$ 有 $I^{**}(c_{a_i})=a_i,I^{**}(c_{\alpha_j})=b_j$ 显然根据 $a_i,b_j$ 定义可得 $a_i\ne b_j$

则根据[[MK158][满足]]定义可得 $\mathcal{M}^{**}\not\vDash(c_{a_i}\hat{=}c_{\alpha_j})$ 以及 $\mathcal{M}^{ * *}\vDash(\lnot(c_{a_i}\hat{ =}c_{\alpha_j}))$

对于任意 $(\lnot(c_{\alpha_i}\hat{=}c_{\alpha_j}))\in E$ 有 $I^{**}(c_{\alpha_i})=b_i,I^{**}(c_{\alpha_j})=b_j$ 同上可得 $\mathcal{M}^{ * *}\vDash(\lnot(c_{\alpha_i}\hat{ =}c_{\alpha_j}))$

综上所述，对于任意[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $E\subset T$ 存在 $\mathcal{L}_{\mathcal{A}^{**}}$ 的[[MK153][结构]] $\mathcal{M}^{ * *}=\left<M,I^ { * *}\right>$ 使得 $\mathcal{M}^{ * *}\vDash E$

显然 $E$ [[MK189][可满足]]，根据[[MK254][第一完备性]]可得 $E$ 是[[MK222][一致]]的，进而根据[[MK271][紧致性定理]]可得 $T$ 是[[MK222][一致]]的

******* 定义 $\mathcal{N}^{**}=\left<N,J^{**}\right>\vDash T$

根据[[MK254][第一完备性]]以及 $T$ 是[[MK222][一致]]可得 $T$ [[MK189][可满足]]，由于 $T$ 是[[MK151][语言]] $\mathcal{L}_{\mathcal{A}^{**}}$ 中的[[MK144][语句]]集合

则存在 $\mathcal{L}_{\mathcal{A}^{**}}$ 的[[MK153][结构]] $\mathcal{N}^{ * *}=\left<N,J^{ * *}\right>$ 及其[[MK154][赋值]] $v$ 使得 $\left<\mathcal{N}^{ * *},v\right>\vDash T$

由于 $T$ 是[[MK144][语句]]，则根据[[MK169][推论]]可得 $\mathcal{N}^{**}\vDash T$

******* $\kappa\leq|N|$

定义 $\sigma:\kappa\to N$ 为 $\sigma(\alpha)=J^{** }(c_\alpha)$ ，则对于任意 $\{\alpha,\beta\}\subset\kappa$ 有 $\sigma(\alpha)=J^{**}(c_\alpha)\in N,\sigma(\beta)=J^{**}(c_\beta)\in N$

且根据 $T$ 定义以及 $\mathcal{N}^{**}\vDash T$ 可得 $\mathcal{N}^{ * *}\vDash(\lnot(c_\alpha\hat{=}c_\beta))$ 根据[[MK158][满足]]易证 $J^{ * *}(c_\alpha)\ne J^{ * *}(c_\beta)$ 即 $\sigma(\alpha)\ne\sigma(\beta)$

故可得 $\sigma$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]，根据[[~/文档/note/离散数学/lssx.org::MK29][等势]]定义可得 $\kappa\leq|N|$

******* 存在 $\mathcal{N}^*=\left<N,J^ *\right>$ 满足 $\mathcal{N}^ *\vDash T_0$ <<MK304>>

显然 $\mathcal{L}_{\mathcal{A}^{*}}$ 是 $\mathcal{L}_{\mathcal{A}^{ * *}}$ 的[[MK152][裁剪语言]]，根据[[MK222][定理2]]可得存在 $\mathcal{N}^*=\left<N,J^ *\right>$ 是 $\mathcal{N}^{ * *}$ 的[[MK295][裁剪结构]]

又根据[[MK296][定理1]]以及[[MK169][推论]]易证对于任意[[MK144][语句]] $\theta\in\mathcal{L}_{\mathcal{A}^{* }}$ 有 $\mathcal{N}^{**}\vDash\theta$ 的充要条件是 $\mathcal{N}^{ *}\vDash\theta$

故根据 $\mathcal{N}^{**}\vDash T$ 可得 $\mathcal{N}^{ *}\vDash T_0\cup\left\{(\lnot(c_a\hat{=}c_\alpha))\big|a\in M\land \alpha\in\kappa\right\}$

******* $\mathcal{M}^*$ 是 $\mathcal{N}^*$ 的[[MK301][同质嵌入]]<<MK305>>

根据 $\mathcal{L}_{\mathcal{A}^{ *}}$ 定义可得对于任意 $a\in M$ 存在 $c_a\in \mathcal{A}^*$ 满足 $I^*(c_a)=a$

根据上一步可得 $\mathcal{N}^{ *}\vDash T_0\cup\left\{(\lnot(c_a\hat{=}c_\alpha))\big|a\in M\land \alpha\in\kappa\right\}$ 其中 $T_0=\left\{\theta\big|\theta\in\Theta\land\mathcal{M}^*\vDash\theta\right\}$

则根据[[MK496][引理2]]可得 $\mathcal{M}^*$ 是 $\mathcal{N}^*$ 的[[MK301][同质嵌入]]，且[[MK301][同质嵌入映射]] $e$ 满足 $e(a)=J(c_a)$

******* 存在 $\mathcal{N}^*'=\left<N',J^*'\right>$ 满足 $|N'|=|\kappa|$ 且 $\mathcal{M}^*$ 是 $\mathcal{N}^*'$ 的[[MK301][同质嵌入]]

根据 $\mathcal{L}_\mathcal{A}$ 是[[MK151][可数语言]]以及[[MK294][同质缩小]]可得存在 $\mathcal{N}^*'=\left<N',J^*'\right>$ 满足 $N'\subset N,|N'| =\kappa$ 且是 $\mathcal{N}^*$ 的[[MK287][同质子结构]]

根据[[MK282][子结构]]定义可得，对于任意 $c_a\in\mathcal{A}^*$ 有 $J^*(c_a)=J^*'(c_a)$

则上一步定义的[[~/文档/note/离散数学/lssx.org::MK175][函数]] $e:M\to N$ 亦为 $e:M\to N'$ 的[[~/文档/note/离散数学/lssx.org::MK175][函数]]，且显然 $v\cdot e$ 亦是 $\mathcal{N}^*'$ 的[[MK154][赋值]]

根据[[MK305][上一步结论]]对于任意 $\mathcal{M}^*$ [[MK154][赋值]] $v$ 以及任意 $\phi\in\mathcal{L}_{\mathcal{A}^*}$ ， $\left<\mathcal{M}^*,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N}^*,v\cdot e\right>\vDash\phi$

又由于 $v\cdot e$ 是 $\mathcal{N}^*'$ 的[[MK154][赋值]]以及 $\mathcal{N}^*'$ 是 $\mathcal{N}^*$ 的[[MK287][同质子结构]]可得 $\left<\mathcal{N}^*,v\cdot e\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N}^*',v\cdot e\right>\vDash\phi$

综上所述，对于任意 $\mathcal{M}^*$ [[MK154][赋值]] $v$ 以及任意 $\phi\in\mathcal{L}_{\mathcal{A}^*}$ ， $\left<\mathcal{M}^*,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N}^*',v\cdot e\right>\vDash\phi$

故根据[[MK301][定义]]可得 $\mathcal{M}^*$ 是 $\mathcal{N}^*'$ 的同质嵌入

******* $\mathcal{M}$ 是 $\mathcal{N}'$ 的[[MK301][同质嵌入]]

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ ，若 $\left<\mathcal{M},v\right>\vDash\phi$

由于 $\mathcal{M}$ 是 $\mathcal{M}^{ *}$ 的[[MK295][裁剪结构]]，根据[[MK296][定理1]]其充要条件为 $\left<\mathcal{M}^ *,v\right>\vDash\phi$

根据上一步证明可得 $\left<\mathcal{M}^ *,v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{N}^ *',v\cdot e\right>\vDash\phi$

显然 $\mathcal{L}_\mathcal{A}$ 是 $\mathcal{L}_{\mathcal{A}^*}$ 的[[MK152][裁剪语言]]，根据[[MK222][定理2]]可得存在 $\mathcal{N}'=\left<N',J'\right>$ 是 $\mathcal{N}^ *'$ 的[[MK295][裁剪结构]]

根据[[MK296][定理1]]的结论（2）可得 $v\cdot e$ 亦为 $\mathcal{N}'$ 的[[MK154][赋值]]

则根据[[MK296][定理1]]的结论（4）以及 $\phi\in\mathcal{L}_\mathcal{A}$ 可得 $\left<\mathcal{N}^ *',v\cdot e\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N}',v\cdot e\right>\vDash\phi$

综上所述，对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N}',v\cdot e\right>\vDash\phi$

故根据[[MK301][定义]]可得 $\mathcal{M}$ 是 $\mathcal{N}'$ 的同质嵌入

***** 定理3（同质链极限）<<MK306>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在[[MK153][结构]]序列 $\left\{\mathcal{M}_n=\left<M_n, I_n\right>\big|n\subset\mathbb{N}\right\}$ 以及[[~/文档/note/离散数学/lssx.org::MK175][函数]] $\left\{e_{in}\big|i<n<\infty\right\}$ 满足

（1） $e_{in}:M_i\to M_n$ 是 $\mathcal{M}_i$ 到 $\mathcal{M}_n$ 的[[MK301][同质嵌入映射]]

（2） 对于任意 $i<n<m$ 均有 $e_{im}=e_{nm}\cdot e_{in}$ 

则存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}_\infty=\left<M_\infty, I_\infty\right>$ 以及[[~/文档/note/离散数学/lssx.org::MK175][函数]] $\left\{e_{i\infty}\big|i<\infty\right\}$ 满足

（1） 任意 $e_{i\infty}:M_i\to M_\infty$ 是 $\mathcal{M}_i$ 到 $\mathcal{M}_\infty$ 的[[MK301][同质嵌入映射]]

（2） 任意 $i<n<\infty$ 均有 $e_{i\infty}=e_{in}\cdot e_{n\infty}$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

****** 证明

******* 定义 $M_\infty$ <<MK426>>

定义 $N=\bigcup_{n\in\mathbb{N}}(M_n\times \{n\})$ 定义关系 $\sim=\left\{\left<\left<a,i\right>,\left<b,j\right>\right>\big|\exists k(k>\max(i,j)\land e_{ik}(a)=e_{jk}(b))\right\}$

则根据下列证明可得 $\sim$ 是[[~/文档/note/离散数学/lssx.org::MK132][等价关系]]，进而定义 $M_\infty=\left\{[\left<a,i\right>]_\sim\big|\left<a,i\right>\in N\right\}$

其中 $[\left<a,i\right>]_\sim$ 是[[~/文档/note/离散数学/lssx.org::MK132][等价关系]] $\sim$ 下包含 $\left<a,i\right>$ 的[[~/文档/note/离散数学/lssx.org::MK133][等价类]]

******** $\sim$ 是[[~/文档/note/离散数学/lssx.org::MK132][等价关系]]<<MK307>>

显然 $\sim$ 满足[[~/文档/note/离散数学/lssx.org::MK124][自反性]]，[[~/文档/note/离散数学/lssx.org::MK126][对称性]]。

若有 $\left<a,i\right>\sim\left<b,j\right>,\left<b,j\right>\sim\left<c,m\right>$ 则存在 $k_1,k_2$ 满足 $e_{ik_1}(a)=e_{jk_1}(b),e_{jk_2}(b)=e_{mk_2}(c)$

则定义 $k>\max(k_1,k_2)$ 则有 $e_{ik}(a)=e_{k_1k}(e_{ik_1}(a))=e_{k_1k}(e_{jk_1}(b))=e_{jk}(b)$

以及 $e_{mk}(c)=e_{k_2k}(e_{mk_2}(c))=e_{k_2k}(e_{jk_2}(b))=e_{jk}(b)$ 即有 $e_{ik}(a)=e_{mk}(c)$

显然 $k>k_1>i,k>k_2>m$ 故有 $\left<a,i\right>\sim\left<c,m\right>$ 即关系 $\sim$ 满足[[~/文档/note/离散数学/lssx.org::MK128][传递性]]

******* 定义 $I_\infty$ <<MK308>>

定义 $I_\infty$ 满足如下：

（1） 对于任意 $c_i$ 是[[MK108][常元符号]]，定义 $I_\infty(c_i)=[\left<I_0(c_i),0\right>]_\sim$

（2） 对于任意 $f_i$ 是 $n$ 元[[MK109][函数符号]]，设 $[\left<a_k,i_k\right>]_\sim\in M_\infty$ 以及 $[\left<a,j\right>]_\sim\in M_\infty$

     则 $I_\infty(f_i)([\left<a_1,i_1\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim)=[\left<a,j\right>]_\sim$ 的充要条件

     是 $I_k(f_i)(e_{i_1k}(a_1),...,e_{i_nk}(a_n))=e_{jk}(a)$ ，其中 $k=1+\max(i_1,...,i_n,j)$

（3） 对于任意 $p_i$ 是 $n$ 元[[MK110][谓词符号]]，设 $[\left<a_k,i_k\right>]_\sim\in M_\infty$ 

     则 $\left<[\left<a_1,i_1\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim\right>\in I_\infty(p_i)$ 的充要条件是 $\left<e_{i_1k}(a_1),...,e_{i_nk}(a_n)\right>\in I_k(p_i)$

     其中 $k=1+\max(i_1,...,i_n)$

******* $\mathcal{M}_\infty=\left<M_\infty,I_\infty\right>$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]]

******** [[MK108][常元符号]]

显然 $I_\infty(c_i)=[\left<I_0(c_i),0\right>]_\sim\in M_\infty$ ，故根据[[MK153][结构]]定义 $I_\infty(c_i)$ 满足条件

******** [[MK109][函数符号]]

********* 是函数

对于任意 $[\left<a_1,i_1\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim$ 假设存在 $[\left<a,i\right>]_\sim\ne[\left<b,j\right>]_\sim$

满足则 $I_\infty(f)([\left<a_1,i_1\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim)=[\left<a,i\right>]_\sim$

以及 $I_\infty(f)([\left<a_1,i_1\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim)=[\left<b,j\right>]_\sim$

则定义存在 $k_1=1+\max(i_1,...,i_n,i),k_2=1+\max(i_1,...,i_n,j)$

满足 $I_{k_1}(f)(e_{i_1k_1}(a_1),...,e_{i_nk_1}(a_n))=e_{ik_1}(a)$ 以及 $I_{k_2}(f)(e_{i_1k_2}(a_1),...,e_{i_nk_2}(a_n))=e_{jk_2}(b)$

定义 $k=1+\max(k_1,k_2)$

由于对于任意 $u<v$ 有 $e_{uv}$ 的[[MK301][同质嵌入映射]]，根据[[MK302][引理]]可得 $e_{uv}$ 为[[MK300][嵌入映射]]，以及 $e_{uv}$ 性质有

\begin{aligned}
e_{ik}(a)&=e_{k_1k}(e_{ik_1}(a))\\
&=e_{k_1k}(I_{k_1}(f_i)(e_{i_1k_1}(a_1),...,e_{i_nk_1}(a_n)))\\
&=I_{k}(f_i)(e_{k_1k}(e_{i_1k_1}(a_1)),...,e_{k_1k}(e_{i_nk_1}(a_n)))\\
&=I_{k}(f_i)((e_{i_1k}(a_1),...,e_{i_nk}(a_n))\\
&=I_{k}(f_i)(e_{k_2k}(e_{i_1k_2}(a_1)),...,e_{k_2k}(e_{i_nk_2}(a_n)))\\
&=e_{k_2k}(I_{k_2}(f_i)(e_{i_1k_2}(a_1),...,e_{i_nk_2}(a_n)))\\
&=e_{k_2k}(e_{jk_2}(b))\\
&=e_{jk}(b)
\end{aligned}

根据[[MK307][等价关系定义]]显然有 $\left<a,i\right>\sim\left<b,j\right>$ 根据[[~/文档/note/离散数学/lssx.org::MK134][定理1]]可得 $[\left<a,i\right>]_\sim=[\left<b,j\right>]_\sim$ 矛盾

故假设不成立，即有 $[\left<a,i\right>]_\sim=[\left<b,j\right>]_\sim$ 显然 $I_\infty(f_i)$ 是[[~/文档/note/离散数学/lssx.org::MK175][函数]]

********* 无歧义

若有 $I_\infty(f_i)([\left<a_1,i_1\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim)=[\left<a,i\right>]_\sim$

则有 $I_{k_1}(f_i)(e_{i_1k_1}(a_1),...,e_{i_nk_1}(a_n))=e_{ik_1}(a)$ 其中 $k_1=1+\max(i_1,...,i_n,i)$

任取 $\left<b_p,j_p\right>\in[\left<a_p,i_p\right>]_\sim$ 以及 $\left<b,j\right>\in[\left<a,i\right>]_\sim$ 则存在 $z_p$ 满足 $e_{j_p z_p}(b_p)=e_{i_pz_p}(a_p)$

以及 $z$ 满足 $e_{jz}(b)=e_{iz}(a)$ 。另有 $k_2=1+\max(j_1,...,j_n,j)$ 任取 $k>\max(k_1,k_2,z_1,...,z_n,z)$

由于对于任意 $u<v$ 有 $e_{uv}$ 的[[MK301][同质嵌入映射]]，根据[[MK302][引理]]可得 $e_{uv}$ 为[[MK300][嵌入映射]]，且是[[~/文档/note/离散数学/lssx.org::MK176][单射]]，

则根据 $e_{uv}$ 的性质有

\begin{aligned}
&I_{k_1}(f_i)(e_{i_1k_1}(a_1),...,e_{i_nk_1}(a_n))=e_{ik_1}(a)\\
\leftrightarrow&e_{k_1k}(I_{k_1}(f_i)(e_{i_1k_1}(a_1),...,e_{i_nk_1}(a_n)))=e_{k_1k}(e_{ik_1}(a))\\
\leftrightarrow&I_{k}(f_i)(e_{k_1k}(e_{i_1k_1}(a_1)),...,e_{k_1k}(e_{i_nk_1}(a_n)))=e_{ik}(a)\\
\leftrightarrow&I_{k}(f_i)(e_{i_1k}(a_1),...,e_{i_nk}(a_n))=e_{ik}(a)\\
\leftrightarrow&I_{k}(f_i)(e_{z_1k}(e_{i_1z_1}(a_1)),...,e_{z_nk}(e_{i_nz_n}(a_n)))=e_{zk}(e_{iz}(a))\\
\leftrightarrow&I_{k}(f_i)(e_{z_1k}(e_{j_1z_1}(b_1)),...,e_{z_nk}(e_{j_nz_n}(b_n)))=e_{zk}(e_{jz}(b))\\
\leftrightarrow&I_{k}(f_i)(e_{j_1k}(b_1),...,e_{j_nk}(b_n))=e_{jk}(b)\\
\leftrightarrow&I_{k}(f_i)(e_{k_2k}(e_{j_1k_2}(b_1)),...,e_{k_2k}(e_{j_nk_2}(b_n)))=e_{k_2k}(e_{jk_2}(b))\\
\leftrightarrow&e_{k_2k}(I_{k_2}(f_i)(e_{j_1k_2}(b_1),...,e_{j_nk_2}(b_n)))=e_{k_2k}(e_{jk_2}(b))\\
\leftrightarrow&I_{k_2}(f_i)(e_{j_1k_2}(b_1),...,e_{j_nk_2}(b_n))=e_{jk_2}(b)\\
\end{aligned}

即对于任意 $\left<b_p,j_p\right>\in[\left<a_p,i_p\right>]_\sim$ 以及 $\left<b,j\right>\in[\left<a,i\right>]_\sim$ ， $I_\infty(f_i)([\left<a_1,i_1\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim)=[\left<a,i\right>]_\sim$

的充要条件是 $I_\infty(f_i)([\left<b_1,j_1\right>]_\sim,...,[\left<b_n,j_n\right>]_\sim)=[\left<b,j\right>]_\sim$ 故无歧义

******** [[MK110][谓词符号]]

若有 $\left<[\left<a_1,i_1\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim\right>\in I_\infty(p_i)$ 则有 $\left<e_{i_1k_1}(a_1),...,e_{i_nk_1}(a_n)\right>\in I_{k_1}(p_i)$

其中 $k_1=1+\max(i_1,...,i_n)$ 任取 $\left<b_p,j_p\right>\in[\left<a_p,i_p\right>]_\sim$ 则存在 $z_p$ 满足 $e_{j_p z_p}(b_p)=e_{i_pz_p}(a_p)$

另有 $k_2=1+\max(j_1,...,j_n)$ 任取 $k>\max(k_1,k_2,z_1,...,z_n)$

由于对于任意 $u<v$ 有 $e_{uv}$ 的[[MK301][同质嵌入映射]]，根据[[MK302][引理]]可得 $e_{uv}$ 为[[MK300][嵌入映射]]，且是[[~/文档/note/离散数学/lssx.org::MK176][单射]]，

则根据 $e_{uv}$ 的性质有

\begin{aligned}
&\left<e_{i_1k_1}(a_1),...,e_{i_nk_1}(a_n)\right>\in I_{k_1}(p_i)\\
\leftrightarrow&\left<e_{k_1k}(e_{i_1k_1}(a_1)),...,e_{k_1k}(e_{i_nk_1}(a_n))\right>\in I_{k}(p_i)\\
\leftrightarrow&\left<e_{i_1k}(a_1),...,e_{i_nk}(a_n))\right>\in I_{k}(p_i)\\
\leftrightarrow&\left<e_{z_1k}(e_{i_1z_1}(a_1)),...,e_{z_nk}(e_{i_nz_n}(a_n))\right>\in I_{k}(p_i)\\
\leftrightarrow&\left<e_{z_1k}(e_{j_1z_1}(b_1)),...,e_{z_nk}(e_{j_nz_n}(b_n))\right>\in I_{k}(p_i)\\
\leftrightarrow&\left<e_{j_1k}(b_1),...,e_{j_nk}(b_n))\right>\in I_{k}(p_i)\\
\leftrightarrow&\left<e_{k_2k}(e_{j_1k_2}(b_1)),...,e_{k_2k}(e_{j_nk_2}(b_n))\right>\in I_{k}(p_i)\\
\leftrightarrow&\left<e_{i_1k_2}(b_1),...,e_{i_nk_2}(b_n)\right>\in I_{k_2}(p_i)\\
\end{aligned}

即对于任意 $\left<b_p,j_p\right>\in[\left<a_p,i_p\right>]_\sim$ $\left<[\left<a_1,i_1\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim\right>\in I_\infty(p_i)$

的充要条件是 $\left<[\left<b_1,j_1\right>]_\sim,...,[\left<b_n,j_n\right>]_\sim\right>\in I_\infty(p_i)$ 故无歧义 

******* 定义 $e_{i\infty}:M_i\to M_\infty$ <<MK309>>

对于任意 $a\in M_i$ 定义 $e_{i\infty}(a)=[\left<a,i\right>]_\sim$ 即[[MK307][等价关系定义]]下 $\left<a,i\right>$ 所在的[[~/文档/note/离散数学/lssx.org::MK133][等价类]]

显然 $e_{i\infty}$ 是[[~/文档/note/离散数学/lssx.org::MK175][函数]]，下面证明其是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

对于任意 $a\ne b,\{a,b\}\subset M_i$ 假设 $e_{i\infty}(a)=e_{i\infty}(b)$ 则有 $\left<a,i\right>\sim\left<b,i\right>$

即根据[[MK307][定义]]存在 $k>i$ 满足 $e_{ik}(a)=e_{ik}(b)$

由于 $e_{ik}$ 的[[MK301][同质嵌入映射]]，根据[[MK302][引理]]可得 $e_{ik}$ 为[[MK300][嵌入映射]]，故是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

由于 $a\ne b$ 故有 $e_{ik}(a)\ne e_{ik}(b)$ 矛盾，故假设不成立

即对于任意 $a\ne b,\{a,b\}\subset M_i$ 均有 $e_{ik}(a)\ne e_{ik}(b)$ ，故 $e_{i\infty}$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

******* 证明（1）

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ ，定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

根据 $z(\phi)<\infty$ ，下列证明以及数学归纳法可证对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 任意 $i\in\mathbb{N}$ 

均有 $\left<\mathcal{M}_i,v_i\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_i,v_i\cdot e_{i\infty}\right>\vDash\phi$ 即 $e_{i\infty}$ 是 $\mathcal{M}_i$ 到 $\mathcal{M}_\infty$ 的[[MK301][同质嵌入映射]]

******** $z(\phi)=1$ 时

根据[[MK137][唯一可读性]]，有且仅有以下可能形式。

对于任意 $i\in\mathbb{N}$ ，以下均可证明当 $z(\phi)=1$ 时有 $\left<\mathcal{M}_i,v_i\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_i,v_i\cdot e_{i\infty}\right>\vDash\phi$ 

********* $\phi=(\tau_1\hat{=}\tau_2)$

根据[[MK158][满足]]可得 $\left<\mathcal{M}_i,v_i\right>\vDash(\tau_1\hat{=}\tau_2)$ 的充要条件是 $\bar{v}_i(\tau_1) =\bar{v}_i(\tau_2)$

由于 $e_{i\infty}$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]，故上述表达式的充要条件是 $e_{i\infty}(v_i(\tau_1))=e_{i\infty}(v_i(\tau_2))$

又根据[[MK158][满足]]可得上述的充要条件是 $\left<\mathcal{M}_\infty,v_i\cdot e_{i\infty}\right>\vDash(\tau_1\hat{=}\tau_2)$ 

********* $\phi=p(\tau_1,...,\tau_n)$

根据[[MK158][满足]]可得 $\left<\mathcal{M}_\infty,v_i\cdot e_{i\infty}\right>\vDash p(\tau_1,...,\tau_n)$ 的充要条件是 $\left<e_{i\infty}(v_i(\tau_1)),...,e_{i\infty}(v_i(\tau_n))\right>\in I_\infty(p)$

根据[[MK309][ $e_{i\infty}$ 定义]]即 $\left<[\left<v_i(\tau_1),i\right>]_\sim,...,[\left<v_i(\tau_n),i\right>]_\sim\right>\in I_\infty(p)$

根据[[MK308][ $I_\infty$ 定义]]可得充要条件为 $\left<e_{i(i+1)}(v_i(\tau_1)),...,e_{i(i+1)}(v_i(\tau_n))\right>\in I_{i+1}(p)$

根据[[MK158][满足]]等价于 $\left<\mathcal{M}_{i+1},v_i\cdot e_{i(i+1)}\right>\vDash p(\tau_1,...,\tau_n)$ 

由于 $e_{i(i+1)}$ 是[[MK301][同质嵌入映射]]，故等价于 $\left<\mathcal{M}_i,v_i\right>\vDash p(\tau_1,...,\tau_n)$ 

******** 归纳假设

对于任意 $z(\phi)<n$ 任意 $i\in\mathbb{N}$ 均有对于 $\mathcal{M}_i$ 及其任意[[MK154][赋值]] $v_i$

$\left<\mathcal{M}_i,v_i\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_\infty,v_i\cdot e_{i\infty}\right>\vDash\phi$ 

******** $z(\phi)=n$ 时

根据[[MK137][唯一可读性]]，有且仅有以下可能形式

对于任意 $i\in\mathbb{N}$ ，以下均可证明当 $z(\phi)=n$ 时有 $\left<\mathcal{M}_i,v_i\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_i,v_i\cdot e_{i\infty}\right>\vDash\phi$ 

********* $\phi=(\lnot\psi)$

根据[[MK158][满足]]可得 $\left<\mathcal{M}_i,v_i\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_i,v_i\right>\not\vDash\psi$ 显然 $z(\psi)<n$

根据归纳假设其充要条件是 $\left<\mathcal{M}_\infty,v_i\cdot e_{i\infty}\right>\not\vDash\psi$ 同理根据[[MK158][满足]]可得等价于 $\left<\mathcal{M}_\infty,v_i\cdot e_{i\infty}\right>\vDash\phi$

********* $\phi=(\psi_1\to\psi_2)$

根据[[MK158][满足]]可得 $\left<\mathcal{M}_i,v_i\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_i,v_i\right>\not\vDash\psi_1$ 或 $\left<\mathcal{M}_i,v_i\right>\vDash\psi_2$

显然 $z(\psi_1)<n,z(\psi_2)<n$ 故根据归纳假设等价于 $\left<\mathcal{M}_\infty,v_i\cdot e_{i\infty}\right>\not\vDash\psi_1$ 或 $\left<\mathcal{M}_\infty,v_i\cdot e_{i\infty}\right>\vDash\psi_2$

同理根据[[MK158][满足]]可得等价于 $\left<\mathcal{M}_\infty,v_i\cdot e_{i\infty}\right>\vDash\phi$

********* $\phi=(\forall x_k\psi)$

********** 充分

若有 $\left<\mathcal{M}_i,v_i\right>\vDash\phi$ 则任取 $\mathcal{M}_\infty$ 的[[MK154][赋值]] $\mu$ 满足对于任意 $\phi$ 中除 $x_k$ 的[[MK140][自由变元]] $x_p$

有 $\mu(x_p)=v_i\cdot e_{i\infty}(x_p)$ 以及设 $\mu(x_k)=[\left<b,j\right>]_\sim$ 取 $z=\max(i,j)+1$

*********** $j>i$

根据 $e_{iz}$ 定义可得 $e_{iz}(v_i(x_p))=e_{jz}(e_{ij}(v_i(x_p)))$ 故根据 $M_\infty$ 定义

可得 $\left<v_i(x_p),i\right>\sim\left<e_{ij}(v_i(x_p)),j\right>$ ，根据[[~/文档/note/离散数学/lssx.org::MK134][定理1]]有 $[\left<v_i(x_p),i\right>]_\sim=[\left<e_{ij}(v_i(x_p)),j\right>]_\sim$

进一步有 $e_{i\infty}(v_i(x_p))=e_{j\infty}(e_{ij}(v(x_p)))$ ，则定义 $\mu_j=e_{ij}(v_i(x_p))$ 则有 $\mu(x_p)=e_{j\infty}(\mu_j(x_p))$

根据条件 $e_{ij}$ 是[[MK301][同质嵌入映射]]，有 $\left<\mathcal{M}_j,v_i\cdot e_{ij}\right>\vDash\phi$ 根据[[MK158][满足]]可得等价于对于任意 $\mathcal{M}_j$ 的[[MK154][赋值]] $v_j$

满足对于任意 $\phi$ 中除 $x_k$ 的[[MK140][自由变元]] $x_p$ 有 $v_j(x_p)=e_{ij}(v_i(x_p))$ ，则有 $\left<\mathcal{M}_j,v_j\right>\vDash\psi$

显然 $\mu_j$ 满足对于任意 $\phi$ 中除 $x_k$ 的[[MK140][自由变元]] $x_p$ 有 $\mu_j=e_{ij}(v_i(x_p))$ 故有 $\left<\mathcal{M}_j,\mu_j\right>\vDash\psi$ 

由于 $z(\psi)<n$ 由归纳假设 $\left<\mathcal{M}_\infty,\mu_j\cdot e_{j\infty}\right>\vDash\psi$ 根据 $\mu(x_p)=e_{j\infty}(\mu_j(x_p))$ 得 $\left<\mathcal{M}_\infty,\mu\right>\vDash\psi$ 

综上所述，对于任意满足对于任意 $\phi$ 中除 $x_k$ 的[[MK140][自由变元]] $x_p$ 有 $\mu(x_p)=v_i\cdot e_{i\infty}(x_p)$

的 $\mahtcal{M}_\infty$ 的[[MK154][赋值]] $\mu$ 均有 $\left<\mathcal{M}_\infty,\mu\right>\vDash\psi$ 根据[[MK158][满足]]可得 $\left<\mathcal{M}_\infty,v_i\cdot e_{i\infty}\right>\vDash\phi$

*********** $j<i$

根据上一步类似可证

********** 必要

若 $\left<\mathcal{M}_\infty,v_i\cdot e_{i\infty}\right>\vDash\phi$ 则任取 $\mathcal{M}_i$ 的[[MK154][赋值]] $v'_i$

满足对于任意 $\phi$ 中除 $x_k$ 的[[MK140][自由变元]] $x_p$ 均有 $v'_i(x_p)=v_i(x_p)$ 显然 $v'_i\cdot e_{i\infty}$ 亦为 $\mathcal{M} _\infty$ 的[[MK154][赋值]]

且满足对于任意 $\phi$ 中除 $x_k$ 的[[MK140][自由变元]] $x_p$ 均有 $e_{i\infty}(v'_i(x_p))=e_{i\infty}(v_i(x_p))$

根据[[MK158][满足]]可得 $\left<\mathcal{M}_\infty,v'_i\cdot e_{i\infty}\right>\vDash\psi$ 由于 $z(\psi)<n$ 则根据归纳假设 $\left<\mathcal{M}_i,v'_i\right>\vDash\psi$

综上所述，对于任意足对于任意 $\phi$ 中除 $x_k$ 的[[MK140][自由变元]] $x_p$ 均有 $v'_i(x_p)=v_i(x_p)$ 的 $\mathcal{M}_i$ 的[[MK154][赋值]] $v'_i$

均有 $\left<\mathcal{M}_i,v'_i\right>\vDash\psi$ ，根据[[MK158][满足]]可得 $\left<\mathcal{M}_i,v_i\right>\vDash\phi$

******* 证明（2）

对于任意 $i<n<\infty$ 以及任意 $a\in M_i$ 根据[[MK309][定义]]有 $e_{i\infty}(a)=[\left<a,i\right>]_\sim$

以及 $e_{in}\cdot e_{n\infty}(a)=e_{n\infty}(e_{in}(a))=[\left<e_{in}(a),n\right>]_\sim$ 取 $k=n+1$ 则有 $e_{ik}(a)=e_{nk}(e_{in}(a))$

则根据[[MK307][定义]]有 $\left<a,i\right>\sim\left<e_{in}(a),n\right>$ 即根据[[~/文档/note/离散数学/lssx.org::MK134][定理1]]有 $[\left<e_{in}(a),n\right>]_\sim=[\left<a,i\right>]_\sim$

故对于任意 $a\in M_i$ 均有 $e_{i\infty}(a)=e_{in}\cdot e_{n\infty}(a)$ 即 $e_{i\infty}=e_{in}\cdot e_{n\infty}$

****** 推论1

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在[[MK153][结构]]序列 $\left\{\mathcal{M}_n=\left<M_n, I_n\right>\big|n\subset\mathbb{N}\right\}$ 满足 $\mathcal{M}_n\prec\mathcal{M}_{n+1}$

即 $\mathcal{M}_n$ 是 $\mathcal{M}_{n+1}$ 的[[MK287][同质子结构]]，则定义 $M=\bigcup_{n\in\mathbb{N}}M_n$ 以及 $I$ 为

（1） 对于任意 $c_i$ 是[[MK108][常元符号]]，定义 $I(c_i)=I_0(c_i)$

（2） 对于任意 $f_i$ 是 $n$ 元[[MK109][函数符号]]，设 $a_i\in M_{u_i}$ 则 $I(f_i)(a_1,...,a_n)=a_j$ 的充要条件

     是存在 $I_k$ 满足 $I_k(f_i)(a_1,...,a_n)=a_j$

（3） 对于任意 $p_i$ 是 $n$ 元[[MK110][谓词符号]]，则 $\left<a_1,...,a_n\right>\in I(p_i)$ 的充要条件是

     存在 $k$ 满足 $\left<a_1,...,a_n\right>\in I_k(p_i)$

则 $\mathcal{M}=\left<M,I\right>$ ：

（1） 是 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]]

（2） 任意 $\mathcal{M}_n$ 是 $\mathcal{M}$ 的[[MK287][同质子结构]]

******* 证明

******** 证明（1）

根据以下证明可得 $\mathcal{M}=\left<M,I\right>$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]]

********* [[MK108][常元符号]]

任意 $c\in\mathcal{L}_\mathcal{A}$ 由于 $M_0\subset M$ ，故 $I_0(c)\in M_0\subset M$

任意 $c\in\mathcal{L}_\mathcal{A}$ 根据[[MK283][传递性]]可得有 $\mathcal{M}_0\prec\mathcal{M}_n,n\in\mathbb{N}$ 根据[[MK282][子结构定义]]有 $I_0(c)=I_n(c)$ 

故对于任意 $n\in\mathbb{N}$ 均有 $I_n(c)=I(c)$ 满足 $\mathcal{M}_n$ 是 $\mathcal{M}$ 的[[MK282][子结构]]

********* [[MK109][函数符号]]

对于任意 $f\in\mathcal{L}_\mathcal{A}$ 且 $\pi_F(f)=n$ 以及任意 $\left<a_1,...,a_n\right>\in M^n$ 对任意 $a_i$ 有 $\mathcal{M}_{l_i}$ 满足 $a_i\in M_{l_i}$

假设存在 $k_1,k_2$ 满足 $I_{k_1}(a_1,...,a_n)\ne I_{k_2}(a_1,...,a_n)$ 则存在歧义

不妨设 $k_1<k_2$ 根据，则根据[[MK283][传递性]]有 $\mathcal{M}_{k_1}\subset\mathcal{M}_{k_2}$ 根据[[MK282][定义]]可得 $I_{k_1}(a_1,...,a_n)=I_{k_2}(a_1,...,a_n)$

故假设不成立，定义无歧义，即 $I(f)$ 是[[~/文档/note/离散数学/lssx.org::MK175][映射]]

********* [[MK110][谓词符号]]

对于任意 $p\in\mathcal{L}_\mathcal{A}$ 且 $\pi_F(p)=n$ 显然 $I(p)=\bigcup_{i\in\mathbb{N}}I_i(p)$ ，且有 $I_i(p)\subset M_i^n$

易证 $I(p)\subset M^n$

******** 证明（2）

对于任意 $\mathcal{M}_n$ 根据以下证明可得是 $\mathcal{M}$ 的[[MK287][同质子结构]]

********* 是[[MK282][子结构]]

显然 $M_n\subset\bigcup_{i\in\mathbb{N}}M_i=M$ ，则根据下列证明可得 $\mathcal{M}_n$ 是 $\mathcal{M}$ 的[[MK282][子结构]]

********** [[MK108][常元符号]]

任意 $c\in\mathcal{L}_\mathcal{A}$ 根据[[MK283][传递性]]可得有 $\mathcal{M}_0\prec\mathcal{M}_n,n\in\mathbb{N}$ 根据[[MK282][子结构定义]]有 $I_0(c)=I_n(c)$ 

故对于任意 $n\in\mathbb{N}$ 均有 $I_n(c)=I(c)$

********** [[MK109][函数符号]]

对于任意 $f\in\mathcal{L}_\mathcal{A}$ 且 $\pi_F(f)=k$ 以及任意 $\left<a_1,...,a_k\right>\in M^k$ 若有 $I_n(a_1,...,a_k)=a_j$

则根据 $I$ 定义有 $I(a_1,...,a_k)=a_j$

********** [[MK110][谓词符号]]

对于任意 $p\in\mathcal{L}_\mathcal{A}$ 且 $\pi_F(p)=n$ 以及任意 $\left<a_1,...,a_k\right>\in M_n^z$ 若有 $\left<a_1,...,a_k\right>\in I_n(p)$

则根据 $I$ 定义有 $\left<a_1,...,a_k\right>\in I(p)$

********* [[MK287][同质]]

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 以及 $\mathcal{M}_n$ 的[[MK154][赋值]] $v$ ，根据[[MK306][定理3]]可得有 $e_{n\infty}$ 是 $\mathcal{M}_n$ 到 $\mathcal{M}_\infty$ 的[[MK301][同质嵌入映射]]

则 $\left<\mathcal{M}_n,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_n,v\cdot e_{n\infty}\right>\vDash\phi$

又根据[[MK311][以下证明]]以及[[MK276][定理]]可得 $\left<\mathcal{M}_\infty,v\cdot e_{n\infty}\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\cdot e_{n\infty}\cdot e\right>\vDash\phi$

对于任意 $a\in M_n$ 均有 $e(e_{n\infty}(a))=e([\left<a,n\right>]_\sim)=a$

又由于对于任意[[MK107][变元符号]] $x_i$ 均有 $v(x_i)\in M_n$ 故 $e(e_{n\infty}(v(x_i)))=v(x_i)$

综上所述 $\left<\mathcal{M}_n,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi$

********** 定义 $e_{ij}$ <<MK310>>

对于任意 $i<j$ 定义恒等映射 $e_{ij}(a)=a$ ，显然有 $e_{im}=e_{nm}\cdot e_{in}$ 

根据[[MK290][传递性]]可得 $\left<\mathcal{M}_i,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_j,v\right>\vDash\phi$

由于是恒等映射，故可得 $v\cdot e_{ij}=v$ 即 $\left<\mathcal{M}_i,v\right>\vDash\phi$ 的 $\left<\mathcal{M}_j,v\cdot e_{ij}\right>\vDash\phi$

即 $e_{ij}$ 是 $\mathcal{M}_i$ 到 $\mathcal{M}_j$ 的[[MK301][同质嵌入映射]]

********** 定义 $\mathcal{M}_\infty=\left<M_\infty, I_\infty\right>$

根据[[MK306][定理3]]可得存在 $\mathcal{M}_\infty=\left<M_\infty, I_\infty\right>$ 以及对于任意 $\mathcal{M}_i$ 存在 $\mathcal{M}_i$ 到 $\mathcal{M}_\infty$ 的[[MK301][同质嵌入映射]] $e_{i\infty}$

********** 定义[[MK274][同构映射]] $e:\mathcal{M}_\infty\to\mathcal{M}$ <<MK311>>

对于任意 $[\left<a,i\right>]_\sim\in\mathcal{M}_\infty$ 定义 $e([\left<a,i\right>]_\sim)=a$ ，根据以下证明 $e$ 是[[MK274][同构映射]]

*********** 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]

对于任意 $[\left<a,i\right>]_\sim\ne[\left<b,j\right>]_\sim$ 根据 $e_{nm}$ [[MK310][定义]]有对于任意 $k>\max(i,j)$

均有 $e_{ik}(a)=a,e_{jk}(b)=b$ 根据 $e_{i\infty}$ [[MK309][定义]]易证 $[\left<a,i\right>]_\sim\ne[\left<b,j\right>]_\sim$ 的充要条件是 $a\ne b$

故有 $e([\left<a,i\right>]_\sim)=a\ne b=e([\left<b,j\right>]_\sim)$ 即 $e$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

对于任意 $a\in M$ 存在 $i$ 满足 $a\in M_i$ 即有 $[\left<a,i\right>]_\sim\in M_\infty$

则根据定义有 $e([\left<a,i\right>]_\sim)=a$ 即是[[~/文档/note/离散数学/lssx.org::MK179][满射]]

综上所述 $e$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]

*********** [[MK108][常元符号]]

若 $c\in\mathcal{L}_\mathcal{A}$ 根据[[MK308][定义]]可得 $I_\infty(c_i)=[\left<I_0(c),0\right>]_\sim$ 则有 $e(I_\infty(c))=I_0(c)=I(c)$

*********** [[MK109][函数符号]]

若 $f\in\mathcal{L}_\mathcal{A}$ 且 $\pi_F(f)=n$ ，对于任意 $\left<[\left<a_i,i_i\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim\right>\in M_\infty^n$

若有 $I_\infty(f)([\left<a_i,i_i\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim)=[\left<a,j\right>]_\sim$

根据[[MK308][定义]]有 $I_k(f)(e_{i_1k}(a_1),...,e_{i_nk}(a_n))=e_{jk}(a)$ 其中 $k=1+\max(i_1,...,i_n,j)$

由于 $e_{ij}$ 为恒等映射，故有 $I_k(f)(a_1,...,a_n)=a$ ，根据 $I$ 定义可得 $I(f_i)(a_1,...,a_n)=a$

又由于 $e([\left<a_z,i_z\right>]_\sim)=a_z$ 故

\begin{aligned}
&e(I_\infty(f)([\left<a_i,i_i\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim)\\
=&e([\left<a,j\right>]_\sim))\\
=&a\\
=&I(f_i)(a_1,...,a_n)\\
=&I(e([\left<a_i,i_i\right>]_\sim),...,e([\left<a_n,i_n\right>]_\sim))
\end{aligned}

*********** [[MK110][谓词符号]]

若 $p\in\mathcal{L}_\mathcal{A}$ 且 $\pi_P(p)=n$ 则对于任意 $\left<[\left<a_i,i_i\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim\right>\in M_\infty^n$

若有 $\left<[\left<a_i,i_i\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim\right>\in I_\infty(p)$ 根据[[MK308][定义]] $\left<e_{i_1k}(a_1),...,e_{i_nk}(a_n)\right>\in I_k(p_i)$

其中 $k=1+\max(i_1,...,i_n)$ 由于 $e_{ij}$ 为恒等映射，故 $\left<a_1,...,a_n\right>\in I_k(p_i)$

根据 $I$ 定义可得 $\left<a_1,...,a_n\right>\in I(p_i)$ 又由于 $e([\left<a_z,i_z\right>]_\sim)=a_z$

即 $\left<e([\left<a_i,i_i\right>]_\sim),...,e([\left<a_n,i_n\right>]_\sim)\right>=\left<a_1,...,a_n\right>$

故有 $\left<e([\left<a_i,i_i\right>]_\sim),...,e([\left<a_n,i_n\right>]_\sim)\right>\in I(p)$

****** 推论2<<MK243>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在[[MK153][结构]]序列 $\left\{\mathcal{M}_n=\left<M_n, I_n\right>\big|n\subset\mathbb{N}\right\}$ 对于任意 $i\in\mathbb{N}$ 满足 $\mathcal{M}_i$ 是 $\mathcal{M}_{i+1}$ 的[[MK301][同质嵌入]]

则存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}_\infty=\left<M_\infty, I_\infty\right>$ 以及[[~/文档/note/离散数学/lssx.org::MK175][函数]] $\left\{e_{i\infty}\big|i<\infty\right\}$ 满足

（1） 任意 $e_{i\infty}:M_i\to M_\infty$ 是 $\mathcal{M}_i$ 到 $\mathcal{M}_\infty$ 的[[MK301][同质嵌入映射]]

（2） 任意 $i<n<\infty$ 均有 $e_{i\infty}=e_{in}\cdot e_{n\infty}$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

******* 证明

对于任意 $i<n<m$ 定义 $e_{in}=e_{(n-1)n}\cdot...\cdot e_{i(i+1)}$ 根据[[MK241][传递性]] $e_{in}$ 是 $\mathcal{M}_i$ 到 $\mathcal{M}_n$ 的[[MK301][同质嵌入映射]]

同理可得 $e_{im}=e_{(m-1)m}\cdot...\cdot e_{i(i+1)},e_{nm}=e_{(m-1)m}\cdot...\cdot e_{n(n+1)}$ 亦为对应[[MK153][结构]]的[[MK301][同质嵌入映射]]

显然对于任意 $a\in M_i$ 有 $e_{im}(a)=e_{nm}(e_{in}(a))$

故根据[[MK306][同质极限链]]存在极限[[MK153][结构]] $\mathcal{M}_\infty=\left<M_\infty, I_\infty\right>$ 以及[[~/文档/note/离散数学/lssx.org::MK175][函数]] $\left\{e_{i\infty}\big|i<\infty\right\}$ 满足结论

***** 定理4

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在[[MK153][结构]]序列 $\left\{\mathcal{M}_n=\left<M_n, I_n\right>\big|n\subset\mathbb{N}\right\}$ 以及[[~/文档/note/离散数学/lssx.org::MK175][函数]] $\left\{e_{in}\big|i<n<\infty\right\}$

满足 $e_{in}:M_i\to M_n$ 是 $\mathcal{M}_i$ 到 $\mathcal{M}_n$ 的[[MK301][同质嵌入映射]]，且满足对于人 $i<n<m$ 均有 $e_{im}=e_{nm}\cdot e_{in}$ 

若存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 满足：

（1） 对于任意 $\mathcal{M}_n$ 均存在 $f_n:M_n\to N$ 是 $\mathcal{M}_n$ 到 $\mathcal{N}$ 的[[MK301][同质嵌入映射]]

（2） 对于任意 $n<m$ 均有 $f_n=e_{nm}\cdot f_m$

则对于[[MK306][定理3]]中定义的极限[[MK153][结构]] $\mathcal{M}_\infty=\left<M_\infty, I_\infty\right>$ 存在函数 $f$ 满足：

（1） $f:M_\infty\to N$

（2） 对于任意 $n\in\mathbb{N}$ 均有 $f_n=e_{n\infty}\cdot f$

（3） 是 $\mathcal{M}_\infty$ 到 $\mathcal{N}$ 的[[MK301][同质嵌入映射]]

****** 证明

对于任意 $[\left<a,i\right>]_\sim$ 定义 $f([\left<a,i\right>]_\sim)=f_i(a)$ 则显然 $f$ 是 $M_\infty$ 到 $N$ [[~/文档/note/离散数学/lssx.org::MK175][函数]]

******* 证明（2）

任取 $f_i$ 以及 $a\in M_i$ 根据[[MK309][定义]]有 $e_{i\infty}(a)=[\left<a,i\right>]_\sim$ 又根据 $f$ 定义有 $f([\left<a,i\right>]_\sim)=f_i(a)$

即 $e_{i\infty}\cdot f(a)=f(e_{i\infty}(a))=f_i(a)$

******* 证明（3）

任意 $\mathcal{M}_\infty$ 的[[MK154][赋值]] $v$ ，则对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 设 $\phi$ 中有 $x_1,...,x_n$ 个[[MK140][自由变元]]且 $v(x_u)=[\left<a_u,i_u\right>]_\sim$

则取 $k=\max(i_1,...,i_n)$ 定义 $\mathcal{M}_k$ 的[[MK154][赋值]] $v_k$ 满足 $v_k(x_u)=e_{i_uk}(a_u)$

根据[[MK306][定理]] $\left<\mathcal{M}_k,v_k\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_\infty,v_k\cdot e_{k\infty}\right>\vDash\phi$

又根据[[MK306][定理]]有 $e_{k\infty}(v_k(x_u))=e_{k\infty}(e_{i_uk}(a_u))=e_{i_u\infty}(a_u)=v(x_u)$ 

则根据[[MK168][局部确定性]]有 $\left<\mathcal{M}_\infty,v_k\cdot e_{k\infty}\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_\infty,v\right>\vDash\phi$

根据条件可得 $\left<\mathcal{M}_k,v_k\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v_k\cdot f_k\right>\vDash\phi$

又由于 $v\cdot f(x_u)=f(v(x_u))=f([\left<a_u,i_u\right>]_\sim)=f_{i_u}(a_u)=f_k(e_{i_uk}(a_u))=f_k(v_k(x_u))=v_k\cdot f_k(x_u)$

又根据[[MK168][局部确定性]] $\left<\mathcal{N},v_k\cdot f_k\right>\vDash\phi$ 得充要条件是 $\left<\mathcal{N},v\cdot f\right>\vDash\phi$

综上所述 $\left<\mathcal{M}_\infty,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\cdot f\right>\vDash\phi$ 根据[[MK301][定义]]可得 $f$ 是 $\mathcal{M}_\infty$ 到 $\mathcal{N}$ 的[[MK301][同质嵌入映射]]
 
***** 定理5<<MK238>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 两个[[MK153][结构]]，满足：

（1） 对于任意 $a\in M,b\in M,a\ne b$ 有[[MK108][常元符号]] $c_a\in\mathcal{A},c_b\in\mathcal{A},c_a\ne c_b$

     满足 $I(c_a)=a,I(c_b)=b$

（2） $\mathcal{N},\mathcal{M}$ [[MK281][同样]]

则 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

****** 证明

******* 定义[[~/文档/note/离散数学/lssx.org::MK176][单射]] $e$

定义 $e:M\to N$ 满足对于任意 $a\in M$ 有 $e(a)=J(c_a)$ ，其中 $I(c_a)=a$

则对于任意 $a\in M,b\in M,a\ne b$ 根据条件（1）存在[[MK108][常元符号]] $c_a\in\mathcal{A},c_b\in\mathcal{A},c_a\ne c_b$

满足 $I(c_a)=a,I(c_b)=b$ ，则根据[[MK158][满足]]可得 $\mathcal{M}\vDash(\lnot(c_a\hat{=}c_b))$

根据条件（2）有 $\mathcal{N}\vDash(\lnot(c_a\hat{ =}c_b))$ ，又根据[[MK158][满足]] $\mathcal{N}\not\vDash(c_a\hat{ =}c_b)$ 即有 $J(c_a)\ne J(c_b)$

即对于任意 $a\in M,b\in M,a\ne b$ 有 $e(a)=J(c_a)\ne J(c_b)=e(b)$ 即 $e$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

******* 证明是[[MK301][同质嵌入映射]]

对于任意 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 以及[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ ，若有 $\left<\mathcal{M},v\right>\vDash\phi$ 设 $\phi$ 中的[[MK140][自由变元]]

为 $\{x_1,...,x_n\}$ 则有 $\mathcal{M}\vDash\phi[v(x_1),...,v(x_n)]$ 根据条件（1）可得存在[[MK108][常元符号]] $c_{v(x_1)},...,c_{v(x_n)}$

满足 $\bar{v}(c_{v(x_i)})=I(c_{v(x_i)})=v(x_i)$ 则定义[[MK145][自由替换]]后有 $\phi'=\phi\left(\left<x_1,...,x_n\right>,\left<c_{v(x_1)},...,c_{v(x_n)}\right>\right)$

则根据[[MK176][替换定理]]易证 $\mathcal{M}\vDash\phi'$ 且显然 $\phi'$ 不含[[MK140][自由变元]]，故 $\phi'$ 是[[MK151][语言]]，则根据条件（2）有 $\mathcal{N}\vDash\phi'$

根据上一步 $e$ 的定义可得 $e(v(x_i))=J(c_{v(x_i)})$ 故根据[[MK176][替换定理]]可得 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$

同理可证若有 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$ 则有 $\left<\mathcal{M},v\right>\vDash\phi$ ，故 $e$ 是[[MK301][同质嵌入映射]]

**** 引理1

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\mathcal{M}=<M,I>,\mathcal{N}=<N,J>$ 两个[[MK153][结构]]

则 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK282][子结构]]的充要条件是恒等[[~/文档/note/离散数学/lssx.org::MK175][映射]] $e$ 是[[MK300][嵌入映射]]

***** 证明

由于 $e$ 是恒等映射，则对于任意 $a\in M$ 有 $e(a)=a$

则根据[[MK274][子结构]]定义以及[[MK300][嵌入映射]]定义易证两者等价

**** 定理<<MK312>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$

则 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK300][嵌入]]的充要条件是存在 $\mathcal{N}$ 的[[MK282][子结构]] $\mathcal{N}'$ 与 $\mathcal{M}$ [[MK274][同构]]

且[[MK274][同构映射]] $e'$ 与[[MK300][嵌入映射]] $e$ 相等，仅值域不同

***** 证明

****** 充分

若 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK300][嵌入]]则存在[[MK300][嵌入映射]] $e:M\to N$ 则定义 $N'=\left\{b\big|((b\in N)\land(\exists a((a\in M)\land(e(a)=b))))\right\}$

进而定义 $e':M\to N'$ 由于 $e$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]，易证 $e'$ 亦是[[~/文档/note/离散数学/lssx.org::MK176][单射]]。又根据 $N'$ 定义可得 $e$ 是[[~/文档/note/离散数学/lssx.org::MK179][满射]]

即 $e'$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]。根据 $N'\subset N$ 定义 $J'$ 满足：

（1） 对于任意 $c\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]]有 $J(c)=J'(c)$

（2） 对于任意 $f\in\mathcal{L}_\mathcal{A}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ 对于任意 $\left<a_1,...,a_n\right>\subset (N')^n$ 使得 $J(f)(a_1,...,a_n)$ 有定义

     有 $J'(f)(a_1,...,a_n)=J(f)(a_1,...,a_n)$ 。根据 $e'$ 定义可得存在 $b_i\in M$ 满足 $e(b_i)=a_i$

     进一步根据 $e$ 是[[MK300][嵌入映射]]，故有 $e(I(f)(b_1,...,b_n))=J(f)(a_1,...,a_n)$

     则根据 $N'$ 定义显然有 $J(f)(a_1,...,a_n)\in N'$

（3） 对于任意$p\in\mathcal{L}_\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ 定义 $J'(p)=J(p)\cap (N')^n$

显然上述定义使得 $\mathcal{N}'=<N',J'>$ 是 $\mathcal{N}$ 的[[MK282][子结构]]，又根据[[MK300][嵌入映射]]定义

（1） $e'$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]

（2） 对于任意 $c\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]] $e'(I(c))=e(I(c))=J(c)=J'(c)$

（3） 对于任意 $f\in\mathcal{L}_\mathcal{A}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ 对于任意 $\left<a_1,...,a_n\right>\subset M^n$ 使得 $I(f)(a_1,...,a_n)$ 有定义

     有 $e'(I(f)(a_1,...,a_n))=e(I(f)(a_1,...,a_n))=J(f)(e(a_1),...,e(a_n))=J'(f)(e(a_1),...,e(a_n))$

（4） 对于任意$p\in\mathcal{L}_\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ 则对于任意 $<a_1,...,a_n>\subset M^n$

     使得 $\left<a_1,...,a_n\right>\in I(p)$ 有 $\left<e'(a_1),...,e'(a_n)\right>=\left<e(a_1),...,e(a_n)\right>\in J(p)$

     又由于 $e'(a_i)\in N'$ 故可得 $\left<e'(a_1),...,e'(a_n)\right>\in J'(p)$

综上所述，显然 $e'$ 是 $\mathcal{M}$ 到 $\mathcal{N}'$ 的[[MK274][同构映射]]，即 $\mathcal{N}'$ 与 $\mathcal{M}$ [[MK274][同构]]
     
****** 必要

若有 $\mathcal{N}'=\left<N',J'\right>$ 是 $\mathcal{N}$ 的[[MK282][子结构]]且 $\mathcal{N}'$ 与 $\mathcal{M}$ [[MK274][同构]]，则存在[[MK274][同构映射]] $e':M\to N'$

定义 $e:M\to N$ 为 $e=e'$ 仅有值域不同，由于 $e'$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]，则易证 $e$ 是[[~/文档/note/离散数学/lssx.org::MK179][满射]]

则根据[[MK274][同构]]以及[[MK282][子结构]]定义：

（1） 对于任意 $c\in\mathcal{L}_\mathcal{A}$ 是[[MK108][常元符号]] $e(I(c))=e'(I(c))=J'(c)=J(c)$

（2） 对于任意 $f\in\mathcal{L}_\mathcal{A}$ 是[[MK109][函数符号]]且 $\pi_F(f)=n$ 对于任意 $\left<a_1,...,a_n\right>\subset M^n$ 使得 $I(f)(a_1,...,a_n)$ 有定义

     有 $e(I(f)(a_1,...,a_n))=e'(I(f)(a_1,...,a_n))=J'(f)(e(a_1),...,e(a_n))=J(f)(e(a_1),...,e(a_n))$

（3） 对于任意$p\in\mathcal{L}_\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ 则对于任意 $\left<a_1,...,a_n\right>\subset M^n$

     使得 $\left<a_1,...,a_n\right>\in I(p)$ 有 $\left<e(a_1),...,e(a_n)\right>=\left<e'(a_1),...,e'(a_n)\right>\in J'(p)$

     又由于 $e'(a_i)\in N'$ 故可得 $\left<e(a_1),...,e(a_n)\right>\in J(p)$

综上所述， $e$ 是 $\mathcal{M}$ 到 $\mathcal{N}$ 的[[MK300][嵌入映射]]

** 可定义性<<MK313>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ ，对于 $Z\subset M$ 定义 $Y\left(\phi,\vec{b},n\right)$ 如下：

（1） $\phi$ 是含有 $m$ 个[[MK140][自由变元]]的[[MK129][表达式]] $\phi(x_{k_1},...,x_{k_m})$ 且 $m>n$

（2） $\vec{b}=\left<b_1,...,b_{m-n}\right>\in Z^{m-n}$

（3） $Y\left(\phi,\vec{b},n\right)=\left\{\left<a_1,...,a_n\right>\big|\left(\left<a_1,...,a_n\right>\in M^n\right)\land\left(\mathcal{M}\vDash\phi[a_1,...,a_n,b_1,...,b_{m-n}]\right)\right\}$

则定义 $\text{Def}_n(\mathcal{M}, Z)=\left\{Y\left(\phi,\vec{b},n\right)\big|\phi(x_{k_1},...,x_{k_m})\in\mathcal{L}_\mathcal{A}\land m>n\land\vec{b}\in Z^{m-n}\right\}$ 

则对于任意 $S\in M^n$ 若有 $S\in\text{Def}_n(\mathcal{M},Z)$ 则称 $S$ 以 $Z$ 中的元素为参数，在 $\mathcal{M}$ 中可定义

当 $Z=\varnothing$ 时若 $S\in\text{Def}_n(\mathcal{M},\varnothing)$ 则 $S$ 是 $\mathcal{M}$ 免参数可定义集合

另记 $\text{Def}^\infty(\mathcal{M},Z)=\bigcup_{i\in\mathbb{N}}\text{Def}_i(\mathcal{M}, Z)$

*** 引理1

[[MK313][条件（3）]]的 $\mathcal{M}\vDash\phi[a_1,...,a_n,b_1,...,b_m]$ 等价于存在[[MK154][赋值]] $v:X\to M$ 满足：

（1） 对于任意 $1\leq i\leq n$ 有 $v(x_{j_i})=a_i$ 且

（2） 对于任意 $1\leq i\leq n$ 有 $v(x_{k_i})=b_i$ 且

（3） $\left<\mathcal{M},v\right>\vDash \phi$

**** 证明

充分根据[[MK158][满足定义]]显然，以下证必要

若存在 $v$ 则根据[[MK168][局部确定性定理]]可得对于任意 $u$ 满足条件（1），（2）均有 $\left<\mathcal{M},u\right>\vDash \phi$

即有 $\mathcal{M}\vDash\phi[a_1,...,a_n,b_1,...,b_m]$ 

*** 引理2（定义范式）<<MK314>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ ，对于 $Z\subset M$ 以及 $Y\in\text{Def}_n(\mathcal{M},Z)$ 即 $Y$ [[MK313][可定义]]

则存在一组 $\vec{b}=\left<b_1,...,b_m\right>\in Z^n$ 以及 $\phi\in\mathcal{L}_\mathcal{A}$ 其[[MK140][自由变元]]为 $x_1,...,x_n,x_{n+1},...,x_{n+m}$

满足 $Y=\left\{\left<a_1,...,a_n\right>\big|\left(\left<a_1,...,a_n\right>\in M^n\right)\land\left(\mathcal{M}\vDash\phi[a_1,...,a_n,b_1,...,b_{m-n}]\right)\right\}$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

**** 证明

根据[[MK313][可定义]]可得 $Y\in\text{Def}_n(\mathcal{M},Z)$ 的充要条件为存在 $\phi^*(x_{j_1},...,x_{j_n},x_{k_1},...,x_{k_m})$

满足对于任意 $\left<a_1,...,a_n\right>\in Y$ 的充要条件为 $\mathcal{M}\vDash\phi^*[a_1,...,a_n,b_1,...,b_m]$

由于 $|\phi^*|<\infty$ 故存在 $\phi^*$ 中[[MK107][变元符号]]的最大下标，定义为 $z$ 。进一步定义 $\phi^*$ 中所有[[MK158][受限变元]]为 $x_{s_1},...,x_{s_k}$

定义 $\phi'$ 为将 $\phi^*$ 中所有[[MK140][受限出现]]及对应的[[MK106][量词符号]]的[[MK107][变元符号]] $x_{s_i}$ 替换为 $x_{z+s_i}$ 后的[[MK115][符号串]]

定义 $\phi$ 为将 $\phi'$ 中所有[[MK141][自由出现]]的[[MK107][变元符号]] $x_{j_i}$ 替换为 $x_i$ 后的[[MK115][符号串]]

根据[[MK146][项替换定理]]可得 $\phi',\phi$ 均为 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]

则根据[[MK384][引理8]]可得对于任意[[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash\phi^*$ 的充要条件为 $\left<\mathcal{M},v\right>\vDash\phi'$

则根据[[MK162][引理2]]可得对于于任意[[MK154][赋值]] $u,v$ 满足 $u(x_{j_i})=v(x_i)$ 且 $u(x_{k_i})=v(x_{n+i})$

则 $\left<\mathcal{M},u\right>\vDash\phi'$ 的充要条件为 $\left<\mathcal{M},v\right>\vDash\phi$

故根据[[MK158][方括号定义]] $\mathcal{M}\vDash\phi^*[a_1,...,a_n,b_1,...,b_m]$ 的充要条件为 $\mathcal{M}\vDash\phi[a_1,...,a_n,b_1,...,b_m]$

综上所述，对于任意 $\left<a_1,...,a_n\right>\in Y$ 的充要条件为 $\mathcal{M}\vDash\phi[a_1,...,a_n,b_1,...,b_m]$

*** 引理3<<MK315>>

[[MK151][一阶可数语言]] $\mathcal{L}_\mathcal{A}$ 存在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 其中 $M$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]，对于任意[[~/文档/note/离散数学/lssx.org::MK83][无限]]子集 $X\subset M$

若 $|X|=\kappa$ 即 $X$ 的[[~/文档/note/离散数学/lssx.org::MK35][基数]]为 $\kappa$ 则 $|\text{Def}_n(\mathcal{N},X)|=\kappa$

**** 证明

根据[[MK116][引理]]以及 $\mathcal{L}_\mathcal{A}$ 是[[MK151][一阶可数语言]]可得 $\mathcal{L}_\mathcal{A}\subset\mathcal{L}\subset\Sigma^*$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，即 $|\mathcal{L}_\mathcal{A}|=|\mathbb{N}|$

则显然存在天然[[~/文档/note/离散数学/lssx.org::MK179][满射]] $\mu:\mathcal{L}_\mathcal{A}\times X\to\text{Def}_n(\mathcal{N},X)$ 根据[[~/文档/note/离散数学/lssx.org::MK332][蕴含单射]]可得存在[[~/文档/note/离散数学/lssx.org::MK176][单射]] $\eta:\text{Def}_n(\mathcal{N},X)\to\mathcal{L}_\mathcal{A}\times X$

则根据[[~/文档/note/离散数学/lssx.org::MK29][等势]]可得 $\left|\text{Def}_n(\mathcal{N},X)\right|\leq\left|\mathcal{L}_\mathcal{A}\times X\right|$ 根据[[~/文档/note/离散数学/lssx.org::MK88][定理5]]以及[[~/文档/note/离散数学/lssx.org::MK329][推论]]可得 $\left|\mathcal{L}_\mathcal{A}\times X\right|=|X|=\kappa$

又定义 $\phi=\left(\wedge_{i=1}^{n}(x_i\hat{=}x_{\delta(i)})\right)$ 其中 $\delta(i)=\begin{cases}n+i&i\leq m\\i&i>m\end{cases}$ 则显然易证 $|X^m|\leq\left|\text{Def}_n(\mathcal{N},X)\right|$

进一步根据[[~/文档/note/离散数学/lssx.org::MK88][定理5]]可得 $|X^m|=\left|X\right|$ 则根据[[~/文档/note/离散数学/lssx.org::MK327][定理6]]可得 $\kappa=|X|\leq\left|\text{Def}_n(\mathcal{N},X)\right|$ 则根据[[~/文档/note/离散数学/lssx.org::MK34][伯恩斯坦定理]]可得 $|\text{Def}_n(\mathcal{N},X)|=\kappa$

*** 子集不变性定理

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ ，对于 $X\subset M$ 以及 $Y\in\text{Def}_n(\mathcal{M},X)$ 即 $Y$ [[MK313][可定义]]

有自[[MK274][同构映射]] $e:M\to M$ 满足对于任意 $x\in X$ 均有 $e(x)=x$

则 $\left<a_1,...,a_n\right>\in Y$ 的充要条件为 $\left<e(a_1),...,e(a_n)\right>\in Y$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

**** 证明

由于 $Y$ [[MK313][可定义]]存在[[MK129][表达式]] $\phi(x_{j_1},...,x_{j_n},x_{k_1},...,x_{k_m})$ 对于任意 $\left<a_1,...,a_n\right>\in Y$

其充要条件为 $\mathcal{M}\vDash\phi[a_1,...,a_n,b_1,...,b_m]$

***** 充分

若 $\left<a_1,...,a_n\right>\in Y$ 根据[[MK168][局部确定]]对于任意[[MK154][赋值]] $v$ 若满足 $v(x_{j_i})=a_i,v(x_{k_i})=b_i$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$

由于 $e$ 是[[MK274][同构映射]]，故根据[[MK276][定理]]有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{M},v\cdot e\right>\vDash\phi$ 

根据[[MK168][局部确定]]可得 $\mathcal{M}\vDash\phi[e(a_1),...,e(a_n),e(b_1),...,e(b_n)]$ 由于 $b_i\in X$ 则易证 $e(b_i)=b_i$

即有 $\mathcal{M}\vDash\phi[e(a_1),...,e(a_n),b_1,...,b_n]$ ，故可得 $\left<e(a_1),...,e(a_n)\right>\in Y$

***** 必要

若 $\left<e(a_1),...,e(a_n)\right>\in Y$ 根据[[MK168][局部确定]]于任意[[MK154][赋值]] $v$ 若满足 $v(x_{j_i})=e(a_i),v(x_{k_i})=b_i$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$

根据[[MK275][引理]]可得存在[[~/文档/note/离散数学/lssx.org::MK188][逆函数]] $e^{-1}$ 亦为[[MK274][同构映射]]，且显然 $e^{-1}(v(x_{j_i}))=e^{-1}(e(a_i))=a_i$

由于 $b_i\in X$ 则易证 $e(b_i)=b_i$ 。根据[[MK276][定理]] $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{M},v\cdot e^{-1}\right>\vDash\phi$

根据[[MK168][局部确定]]可得 $\mathcal{M}\vDash\phi[a_1,...,a_n,b_1,...,b_n]$ ，故可得 $\left<a_1,...,a_n\right>\in Y$ 

** 超积和超幂<<MK316>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在[[~/文档/note/离散数学/lssx.org::MK48][标志集]] $X$ 对于任意 $x\in X$ 均匀在[[MK153][结构]] $\mathcal{M}_x=\left<M_x,I_x\right>$ 满足 $M_x\ne\varnothing$

设 $X$ 上有[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $U$ 故定义：

（1） $\prod_{x\in X}M_x$ 为[[~/文档/note/离散数学/lssx.org::MK107][笛卡尔积]]的函数表示

     即 $\prod_{x\in X}M_x=\left\{f\big|f:X\to\bigcup_{x\in X}M_x\land f(x)\in M_x\right\}$ 为所有 $f:X\to \bigcup_{x\in X}M_x$ 的[[~/文档/note/离散数学/lssx.org::MK14][选择函数]]的集合

（2） [[~/文档/note/离散数学/lssx.org::MK111][关系]] $\simeq$ 为 $\left\{\left<f,g\right>\big|\{f,g\}\subset\prod_{x\in X}M_x\land\left\{x\big|x\in X\land f(x)=g(x)\right\}\in U\right\}$ 根据[[~/文档/note/离散数学/lssx.org::MK37][定理2]]可得是[[~/文档/note/离散数学/lssx.org::MK132][等价关系]]

（3） $M=\left\{[f]_\simeq\big|f\in\prod_{x\in X}M_x\right\}$ 即为 $\prod_{x\in X}M_x$ 在 $\simeq$ 上的[[~/文档/note/离散数学/lssx.org::MK133][等价类]]集合

根据上述结论，定义 $I$ 满足：

（1） 对于任意[[MK108][常元符号]] $c\in\mathcal{A}$ 定义 $I(c)=[f_c]_\simeq$ 其中 $f_c$ 满足对于任意 $x\in X$ 均有 $f_c(x)=I_x(c)$

（2） 对于任意 $n$ 元[[MK109][函数符号]] $f\in\mathcal{A}$ 则 $I(f)([f_1]_\simeq,...,[f_n]_\simeq)=[f_{n+1}]_\simeq$

     当且仅当 $\left\{x\big|x\in X\land I_x(f)(f_1(x),...,f_n(x))=f_{n+1}(x)\right\}\in U$

（3） 对于任意 $n$ 元[[MK110][谓词符号]] $p$ ，则 $\left<[f_1]_\simeq,...,[f_n]_\simeq\right>\in I(p)$

     当且仅当 $\left\{x\big|x\in X\land \left<f_1(x),...,f_n(x)\right>\in I_x(p)\right\}\in U$

则 $\mathcal{M}=\left<M,I\right>$ 是结构族 $\left\{\left<M_x,I_x\right>\big|x\in X\right\}$ 在 $U$ 下的超积

若所有 $\mathcal{M}'\in\left\{\mathcal{M}_x\big|x\in X\right\}$ 均是同一[[MK153][结构]]，则 $\mathcal{M}$ 为 $U$ 下的超幂

*** 引理1

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在[[MK153][结构]]族 $\left\{\left<M_x,I_x\right>\big|x\in X\right\}$ 以及 $X$ 上的[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $U$ ，

则 $\left\{\left<M_x,I_x\right>\big|x\in X\right\}$ 在 $U$ 下的[[MK316][超积]] $\mathcal{M}=\left<M,I\right>$ 亦为 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]]

**** 证明

由于 $M_x\ne\varnothing$ 故根据[[~/文档/note/离散数学/lssx.org::MK14][选择公理]]可得存在选择函数，故根据[[~/文档/note/离散数学/lssx.org::MK133][等价类]]定义易证 $M\ne\varnothing$

由于 $M$ 中的元素是[[~/文档/note/离散数学/lssx.org::MK14][选择函数]]的[[~/文档/note/离散数学/lssx.org::MK133][等价类]]，故[[MK109][函数符号]]，[[MK110][谓词符号]]对应的亦为[[~/文档/note/离散数学/lssx.org::MK133][等价类]]。

对于任意一组代表元满足定义（2）（3）的要求，为保持一致 $[f_i]_\simeq$ 中的其他代表元应亦满足

否则造成矛盾，故需额外证明

***** [[MK108][常元符号]] $c\in\mathcal{A}$

若有 $\{f_1,f_2\}\subset\prod_{x\in X}M_x$ 满足对于任意 $x\in X$ 均有 $f_1(x)=f_2(x)=I_x(c)$

则显然 $f_1=f_2$ 故易得 $I(c)$ 是[[~/文档/note/离散数学/lssx.org::MK175][函数]]

***** $n$ 元[[MK109][函数符号]] $f\in\mathcal{A}$

已有 $I(f)([f_1]_\simeq,...,[f_n]_\simeq)=[f_{n+1}]_\simeq$ 满足 $A=\left\{x\big|x\in X\land I_x(f)(f_1(x),...,f_n(x))=f_{n+1}(x)\right\}\in U$

****** 任意 $[f_i]_\simeq$ 中的元素 $g_i$ 都满足 $\left\{x\big|x\in X\land I_x(g)(g_1(x),...,g_n(x))=g_{n+1}(x)\right\}\in U$ <<MK317>>

对于任意 $\{g_1,...,g_{n+1}\}\subset\prod_{x\in S}M_x$ 设有 $[f_i]_\simeq=[g_i]_\simeq$ 即 $f_i$ 与 $g_i$ 在同一[[~/文档/note/离散数学/lssx.org::MK133][等价类]]

则定义 $B_i=\left\{x\big|x\in X\land f_i(x)=g_i(x)\right\}$ 显然若 $x\in\bigcap_{i=1}^{n+1}B_i$ 则有 $f_i(x)=g_i(x)$

且根据[[~/文档/note/离散数学/lssx.org::MK37][定义]]可得 $B_i\in U$ 又由于 $U$ 是[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]，故有 $\bigcap_{i=1}^{n+1}B_i\ne\varnothing$ 且 $x\in\bigcap_{i=1}^{n+1}B_i\in U$

同理 $A\cap\left(\bigcap_{i=1}^{n+1}B_i\right)$ 亦有 $A\cap\left(\bigcap_{i=1}^{n+1}B_i\right)\ne\varnothing$ 以及 $A\cap\left(\bigcap_{i=1}^{n+1}B_i\right)\in U$

对于任意 $x\in A\cap\left(\bigcap_{i=1}^{n+1}B_i\right)$ 均有 $I_x(f_1(x),...,f_n(x))=f_{n+1}(x)$ 且 $g_i(x)=f_i(x)$

故有 $I_x(g_1(x),...,g_n(x))=g_{n+1}(x)$ 即 $A\cap\left(\bigcap_{i=1}^{n+1}B_i\right)\subset\left\{x\big|x\in X\land g_x(f_1(x),...,g_n(x))=g_{n+1}(x)\right\}$

又根据 $U$ 是[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]可得 $\left\{x\big|x\in X\land I_x(g)(g_1(x),...,g_n(x))=g_{n+1}(x)\right\}\in U$

****** 是[[~/文档/note/离散数学/lssx.org::MK175][函数]]

对于任意 $\{g_1,...,g_{n+1}\}\subset\prod_{x\in S}M_x$ 满足 $[f_i]_\simeq=[g_i]_\simeq,1\leq i\leq n$ 假设 $[f_{n+1}]_\simeq\ne[g_{n+1}]\simeq$

且 $A'=\left\{x\big|x\in X\land I_x(g)(g_1(x),...,g_n(x))=g_{n+1}(x)\right\}\in U$

则定义 $B_i=\left\{x\big|x\in X\land f_i(x)=g_i(x)\right\}$ 根据[[~/文档/note/离散数学/lssx.org::MK37][定义]]可得 $B_i\in U,1\leq i\leq n$

由于 $U$ 是[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]，故有 $\bigcap_{i=1}^{n}B_i\ne\varnothing$ 且 $\bigcap_{i=1}^{n}B_i\in U$ 同理有 $Z_1=A\cap\left(\bigcap_{i=1}^{n}B_i\right)\in U$

对于任意 $x\in A\cap\left(\bigcap_{i=1}^{n}B_i\right)$ 均有 $f_i(x)=g_i(x),1\leq i\leq n$

且 $I_x(g_1(x),...,g_n(x))=I_x(f_1(x),...,f_n(x))=f_{n+1}(x)$

同理亦有 $Z_2=A'\cap\left(\bigcap_{i=1}^{n}B_i\right)\in U$

及对于任意 $x\in A'\cap\left(\bigcap_{i=1}^{n}B_i\right)$ 有 $I_x(g_1(x),...,g_n(x))=I_x(f_1(x),...,f_n(x))=g_{n+1}(x)$

由于 $U$ 是[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]，故可得 $Z_1\cap Z_2\in U$ 且 $Z_1\cap Z_2\ne\varnothing$

则对于任意 $x\in Z_1\cap Z_2$ 有 $g_{n+1}(x)=I_x(g_1(x),...,g_n(x))=I_x(f_1(x),...,f_n(x))=f_{n+1}(x)$

即 $Z_1\cap Z_2\subset\left\{x\big|x\in X\land f_{n+1}(x)=g_{n+1}(x)\right\}$ 根据 $U$ 是[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]，以及 $Z_1\cap Z_2\in U$ 

可得 $\left\{x\big|x\in X\land f_{n+1}(x)=g_{n+1}(x)\right\}\in U$ 根据[[~/文档/note/离散数学/lssx.org::MK37][定义]]与 $[f_{n+1}]_\simeq\ne[g_{n+1}]\simeq$ 矛盾

故假设不成立，即 $[f_{n+1}]_\simeq=[g_{n+1}]\simeq$

***** $n$ 元[[MK110][谓词符号]]

已有 $\left<[f_1]_\simeq,...,[f_n]_\simeq\right>\in I(p)$ 满足 $\left\{x\big|x\in X\land \left<f_1(x),...,f_n(x)\right>\in I_x(p)\right\}\in U$

[[MK317][同理可证]]对于任意 $\{g_1,...,g_{n+1}\}\subset\prod_{x\in S}M_x$ 满足 $[f_i]_\simeq=[g_i]_\simeq$

亦满足 $\left\{x\big|x\in X\land \left<g_1(x),...,g_n(x)\right>\in I_x(p)\right\}\in U$

*** 引理2<<MK318>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在[[MK153][结构]]族 $\left\{\mathcal{M}_x=\left<M_x,I_x\right>\big|x\in X\right\}$ 以及 $X$ 上的[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $U$ 

$\mathcal{M}=\left<M,I\right>$ 是 $\left\{\left<M_x,I_x\right>\big|x\in X\right\}$ 在 $U$ 下的[[MK316][超积]]，及其[[MK154][赋值]] $v$

对于任意[[MK107][变元符号]] $x_i$ 根据 $M$ 定义可得 $v(x_i)=K\in M$ 是[[~/文档/note/离散数学/lssx.org::MK133][等价类]]，则有[[~/文档/note/离散数学/lssx.org::MK14][选择函数]] $\eta(K)\in v(x_i)$

进一步对于给定 $\eta$ 定义对于任意 $a\in X$ 有 $\mathcal{M}_a$ 的[[MK154][赋值]] $v_{a,\eta}$ 为 $v_{a,\eta}(x_i)=\eta(K)(a)$

则有对于任意[[~/文档/note/离散数学/lssx.org::MK14][选择函数]] $\eta$ 任意[[MK117][项]] $\tau$ 均有 $\bar{v}(\tau)=K$ 的充要条件是 $\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau)=\eta(K)(a)\right\}\in U$

**** 证明

任意[[~/文档/note/离散数学/lssx.org::MK14][选择函数]] $\eta$ 根据下列证明以及 $|\tau|<\infty$ 长度有限，故可根据数学归纳法证明结论

***** $|\tau|=1$

****** [[MK107][变元符号]]

当 $\tau=x_i$ 时

******* 充分

设 $\bar{v}(\tau)=K$ ，则对于任意 $a\in X$ 均有 $\bar{v}_{a,\eta}(\tau)=v_{a,\eta}(x_i)=\eta(K)(a)$

故可得 $\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau)=\eta(K)(a)\right\}=X$ ，由于 $U$ 是 $X$ 的[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]，故有 $X\in U$

******* 必要<<MK319>>

若 $Z_1=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau)=\eta(K)(a)\right\}\in U$ 则设 $\bar{v}(\tau)=K'$

根据上一步证明有 $Z_2=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau)=\eta(K')(a)\right\}\in U$ 根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]有 $Z_1\cap Z_2\in U$

对于任意 $a\in Z_1\cap Z_2$ 均有 $\eta(K)(a)=\bar{v}_{a,\eta}(\tau)=\eta(K')(a)$ 即 $Z_1\cap Z_2\subset \left\{a\big|a\in X\land \eta(K)(a)=\eta(K')(a)\right\}$

根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]有 $\left\{a\big|a\in X\land \eta(K)(a)=\eta(K')(a)\right\}\in U$ 即根据[[~/文档/note/离散数学/lssx.org::MK37][定义]] $\eta(K)(a)\simeq\eta(K')(a)$

显然 $K=[\eta(K)]_\simeq,K'=[\eta(K')]_\simeq$ 则根据[[~/文档/note/离散数学/lssx.org::MK134][定理1]]可得 $K =[\eta(K)]_\simeq =[\eta(K')]_\simeq =K'$ 即 $v(\tau) =K$

****** [[MK108][常元符号]]

当 $\tau=c_i$ 时

******* 充分

设 $\bar{v}(\tau)=I(c_i)=K$ ，则根据[[MK316][定义]]存在 $f_{c_i}\in\bar{v}(c_i)$ 满足对于任意 $a\in X$ 均有 $f_{c_i}(a)=I_x(c_i)$

则有 $\eta(K)\simeq f_{c_i}$ 根据[[MK316][定义（2）]]可得 $Z=\left\{a\big|a\in X\land \eta(K)(a)=f_{c_i}(a)\right\}\in U$

又由于对于任意 $a\in X$ 均有 $\bar{v}_{a,\eta}(\tau)=\bar{v}_{a,\eta}(c_i)=I_a(c_i)=f_{c_i}(a)$

故可得 $\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau)=f_{c_i}(a)\right\}=X$ 由于 $U$ 是 $X$ 的[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]，故有 $X\in U$

则对于任意 $a\in Z\cap X$ 有 $\bar{v}_{a,\eta}(\tau)=f_{c_i}(a)=\eta(K)(a)$ 即 $Z\cap X\subset\left\{a\big|a\in X\land\bar{v}_{a,\eta}(\tau)=\eta(K)(a)\right\}$

又根据[[~/文档/note/离散数学/lssx.org::MK36][滤子（3）]]有 $\left\{a\big|a\in X\land\bar{v}_{a,\eta}(\tau)=\eta(K)(a)\right\}\in U$

******* 必要

[[MK319][同理]]可证

***** 归纳假设

设对于任意 $|\tau|=k<n$ 均有 $\bar{v}(\tau)=[f]_\simeq$ 的充要条件是 $\left\{a\big|a\in X\land \bar{v}_a(\tau)=f(a)\right\}\in U$

***** $|\tau|=n$

根据[[MK126][唯一可读性]]有且仅有 $\tau=f_i(\tau_1,...,\tau_m)$ 形式，定义 $\bar{v}(\tau_p)=K_p$

****** 充分

设 $\bar{v}(\tau)=K$ ，若 $\tau=n$ 则显然 $|\tau_u|<n,1\leq u\leq m$ 

则根据[[MK155][项赋值]]有 $\bar{v}_a(f_i(\tau_1,...,\tau_m))=I_a(f_i)(\bar{v}_{a,\eta}(\tau_1),...,\bar{v}_{a,\eta}(\tau_m))$

以及 $\bar{v}(f_i(\tau_1,...,\tau_m))=I(f_i)(K_1,...,K_m)=K$ 根据归纳假设 $X_p=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_p)=\eta(K_p)(a)\right\}\in U$

显然 $\bigcap_{p=1}^m X_p=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_1)=\eta(K_1)(a)\land...\land\bar{v}_{a,\eta}(\tau_m)=\eta(K_m)(a)\right\}$ 根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $\bigcap_{p=1}^m X_p\in U$

又根据[[MK316][定义]]有 $Z=\left\{a\big|a\in X\land I_a(f_i)(\eta(K_1)(a),...,\eta(K_m)(a))=\eta(K)(a)\right\}\in U$ 同理 $Z\cap\left(\bigcap_{p=1}^m X_p\right)\in U$

故对于任意 $a\in Z\cap\left(\bigcap_{p=1}^m X_p\right)$

均有 $\bar{v}_a(\tau)=I_a(f_i)(\bar{v}_{a,\eta}(\tau_1),...,\bar{v}_{a,\eta}(\tau_m))=I_a(f_i)(\eta(K_1)(a),...,\eta(K_m)(a))=\eta(K)(a)$

即 $Z\cap\left(\bigcap_{p=1}^m X_p\right)\subset\left\{a\big|a\in X\land\bar{v}_{a,\eta}(\tau)=\eta(K)(a)\right\}$ 根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $\left\{a\big|a\in X\land\bar{v}_{a,\eta}(\tau)=\eta(K)(a)\right\}\in U$

****** 必要

[[MK319][同理]]可证

*** 超积基本定理<<MK320>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在[[MK153][结构]]族 $\left\{\mathcal{M}_a=\left<M_a,I_a\right>\big|a\in X\right\}$ 以及 $X$ 上的[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $U$ 

$\mathcal{M}=\left<M,I\right>$ 是 $\left\{\mathcal{M}_a=\left<M_a,I_a\right>\big|a\in X\right\}$ 在 $U$ 下的[[MK316][超积]]

其中 $M$ 中的元素表示为 $[f]_\simeq$ ，是[[~/文档/note/离散数学/lssx.org::MK14][选择函数]] $f$ 的[[~/文档/note/离散数学/lssx.org::MK133][等价类]]，

对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ ，对于[[MK107][变元符号]] $x_i$ 根据 $M$ 定义可得 $v(x_i)\in M$ 是[[~/文档/note/离散数学/lssx.org::MK133][等价类]]，则有[[~/文档/note/离散数学/lssx.org::MK14][选择函数]] $\eta(v(x_i))\in v(x_i)$

定义对于任意 $a\in X$ 有 $\mathcal{M}_a$ 的[[MK154][赋值]] $v_{a,\eta}$ 为 $v_{a,\eta}(x_i)=\eta(v(x_i))(a)$

则对于任意[[~/文档/note/离散数学/lssx.org::MK14][选择函数]] $\eta$ 有

（1） 对于任意 $\tau_1,\tau_2$ 为 $\mathcal{L}_\mathcal{A}$ 的[[MK117][项]] $\bar{v}(\tau_1)=\bar{v}(\tau_2)$ 当且仅当 $\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_1)=\bar{v}_{a,\eta}(\tau_2)\right\}\in U$

（2） 对于任意 $\tau_1,...,\tau_n$ 为 $\mathcal{L}_\mathcal{A}$ 的[[MK117][项]]， $p$ 为 $n$ 元[[MK110][谓词符号]] $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>\in I(p)$

     的充要条件是 $\left\{a\big|a\in X\land\left<\bar{v}_{a,\eta}(\tau_1),...,\bar{v}_{a,\eta}(\tau_n)\right>\in I_a(p)\right\}\in U$

（2） 对于任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\phi\right\}\in U$

（3） 对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 有 $\mathcal{M}\vDash\theta$ 的充要条件是 $\left\{a\big|a\in X\land\mathcal{M}_a\vDash\theta\right\}\in U$

**** 证明

***** 证明（1）

****** 充分

$\tau_1,\tau_2$ 为 $\mathcal{L}_\mathcal{A}$ 的[[MK117][项]]，则存在 $K$ 满足 $\bar{v}(\tau_1)=\bar{v}(\tau_2)=K$

根据[[MK318][引理2]]可得 $X_1=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_1)=\eta(K)(a)\right\}\in U,X_2=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_2)=\eta(K)(a)\right\}\in U$

根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $X_1\cap X_2\in U$ ，显然对于任意 $a\in X_1\cap X_2$ 均有 $\bar{v}_{a,\eta}(\tau_1)=\eta(K)(a)=\bar{v}_{a,\eta}(\tau_2)$

即 $X_1\cap X_2\subset\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_1)=\bar{v}_{a,\eta}(\tau_2)\right\}$ 则根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_1)=\bar{v}_{a,\eta}(\tau_2)\right\}\in U$

****** 必要

若 $X_1=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_1)=\bar{v}_{a,\eta}(\tau_2)\right\}\in U$ 设 $\bar{v}(\tau_1)=K_1,\bar{v}(\tau_2)=K_2$

根据[[MK318][引理2]] $X_2=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_1)=\eta(K_1)(a)\right\}\in U,X_3=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_2)=\eta(K_2)(a)\right\}\in U$

根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $X_1\cap X_2\cap X_3\in U$ 对于任意 $a\in X_1\cap X_2\cap X_3$ 均有 $\eta(K_1)(a)=\bar{v}_{a,\eta}(\tau_1)=\bar{v}_{a,\eta}(\tau_2)=\eta(K_2)(a)$

故有 $X_1\cap X_2\cap X_3\subset\left\{a\big|a\in X\land \eta(K_1)(a)=\eta(K_2)(a)\right\}$ 即根据[[~/文档/note/离散数学/lssx.org::MK37][定义]] $\eta(K_1)\simeq \eta(K_2)$

则根据[[~/文档/note/离散数学/lssx.org::MK134][定理1]] $\bar{v}(\tau_1)=K_1=[\eta(K_1)]_\simeq=[\eta(K_2)]_\simeq=K_2=\bar{v}(\tau_2)$

***** 证明（2）

****** 充分

若 $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>\in I(p)$ 设 $\bar{v}(\tau_p)=K_p$ 根据[[MK318][引理2]] $X_p=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_p)=\eta(K_p)(a)\right\}\in U$

显然 $\bigcap_{p=1}^n X_p=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_1)=\eta(K_1)(a)\land...\land\bar{v}_{a,\eta}(\tau_n)=\eta(K_n)(a)\right\}$ 根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $\bigcap_{p=1}^n X_p\in U$

又由于 $\left<K_1,...,K_n\right>\in I(p)$ 则根据[[MK316][定义]]有 $Z=\left\{a\big|a\in X\land \left<\eta(K_1)(a),...,\eta(K_n)(a)\right>\in I_a(p)\right\}\in U$

根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $Z\cap\bigcap_{p=1}^m X_p\in U$ 对于任意 $a\in Z\cap\bigcap_{p=1}^n X_p$

均有 $\bar{v}_{a,\eta}(\tau_p)=\eta(K_p)(a)$ 且 $\left<\eta(K_1)(a),...,\eta(K_n)(a)\right>\in I_a(p)$

即 $Z\cap\bigcap_{p=1}^m X_p\subset\left\{a\big|a\in X\land\left<\bar{v}_a(\tau_1),...,\bar{v}_a(\tau_n)\right>\in I_x(p)\right\}$

根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $\left\{a\big|a\in X\land\left<\bar{v}_{a,\eta}(\tau_1),...,\bar{v}_{a,\eta}(\tau_n)\right>\in I_a(p)\right\}\in U$

****** 必要

若 $Z=\left\{a\big|a\in X\land\left<\bar{v}_{a,\eta}(\tau_1),...,\bar{v}_{a,\eta}(\tau_n)\right>\in I_a(p)\right\}\in U$

设 $\bar{v}(\tau_p)=K_p$ 根据[[MK318][引理2]] $X_p=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_p)=\eta(K_p)(a)\right\}\in U$

显然 $\bigcap_{p=1}^n X_p=\left\{a\big|a\in X\land \bar{v}_{a,\eta}(\tau_1)=\eta(K_1)(a)\land...\land\bar{v}_{a,\eta}(\tau_n)=\eta(K_n)(a)\right\}$ 根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $\bigcap_{p=1}^n X_p\in U$

根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $Z\cap\bigcap_{p=1}^n X_p\in U$ 对于任意 $a\in Z\cap\bigcap_{p=1}^n X_p$ 均有 $\bar{v}_{a,\eta}(\tau_p)=\eta(K_p)(a)$

且 $\left<\bar{v}_{a,\eta}(\tau_1),...,\bar{v}_{a,\eta}(\tau_n)\right>\in I_a(p)$ 即 $Z\cap\bigcap_{p=1}^n X_p\subset\left\{a\big|a\in X\land\left<\eta(K_1)(a),...,\eta(K_n)(a)\right>\in I_x(p)\right\}$

根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $\left\{a\big|a\in X\land\left<\eta(K_1)(a),...,\eta(K_n)(a)\right>\in I_x(p)\right\}\in U$ 即 $\left<[\eta(K_1)]_\simeq,...,[\eta(K_n)]_\simeq\right>\in I(p)$

则根据[[~/文档/note/离散数学/lssx.org::MK134][定理1]] $\bar{v}(\tau_p)=K_p=[\eta(K_p)]_\simeq$ 故有 $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>\in I(p)$ 

***** 证明（3）

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ ，定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

根据 $z(\phi)<\infty$ ，下列证明以及数学归纳法可证

****** $z(\phi)=1$ 时

根据[[MK137][唯一可读性]]，有且仅有以下可能形式，则任意[[~/文档/note/离散数学/lssx.org::MK14][选择函数]] $\eta$ 有

******* $(\tau_1\hat{=}\tau_2)$

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash\phi$ 等价于 $\bar{v}(\tau_1)=\bar{v}(\tau_2)$

同理可得 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\phi\right\}=\left\{a\big|a\in X\land\bar{v}_{a,\eta}(\tau_1)=\bar{v}_{a,\eta}(\tau_2)\right\}$

根据证明（1）可得对于任意代表元 $\bar{v}(\tau_1)=\bar{v}(\tau_2)$ 的充要条件是 $\left\{a\big|a\in X\land\bar{v}_{a,\eta}(\tau_1)=\bar{v}_{a,\eta}(\tau_2)\right\}\in U$

故可得对于任意代表元 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\phi\right\}\in U$

******* $\phi=p_i(\tau_1,...,\tau_n)$

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash\phi$ 等价于 $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>\in I(p_i)$

同理 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\phi\right\}=\left\{a\big|a\in X\land\left<\bar{v}_{a,\eta}(\tau_1),...,\bar{v}_{a,\eta}(\tau_n)\right>\in I_a(p_i)\right\}$

根据证明（2）可得 $\left<\bar{v}(\tau_1),...,\bar{v}(\tau_n)\right>\in I(p)$ 的充要条件是 $\left\{a\big|a\in X\land\left<\bar{v}_{a,\eta}(\tau_1),...,\bar{v}_{a,\eta}(\tau_n)\right>\in I_a(p)\right\}\in U$

故可得 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\phi\right\}\in U$

****** 归纳假设

任意 $\mathcal{M}$ [[MK154][赋值]] $v$ ，任意[[~/文档/note/离散数学/lssx.org::MK14][选择函数]] $\eta$ ，任意 $\phi\in\mathcal{L}_\mathcal{A}$ 若有 $z(\phi)<n$

则均有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\phi\right\}\in U$

****** $z(\phi)=n$ 时

根据[[MK137][唯一可读性]]，有且仅有以下可能形式

******* $\phi=(\lnot\psi_1)$ <<MK321>>

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash\phi$ 等价于 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ ，显然 $z(\psi_1)<n$

同理 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta\right>\vDash\phi\right\}=\left\{a\big|a\in X\land\left<\mathcal{M}_a,v_{a,\eta}\right>\not\vDash\psi_1\right\}$

故根据归纳假设 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 的充要条件为 $Z=\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\psi_1\right\}\not\in U$

显然 $X-Z=\left\{a\big|a\in X\land\left<\mathcal{M}_a,v_{a,\eta}\right>\not\vDash\psi_1\right\}$ 根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]可得 $Z\not\in U$ 的充要条件是 $X-Z\in U$ 

故可得 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\phi\right\}\in U$

******* $\phi=(\psi_1\to\psi_2)$

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash\phi$ 等价于 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 或者 $\left<\mathcal{M},v\right>\vDash\psi_2$ ，显然 $z(\psi_1)<n, z(\psi_2)<n$

同理 $Z=\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_a\right>\vDash\phi\right\}=\left\{a\big|a\in X\land\left<\mathcal{M}_a,v_{a,\eta}\right>\not\vDash\psi_1\right\}\cup\left\{a\big|a\in X\land\left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\psi_2\right\}$

根据归纳假设 $\left<\mathcal{M},v\right>\not\vDash\psi_1$ 的充要条件为 $Z'_1=\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\psi_1\right\}\not\in U$

显然 $Z_1=X-Z'_1=\left\{a\big|a\in X\land\left<\mathcal{M}_a,v_{a,\eta}\right>\not\vDash\psi_1\right\}$ 根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]可得 $Z'_1\not\in U$ 的充要条件是 $Z_1\in U$ 

同理 $\left<\mathcal{M},v\right>\vDash\psi_2$ 的充要条件为 $Z_2=\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\psi_2\right\}\in U$

******** 充分

若 $\left<\mathcal{M},v\right>\vDash\phi$ 则 $Z_1,Z_2$ 至少有一个属于 $U$ 由于 $Z=Z_1\cup Z_2$ 故 $Z_1\subset Z,Z_2\subset Z$

故根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $Z\in U$ 故可得 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\phi\right\}\in U$

******** 必要

若 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\phi\right\}\in U$ 则有 $Z\in U$ 又由于 $Z=Z_1\cup Z_2$

则根据[[~/文档/note/离散数学/lssx.org::MK42][性质]]可得 $Z_1\in U,Z_2\in U$ 至少有一个成立，即 $Z_1'\not\in U,Z_2\in U$ 至少有一个成立

则根据归纳假设 $\left<\mathcal{M},v\right>\not\vDash\psi_1,\left<\mathcal{M},v\right>\vDash\psi_2$ 至少有一个成立，即 $\left<\mathcal{M},v\right>\vDash\phi$ 

******* $\phi=(\forall x_i\psi_1)$

******** $\left<\mathcal{M},v\right>\vDash(\exists x_i(\lnot\psi_1))$ 的充要条件是 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash(\exists x_i(\lnot\psi_1))\right\}\in U$

********* 充分

若 $\left<\mathcal{M},v\right>\vDash(\exists x_i(\lnot\psi_1))$ 则根据[[MK158][满足]]等价于存在 $\mathcal{M}$ [[MK154][赋值]] $\lambda$

满足对于任意 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\lambda(x_j)=v(x_j)$ 且 $\left<\mathcal{M},\lambda\right>\vDash(\lnot\psi_1)$

同样定义 $\lambda_{a,\eta}$ ，显然 $z(\psi_1)<n$ 则根据[[MK321][之前证明]]

可得 $\left<\mathcal{M},\lambda\right>\vDash(\lnot\psi_1)$ 的充要条件是 $Z=\left\{a\big|a\in X\land \left<\mathcal{M}_a,\lambda_{a,\eta}\right>\vDash(\lnot\psi_1)\right\}\in U$

则对于任意 $a\in Z$ 均存在 $\mathcal{M}_a$ [[MK154][赋值]] $\lambda_{a,\eta}$

满足对于任意 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\lambda_{a,\eta}(x_j)=v_{a,\eta}(x_j)$ 且 $\left<\mathcal{M}_a,\lambda_{a,\eta}\right>\vDash(\lnot\psi_1)$

即根据[[MK172][定义]]对于任意 $a\in Z$ 均有 $\left<\mathcal{M}_a,v_{a,\eta}\right>\vDash(\exists x_i(\lnot\psi_1))$

则有 $Z\subset\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash(\exists x_i(\lnot\psi_1))\right\}$

根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]可得 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash(\exists x_i(\lnot\psi_1))\right\}\in U$

********* 必要

若 $Z=\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash(\exists x_i(\lnot\psi_1))\right\}\in U$

则对于任意 $a\in Z$ 根据[[MK172][定义]]均存在 $\mathcal{M}_a$ 的[[MK154][赋值]] $\lambda_a$

满足对于任意 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\lambda_a(x_j)=v_{a,\eta}(x_j)=\eta(v(x_j))(a)$ 且 $\left<\mathcal{M}_a,\lambda_a\right>\vDash(\lnot\psi_1)$

由于 $\prod_{x\in X}M_x$ 为[[~/文档/note/离散数学/lssx.org::MK107][笛卡尔积]]的函数表示故存在 $g\in\prod_{a\in X}M_a$ 满足对于任意 $a\in Z$ 均有 $g(a)=\lambda_a(x_i)$

定义 $\mathcal{M}$ 的[[MK154][赋值]] $v'$ 满足对于任意 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $v'(x_j)=v(x_j)$

对于 $x_i$ 有 $v'(x_i)=[g]_\simeq$ ，于任意 $a\in Z$ 同样定义 $v'_{a,\eta}$则显然对于任意 $\phi$ 中

除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\lambda_a(x_j)=v_{a,\eta}(x_j)=v'_{a,\eta}(x_j)$ 以及 $v'_{a,\eta}(x_i)=\eta([g] _\simeq)(a)$

又根据定义有 $\eta([g]_\simeq)\simeq g$ 则根据[[~/文档/note/离散数学/lssx.org::MK37][定义]]可得 $Z_1=\left\{a\big|a\in X\land \eta([g]_\simeq)(a)=g(a)\right\}\in U$

根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $Z_1\cap Z_2\in U$ 对于任意 $a\in Z_1\cap Z_2$ 均有 $\left<\mathcal{M}_a,\lambda_a\right>\vDash(\lnot\psi_1)$ 以及 $\eta([g]_\simeq)(a)=g(a)$

进一步对于任意 $\phi$ 中除 $x_i$ 的[[MK140][自由变元]] $x_j$ 有 $\eta(v'(x_j))=\eta(v(x_j))$

进而有对于任意 $a\in X$ 均有 $\eta(v'(x_j))(a)=\eta(v(x_j))(a)=\lambda_a(x_j)$ ，且对 $x_i$ 有 $\eta([g]_\simeq)(a)=\lambda(x_i)$

最终对于任意 $a\in X$ 以及任意 $\phi$ 中的[[MK140][自由变元]] $x_i$ 均有 $v'_{a,\eta}(x_i)=\lambda(x_i)$

故可得任意 $a\in Z_1\cap Z_2$ 均有 $\left<\mathcal{M}_a,v'_{a,\eta}\right>(\lnot\psi_1)$ 即 $Z_1\cap Z_2\subset\left\{a\big|a\in X\land \left<\mathcal{M}_a,v'_{a,\eta}\right>\vDash(\lnot\psi_1)\right\}$

故有 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v'_{a,\eta}\right>\vDash(\lnot\psi_1)\right\}\in U$ 显然 $z(\psi_1)<n$ 则根据[[MK321][之前证明]]

以及归纳假设有 $\left<\mathcal{M},v'\right>\vDash(\lnot\psi_1)$ 即根据[[MK172][定义]] $\left<\mathcal{M},v\right>\vDash(\exists x_i(\lnot\psi_1))$ 

******** 结论

根据[[MK165][引理5]]可得 $\left<\mathcal{M},v\right>\vDash\phi$ 等价于 $\left<\mathcal{M},v\right>\vDash(\lnot(\exists x_i(\lnot\psi_1)))$ 根据[[MK158][满足]]可得等价于 $\left<\mathcal{M},v\right>\not\vDash(\exists x_i(\lnot\psi_1))$

根据上一步证明可得等价于 $Z=\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash(\exists x_i(\lnot\psi_1))\right\}\not\in U$

显然 $X-Z=\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\not\vDash(\exists x_i(\lnot\psi_1))\right\}$ 根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]等价于 $X-Z\in U$ 

根据[[MK158][满足]]可得 $X-Z=\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash(\lnot(\exists x_i(\lnot\psi_1)))\right\}$

即 $\left<\mathcal{M},v\right>\vDash\phi$ 等价于 $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash(\lnot(\exists x_i(\lnot\psi_1)))\right\}\in U$

***** 证明（4）

****** 充分

由于 $\theta$ 是[[MK144][语句]]，故根据[[MK169][推论]]可得 $\mathcal{M}\vDash\theta$ 等价于存在 $\mathcal{M}$ [[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash\theta$

根据结论（3）可得等价于 $Z=\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\theta\right\}\in U$

则对于任意 $a\in Z$ 有 $\mathcal{M}_a$ [[MK154][赋值]] $v_{a,\eta}$ 满足 $\left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\theta$ 同样根据[[MK169][推论]] $\mathcal{M}_a\vDash\theta$

故 $Z\subset\left\{a\big|a\in X\land\mathcal{M}_a\vDash\theta\right\}$ 根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]]可得 $\left\{a\big|a\in X\land\mathcal{M}_a\vDash\theta\right\}\in U$

****** 必要

若 $Z=\left\{a\big|a\in X\land\mathcal{M}_a\vDash\theta\right\}\in U$ 则根据[[MK169][推论]]可得对于任意 $a\in Z$

均有 $\left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\theta$ ，故有 $Z\subset\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\theta\right\}$

根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $\left\{a\big|a\in X\land \left<\mathcal{M}_a,v_{a,\eta}\right>\vDash\theta\right\}\in U$ 根据结论（3）可得等价于 $\left<\mathcal{M},v\right>\vDash\theta$

同样根据[[MK169][推论]] $\mathcal{M}\vDash\theta$

*** 超幂基本定理

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在[[MK153][结构]]族 $\left\{\mathcal{M}_a=\left<M_a,I_a\right>\big|a\in X\right\}$ 以及 $X$ 上的[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $U$ 

$\mathcal{N}=\left<N,I\right>$ 是 $\left\{\mathcal{M}_a=\left<M_a,I_a\right>\big|a\in X\right\}$ 在 $U$ 下的[[MK316][超幂]]，即任意 $a\in X$ 均有 $\mathcal{M}_a=\mathcal{M}=\left<M,I\right>$

则对于每一个 $m\in M$ 定义 $f_m:X\to M$ 是值为 $m$ 的常值函数，即对于任意 $a\in X$ 均有 $f_m(a)=m$

则定义 $e: M\to N$ 满足对于任意 $m\in M$ 均有 $e(m)=[f_m]_\simeq$

则 $e$ 是 $\mathcal{M}$ 到 $\mathcal{N}$ 的[[MK301][同质嵌入映射]]

**** 证明

对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 以及[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ ，显然 $v\cdot e$ 是 $\mathcal{N}$ 的[[MK154][赋值]]

则对于任意[[MK107][变元符号]] $x_i$ 均存在 $f_{v(x_i)}\in\prod_{x\in X}M_x$ 满足 $e(v(x_i))=[f_{v(x_i)}]_\simeq$

则定义[[~/文档/note/离散数学/lssx.org::MK14][选择函数]] $\eta$ 满足对于任意[[MK107][变元符号]] $x_i$ 有 $\eta(e(v(x_i)))=f_{v(x_i)}$

则满足对于任意[[MK107][变元符号]] $x_i$ 任意 $a\in X$ 有 $\eta(e(v(x_i)))(a)=f_{v(x_i)}(a)=v(x_i)$

综上所述， $v\cdot e$ 以及 $v$ 满足[[MK320][超积基本定理]]中函数定义，即 $v=v\cdot e_{a,\eta}$

***** 充分

若 $\left<\mathcal{M},v\right>\vDash\phi$ 则由于任意 $a\in X$ 均有 $\mathcal{M}_a=\mathcal{M}=\left<M,I\right>$

故有 $\left\{a\big|a\in X\land \left<\mathcal{M},v\right>\vDash\phi\right\}=U$ 根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $\left\{a\big|a\in X\land \left<\mathcal{M},v\right>\vDash\phi\right\}\in U$

则根据[[MK320][超积基本定理]]等价于 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$

***** 必要

若 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$ 则根据[[MK320][超积基本定理]]等价于 $\left\{a\big|a\in X\land \left<\mathcal{M},v\right>\vDash\phi\right\}\in U$

根据[[~/文档/note/离散数学/lssx.org::MK39][超滤子]] $\varnothing\not\in U$ 故有 $\left\{a\big|a\in X\land \left<\mathcal{M},v\right>\vDash\phi\right\}$ 非空，则 $\left\{a\big|a\in X\land \left<\mathcal{M},v\right>\vDash\phi\right\}=U$

即 $\left<\mathcal{M},v\right>\vDash\phi$ 

** 一阶逻辑的类型

*** 定义

**** 类型<<MK322>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]集合 $\Gamma$ 满足任意 $\gamma\in\Gamma$ 均有 $\gamma$ 中的[[MK140][自由变元]]均在 $x_1,...,x_n$ 中

则称 $\Gamma$ 是关于 $x_1,...,x_n$ 的[[MK129][表达式]]集合，记作 $\Gamma(x_1,...,x_n)$

当且仅当 $\Gamma(x_1,...,x_n)$ 是关于 $x_1,...,x_n$ 的[[MK129][表达式]]集合中[[MK223][极大一致]]的，则称 $\Gamma(x_1,...,x_n)$ 为 $n$ 元类型

注：该处极大指的是不存在 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 且 $\phi\not\in\Gamma$ 满足 $\Gamma\cup\{\phi\}$ 是[[MK222][一致]]的

**** 共同解（实现）<<MK323>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及关于 $x_1,...,x_n$ 的[[MK129][表达式]]集合 $\Gamma(x_1,...,x_n)$

当且仅当存在 $a_1\in M,...,a_n\in M$ 满足对于任意 $\gamma(x_1,...,x_n)\in\Gamma$ 均有 $\mathcal{M}\vDash\gamma[a_1,...,a_n]$

则称 $a_1,...,a_n$ 是 $\Gamma$ 在 $\mathcal{M}$ 中的共同解或实现。记作 $\mathcal{M}\vDash\Gamma[a_1,...,a_n]$

**** 冲突<<MK324>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ [[MK222][一致]]，若有 $\psi\in\Gamma$ 与 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$

满足 $T\cup\left\{(\exists x_1(...(\exists x_n(\phi\land(\lnot\psi)))))\right\}$ [[MK222][一致]]，则称 $\psi$ 在 $\mathcal{T}$ 之下与 $\phi$ 冲突

**** 局部排斥<<MK325>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ [[MK222][一致]]， $\Gamma(x_1,...,x_n)$ 是 $\mathcal{L}_\mathcal{A}$ 中[[MK322][关于 $x_1,...,x_n$ 的表达式]]集合

若对于任意 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 满足 $T\cup\{\phi\}$ [[MK222][一致]]，均存在 $\psi\in\Gamma$ 与 $\phi$ 在 $\mathcal{T}$ 下[[MK324][冲突]]

则称 $\mathcal{T}$ 局部排斥 $\Gamma$
 
**** 接纳与排斥<<MK326>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及[[MK322][关于 $x_1,...,x_n$ 的表达式]]集合 $\Gamma(x_1,...,x_n)$

（1） 若存在 $a_1\in M,...,a_n\in M$ 是 $\Gamma$ 在 $\mathcal{M}$ 中的[[MK323][实现]]，则称 $\mathcal{M}$ 接纳 $\Gamma$ ，或 $\Gamma$ 在 $\mathcal{M}$ 中可实现

（2） 反之则称 $\mathcal{M}$ 排斥（或省略） $\Gamma$

**** 肯定<<MK327>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 其中 $T$ [[MK222][一致]]，有关于 $x_1,...,x_n$ 的[[MK129][表达式]]集合 $\Gamma(x_1,...,x_n)\subset\mathcal{L}_\mathcal{A}$

若存在[[MK129][表达式]] $\phi(x_1,...,x_n)$ 满足：

（1） $T\cup\left{(\exists x_1(...(\exists x_n\phi)))\right}$ [[MK222][一致]]

（2） 对于任意 $\gamma\in\Gamma$ 均有 $T\vdash(\phi\to\gamma)$

则称 $\mathcal{T}$ （通过 $\phi$ ）肯定 $\Gamma$

**** 判定试<<MK328>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]，有[[MK129][表达式]] $\phi(x_1,...,x_n)$ 满足

（1） $T\cup\left{(\exists x_1(...(\exists x_n\phi)...))\right}$ [[MK222][一致]]

（2） 对于任意 $\psi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ ， $T\vdash(\phi\to\psi),T\vdash(\phi\to(\lnot\psi))$ 有且仅有一个成立

则称 $\phi$ 是 $\mathcal{T}$ 在 $\mathcal{L}_\mathcal{A}$ 下的判定试

**** 根本型<<MK329>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]，有 $\mathcal{L}_\mathcal{A}$ 的[[MK322][类型]] $\Gamma(x_1,...,x_n)$ 满足

（1） $T\subset\Gamma$

（2） 存在 $\phi\in\Gamma$ 满足 $\Gamma=\left\{\psi(x_1,...,x_n)\big|((\psi\in\mathcal{L}_\mathcal{A})\land(T\vdash(\phi\to\psi)))\right\}$ 

则称 $\Gamma$ 是 $\mathcal{T}$ 的根本型

**** 基本结构<<MK369>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 定义其下所有[[MK144][语句]]集合为 $\Theta$ ，有 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M, I\right>$ 定义 $T=\left\{\theta\big|\theta\in\Theta\land\mathcal{M}\vDash\theta\right\}$

则有[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 若对于任意 $n\in\mathbb{N}$ 任意 $\left<a_1,...,a_n\right>\in M^n$

均有 $\Gamma=\left\{\phi(x_1,...,x_n)\big|\mathcal{M}\vDash\phi[a_1,...,a_n]\land \phi\in\mathcal{L}_\mathcal{A}\right\}$ 是 $\mathcal{T}$ 的[[MK329][根本型]]，则称 $\mathcal{M}$ 是 $\mathcal{L}_\mathcal{A}$ 的基本结构

注：根据[[MK330][引理2]]可得 $\Gamma=\left\{\phi\big|\mathcal{M}\vDash\phi[a_1,...,a_n]\land \phi\in\mathcal{L}_\mathcal{A}\right\}$ 是[[MK322][类型]]

另：若[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 有 $\mathcal{L}_\mathcal{A}$ 的基本结构 $\mathcal{M}$ 满足 $\mathcal{M}\vDash T$ ，则称 $\mathcal{M}$ 是 $\mathcal{T}$ 的基本模型

**** 根本型理论<<MK370>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]，若对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 满足 $T\cup\{\phi\}$ [[MK222][一致]]

以及任意 $n\in\mathbb{N}$ 满足 $\phi$ 是[[MK322][关于 $x_1,...,x_n$ 的表达式]]

均存在[[MK329][根本型]] $\Gamma(x_1,...,x_n)\supset T$ 满足 $\phi\in\Gamma$ ，则称 $\mathcal{T}$ 是 $\mathcal{L}_\mathcal{A}$ 的根本型理论

**** 最小典型[[MK221][模型]]<<MK489>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]且只有[[MK221][无限模型]]，若 $\mathcal{T}$ 的某个[[MK221][模型]] $\mathcal{M}$

是任意一个 $\mathcal{T}$ 的[[MK221][模型]]的[[MK301][同质嵌入]]，则称 $\mathcal{M}$ 是 $\mathcal{T}$ 的最小典型[[MK221][模型]]

**** [[MK108][常元]]扩展<<MK406>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 对于任意 $X\subset M$ 做以下定义：

（1） $C_X=\left\{c_x\big|x\in X\right\}$ 是以 $x$ 为[[~/文档/note/离散数学/lssx.org::MK48][下标]]的[[MK108][常元符号]]

（2） $\mathcal{A}_{C_X}=\mathcal{A}\cup C_X$ 则有[[MK295][扩充语言]] $\mathcal{L}_{\mathcal{A}_{C_X}}$

（3） $I_X=I\cup\left\{\left<c_x,x\right>\big|x\in X\right\}$ 则显然 $(\mathcal{M},c_x)_{x\in X}=\left<M,I_X\right>$ 是 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 的[[MK153][结构]]

（4） $T_X=\text{Th}((\mathcal{M},c_x)_{x\in X})=\left\{\theta\big|\theta\in\Theta_X\land(\mathcal{M},c_x)_{x\in X}\vDash\theta\right\}$ 其中 $\Theta_X$ 是 $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 下所有的[[MK144][语句]]

（5） 显然 $\mathcal{T}_X=\left<\mathcal{L}_{\mathcal{A}_{C_X}},\mathbb{L}_{\mathcal{A}_{C_X}},T_X,T^*_X\right>$ 是 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 的[[MK220][一阶理论]]

则经过[[MK108][常元]]扩展：

（1） $\mathcal{L}_{\mathcal{A}_{C_X}}$ 是扩展后的[[MK151][语言]]

（2） $(\mathcal{M},c_x)_{x\in X}$ 是扩展后 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 的[[MK221][模型]]

（3） $\mathcal{T}_X$ 为扩展后 $(\mathcal{M},c_x)_{x\in X}$ 的[[MK220][理论]]

***** 引理1<<MK499>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK406][常元扩张]]语言 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 其中 $C_X$ 为扩张的[[MK108][常元符号]]，则对于任意[[MK129][表达式]] $\phi\in\mathcal{L}_{\mathcal{A}_{C_X}}$ 定义

（1） $\phi$ 中的所有[[MK107][变元符号]]均在 $x_1,...,x_n$

（2） $\phi$ 中所有在 $C_X$ 中的[[MK108][常元符号]]为 $c_{a_1},...,c_{a_m}$

（3） $\phi'=\phi(\left<c_{a_1},...,c_{a_m}\right>\cong\left<x_{n+1},...,x_{n+m}\right>)$ 即将 $\phi$ 中所有 $C_X$ 中的[[MK108][常元符号]]做[[MK411][替换]]为 $\phi$

     中未出现过的[[MK107][变元符号]]

对于任意 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 的[[MK153][结构]] $\mathcal{M}_X=\left<M,I_X\right>$ 及其[[MK154][赋值]] $v$ 定义

（1） $I=I_X-\left\{\left<c,I_X(c)\right>\big|c\in C_X\right\}$ 显然 $\mathcal{M}=\left<M,I\right>$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]]

（2） $\mathcal{M}_X$ 的[[MK154][赋值]] $\mu(x_i)=\begin{cases}v(x_i)&1\leq i\leq n\\a_{i-n}&n<i\leq n+m\end{cases}$ 显然亦为 $\mathcal{M}$ 的[[MK154][赋值]]

则有 $\left<\mathcal{M}_X,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},\mu\right>\vDash\phi'$

****** 证明

根据[[MK168][局部确定]]以及[[MK176][替换定理]]可得 $\left<\mathcal{M}_X,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_X,\mu\right>\vDash\phi'$

显然 $\phi'\in\mathcal{L}_\mathcal{A}$ 且 $\mathcal{M}$ 是 $\mathcal{M}_X$ 的[[MK295][裁剪结构]]，故根据[[MK296][定理1]]可得 $\left<\mathcal{M}_X,\mu\right>\vDash\phi'$ 的充要条件是 $\left<\mathcal{M},\mu\right>\vDash\phi'$ 

****** 推论<<MK500>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK406][常元扩张]]语言 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 其中 $C_X$ 为扩张的[[MK108][常元符号]]，则对于任意[[MK129][表达式]] $\phi\in\mathcal{L}_{\mathcal{A}$

任意 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 的[[MK153][结构]] $\mathcal{M}_X=\left<M,I_X\right>$ 及其[[MK154][赋值]] $v$ 定义 $I=I_X-\left\{\left<c,I_X(c)\right>\big|c\in C_X\right\}$

显然 $\mathcal{M}=\left<M,I\right>$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]]。则有 $\left<\mathcal{M}_X,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi$

******* 证明

由于 $\phi\in\mathcal{L}_\mathcal{A}$ 则显然在[[MK499][定义]]中有 $\phi'=\phi,\mu=v$ ，即根据[[MK499][引理1]]可得 $\left<\mathcal{M}_X,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi$

***** 引理2<<MK497>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 满足 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]且映射为 $e$

则对于任意 $X\subset M$ 对于 $\mathcal{M}$ 进行[[MK406][常元扩展]]可得 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 以及 $\mathcal{M}_X=\left<M,I_X\right>$

则进一步定义 $J_X=J\cap\left\{\left<c_a,e(a)\right>\big|a\in X\right\}$ 和 $\mathcal{N}_X=\left<N,J_X\right>$

则有 $\mathcal{M}_X$ 亦为 $\mathcal{N}_X$ 的[[MK301][同质嵌入]]且[[MK301][同质嵌入映射]]仍为 $e$

****** 证明

对于任意 $\phi\in\mathcal{L}_{\mathcal{A}_{C_X}$ 是[[MK129][表达式]]且有 $\mathcal{M}_X$ 的[[MK154][赋值]] $v$ 使得 $\left<\mathcal{M}_X,v\right>\vDash\phi$

设 $\phi$ 中的所有[[MK107][变元符号]]均在 $x_1,...,x_n$ 中， $\phi$ 中所有在 $C_X$ 中的[[MK108][常元符号]]为 $c_{a_1},...,c_{a_m}$

则定义 $\phi'=\phi(\left<c_{a_1},...,c_{a_m}\right>\cong\left<x_{n+1},...,x_{n+m}\right>)$ 根据[[MK499][引理1]]可得 $\left<\mathcal{M},\mu\right>\vDash\phi'$

由于 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]且 $\mu$ 是 $\mathcal{M}$ 的[[MK154][赋值]]，则根据[[MK301][定义]]有 $\left<\mathcal{N},\mu\cdot e\right>\vDash\phi'$

[[MK499][同理]]可得 $\left<\mathcal{N}_X,v\cdot e\right>\vDash\phi$ ，类似易证若 $\left<\mathcal{N}_X,v\cdot e\right>\vDash\phi$ 则有 $\left<\mathcal{M}_X,v\right>\vDash\phi$

综上所述，对于任意 $\phi\in\mathcal{L}_{\mathcal{A}_{C_X}$ 有 $\left<\mathcal{N}_X,v\cdot e\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_X,v\right>\vDash\phi$

即 $\mathcal{M}_X$ 亦为 $\mathcal{N}_X$ 的[[MK301][同质嵌入]]且[[MK301][同质嵌入映射]]仍为 $e$

***** 引理3<<MK501>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK406][常元扩张]]语言 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 其中 $C_X$ 为扩张的[[MK108][常元符号]]

其扩张[[MK220][一阶理论]] $\mathcal{T}_{C_X}=\left<\mathcal{L}_{\mathcal{A}_{C_X}},\mathbb{L}_{\mathcal{A}_{C_X}},T,T^*\right>$ 则：

（1） 对于任意 $\mathcal{T}_{C_X}$ 的[[MK221][模型]] $\mathcal{M}_X=\left<M,I_X\right>$ 定义 $I=I_X-\left\{\left<c,I_X(c)\right>\big|c\in C_X\right\}$

     则 $\mathcal{M}=\left<M,I\right>$ 是 $\mathcal{T}$ 的[[MK221][模型]]

（2） 对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}=\left<M,I\right>$ 定义 $I_X=I\cup\left\{\left<c,I_X(c)\right>\big|c\in C_X\right\}$

     则 $\mathcal{M}_X=\left<M,I_X\right>$ 是 $\mathcal{T}_{C_X}$ 的[[MK221][模型]]

****** 证明

******* 证明（1）

若 $\mathcal{M}_X$ 是 $\mathcal{T}_{C_X}$ 的[[MK221][模型]]，则对于任意 $\theta\in T\subset\mathcal{L}_\mathcal{A}$ 有 $\mathcal{M}_X\vDash\theta$ 由于 $\theta$ 是[[MK144][语句]]

则根据[[MK169][推论]]以及[[MK500][推论]]可得 $\mathcal{M}\vDash\theta$

******* 证明（2）

显然满足 $I=I_X-\left\{\left<c,I_X(c)\right>\big|c\in C_X\right\}$ 则根据上一步同理可证

**** 饱和[[MK153][结构]]/[[MK221][模型]]<<MK394>>

对于 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 若有[[~/文档/note/离散数学/lssx.org::MK35][基数]] $\kappa$ 满足对于任意 $X\subset M$ 只要 $|X|<\kappa$

则对于[[MK406][常元扩展]]后的[[MK220][理论]] $\mathcal{T}_X$ 的任意[[MK322][ $1$ 元类型]] $\Gamma(x_1)$ 只要 $\text{Th}((\mathcal{M},c_x)_{x\in X})\subset\Gamma$ 则 $\Gamma$ 被 $(\mathcal{M},c_x)_{x\in X}$ [[MK323][实现]]

则称 $\mathcal{M}$ 是 $\mathcal{L}_\mathcal{A}$ 的 $\kappa$ 饱和[[MK153][结构]]/[[MK221][模型]]

注：

（1） 若 $\kappa=|M|$ 则称 $\mathcal{M}$ 是饱和[[MK153][结构]]/[[MK221][模型]]

（2） 若 $\mathcal{M}$ 是[[MK153][可数结构]]且是 $|M|$ 饱和[[MK221][模型]]，则称 $\mahtcal{M}$ 为可数饱和[[MK153][结构]]/[[MK221][模型]]

**** [[~/文档/note/离散数学/lssx.org::MK82][有限]]实现<<MK402>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及关于 $x_1,...,x_n$ 的[[MK129][表达式]]集合 $\Gamma(x_1,...,x_n)$

若对于任意 $\Gamma$ 的[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $G\subset\Gamma$ 均可被 $\mathcal{M}$ [[MK323][实现]]，则称 $\mathcal{M}$ [[~/文档/note/离散数学/lssx.org::MK82][有限]]实现 $\Gamma$

*** 引理

**** 局部排斥引理<<MK331>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]，有 $\mathcal{L}_\mathcal{A}$ 的[[MK322][类型]] $\Gamma(x_1,...,x_n)$ ，则下列命题等价

（1） $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma$

（2） $\mathcal{T}$ 不[[MK327][肯定]] $\Gamma$

（3） $\Gamma$ 不是 $\mathcal{T}$ 的[[MK329][根本型]]

***** 证明

****** （1）推出（2）

对于任意 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 满足 $T\cup\{\phi\}$ [[MK222][一致]]，均存在 $\psi\in\Gamma$ 有 $T\cup\left\{(\exists x_1(...(\exists x_n(\phi\land(\lnot\psi)))))\right\}$ [[MK222][一致]]

根据[[MK254][完备性]]可得存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash T\cup\left\{(\exists x_1(...(\exists x_n(\phi\land(\lnot\psi)))))\right\}$

故有 $\left<\mathcal{M},v\right>\vDash(\exists x_1(...(\exists x_n(\phi\land(\lnot\psi)))))$ 根据[[MK174][引理]]可得存在 $\mathcal{M}$ 的[[MK154][赋值]] $\eta$ 使得 $\left<\mathcal{M},\eta\right>\vDash(\phi\land(\lnot\psi))$

进一步根据[[MK170][逻辑与]]和[[MK158][满足]]有 $\left<\mathcal{M},\eta\right>\vDash\phi$ 且 $\left<\mathcal{M},\eta\right>\not\vDash\psi$ ，即 $\left<\mathcal{M},\eta\right>\not\vDash(\phi\to\psi)$

又根据[[MK220][一阶理论]]可得 $T$ 是[[MK144][语句]]集合，则由于 $\left<\mathcal{M},v\right>\vDash T$ 则根据[[MK169][推论]]可得 $\left<\mathcal{M},\eta\right>\vDash T$

即存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $\eta$ 满足 $\left<\mathcal{M},\eta\right>\vDash T$ 且 $\left<\mathcal{M},\eta\right>\not\vDash(\phi\to\psi)$

则根据[[MK256][完备性]]可得 $T\not\vdash(\phi\to\psi)$

综上所述，对于任意 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 均存在 $\psi\in\Gamma$ 满足 $T\not\vdash(\phi\to\psi)$ ，即 $T$ 不[[MK327][肯定]] $\Gamma$

****** （2）推出（3）

不[[MK327][肯定]]则对于任意 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 若满足 $T\cup\left{(\exists x_1(...(\exists x_n\phi)))\right}$ [[MK222][一致]]，则存在 $\gamma\in\Gamma$ 有 $T\not\vdash(\phi\to\gamma)$

即不存在 $\phi\in\Gamma$ 满足 $\Gamma=\left\{\psi\big|((\psi\in\mathcal{L}_\mathcal{A})\to(T\vdash(\phi\to\psi)))\right\}$ ，即 $\Gamma$ 不是 $\mathcal{T}$ 的[[MK329][根本型]]

****** （3）推出（1）

假设不[[MK325][局部排斥]]，则存在 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 满足 $T\cup\{\phi\}$ [[MK222][一致]]且对于任意 $\psi\in\Gamma$

均有 $T\cup\left\{(\exists x_1(...(\exists x_n(\phi\land(\lnot\psi)))))\right\}$ 不[[MK222][一致]]

则根据以下证明可得当假设成立时必有 $\Gamma$ 是 $\mathcal{T}$ 的[[MK329][根本型]]，与（3）矛盾

故假设不成立 $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma$ 

******* 若 $T$ 不[[MK222][一致]]

不存在 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 满足 $T\cup\{\phi\}$ [[MK222][一致]]，假设不成立

******* 若 $T$ [[MK222][一致]]

根据[[MK213][归谬定理]]有 $T\vdash(\lnot(\exists x_1(...(\exists x_n(\phi\land(\lnot\psi))))))$ 根据[[MK207][引理1]]可得 $T\vdash(\forall x_1(...(\forall x_n(\lnot(\phi\land(\lnot\psi))))))$

即 $T\vdash(\forall x_1(...(\forall x_n(\lnot(\lnot(\phi\to(\lnot(\lnot\psi))))))))$ ，则根据以下证明可得 $\Gamma$ 是 $\mathcal{T}$ 的[[MK329][根本型]]

******** 任意 $\psi\in\Gamma$ 均有 $T\vdash(\phi\to\psi)$ <<MK332>>

显然根据[[MK158][满足]]易证对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash(\lnot(\lnot(\varphi)))$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\varphi$

显然 $(\lnot(\lnot\psi))$ 是 $(\forall x_1(...(\forall x_n(\lnot(\lnot(\phi\land(\lnot(\lnot\psi))))))))$ 的[[MK139][子表达式]]

根据[[MK219][替换定理]]有 $T\vdash(\forall x_1(...(\forall x_n(\lnot(\lnot(\phi\to\psi))))))$ 同理可证 $T\vdash(\forall x_1(...(\forall x_n(\phi\to\psi))))$

又根据[[MK208][引理2]]可得 $T\vdash(\phi\to\psi)$ 。综上所述，存在 $\phi\in\mathcal{L}_\mathcal{A}$ 满足对于任意 $\psi\in\Gamma$ 均有 $T\vdash(\phi\to\psi)$

******** $T\cup\{\phi\}\subset\Gamma$ <<MK333>>

由于 $T\cup\{\phi\}$ [[MK222][一致]]，根据[[MK255][完备性]]可得存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与其[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash T\cup\{\phi\}$

以及 $\left<\mathcal{M},v\right>\vDash\phi$ 。又对于任意 $\psi\in\Gamma$ 均有 $T\vdash(\phi\to\psi)$ 则根据 $\left<\mathcal{M},v\right>\vDash T$ 与[[MK257][完备性]]

有 $\left<\mathcal{M},v\right>\vDash(\phi\to\psi)$ ，故根据[[MK158][满足]]与 $\left<\mathcal{M},v\right>\vDash\phi$ 与 $\left<\mathcal{M},v\right>\vDash(\phi\to\psi)$ 可得 $\left<\mathcal{M},v\right>\vDash\psi$

综上所述，对于任意 $\psi\in\Gamma$ 均有 $\left<\mathcal{M},v\right>\vDash\psi$ 即 $\left<\mathcal{M},v\right>\vDash\Gamma$ 进一步有 $\left<\mathcal{M},v\right>\vDash T\cup\{\phi\}\cup\Gamma$

根据[[MK257][完备性]] $T\cup\{\phi\}\cup\Gamma$ [[MK222][一致]]，由于 $T$ 是[[MK144][语句]]集合，故不含[[MK140][自由变元]]

故任意 $\theta\in T$ 是[[MK322][关于 $x_1,...,x_n$ 的表达式]]， $\phi$ 根据定义亦是[[MK322][关于 $x_1,...,x_n$ 的表达式]]

由于 $\Gamma$ 是[[MK322][关于 $x_1,...,x_n$ 的表达式]]的[[MK223][极大一致]]集合故有 $T\cup\{\phi\}\subset\Gamma$

******** $\Gamma=\left\{\psi(x_1,...,x_n)\big|((\psi\in\mathcal{L}_\mathcal{A})\to(T\vdash(\phi\to\psi)))\right\}$

根据[[MK332][之前证明]]可得 $\Gamma\subset\left\{\psi\big|((\psi\in\mathcal{L}_\mathcal{A})\to(T\vdash(\phi\to\psi)))\right\}$

对于任意 $\psi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 满足 $T\vdash(\phi\to\psi)$ [[MK333][同理易证]] $\Gamma\cup\{\psi\}$ [[MK222][一致]]

由于 $\Gamma$ 是[[MK322][关于 $x_1,...,x_n$ 的表达式]]的[[MK223][极大一致]]集合故有 $\psi\in\Gamma$

**** 引理1<<MK379>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]，有 $\mathcal{L}_\mathcal{A}$ 的[[MK322][类型]] $\Gamma(x_1,...,x_n)$ 是 $\mathcal{T}$ 的[[MK329][根本型]]

则 $\phi\in\Gamma$ 满足 $\Gamma=\left\{\psi\big|((\psi\in\mathcal{L}_\mathcal{A})\to(T\vdash(\phi\to\psi)))\right\}$ 是 $\mathcal{T}$ 在 $\mathcal{L}_\mathcal{A}$ 下的[[MK328][判定试]]

***** 证明

****** $T\cup\{(\exists x_1(...(\exists x_n\phi)...))\}$ [[MK222][一致]]

显然由于 $\Gamma(x_1,...,x_n)$ 是 $\mathcal{T}$ 的[[MK322][类型]]，故友 $T\subset\Gamma$ 且 $\Gamma$ [[MK222][一致]]，根据条件有 $\phi\in\Gamma$

故根据[[MK255][完备性]]可得存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 与[[MK154][赋值]] $v$ 使得 $\left<\mathcal{M},v\right>\vDash T\cup\{\phi\}$

根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash(\exists x_1(...(\exists x_n\phi)...))$ ，即有 $\left<\mathcal{M},v\right>\vDash T\cup\{(\exists x_1(...(\exists x_n\phi)...))\}$

根据[[MK255][完备性]] $T\cup\{(\exists x_1(...(\exists x_n\phi)...))\}$ [[MK222][一致]]

****** $T\vdash(\phi\to\psi),T\vdash(\phi\to(\lnot\psi))$ 有且仅有一个成立

根据 $\Gamma$ 定义若有 $\psi\not\in\Gamma$ 则必有 $T\not\vdash(\phi\to\psi)$ 则根据[[MK264][完全性]]易证 $T\vdash(\lnot(\phi\to\psi))$

根据[[MK198][推论（9）]]可得 $T\vdash((\lnot(\phi\to\psi))\to(\lnot\psi))$ 根据[[MK197][第一宽容]]可得 $T\vdash((\lnot\psi)\to(\phi\to(\lnot\psi)))$

则根据[[MK210][导出引理]]可得 $T\vdash(\phi\to(\lnot\psi))$

综上所述，对于任意 $\psi\in\mathcal{L}_\mathcal{A}$ 必有 $\psi\in\Gamma,\psi\not\in\Gamma$ 有且仅有其一

若 $\psi\in\Gamma$ 则有 $T\vdash(\phi\to\psi)$ ，若 $\psi\not\in\Gamma$ 则有 $T\vdash(\phi\to(\lnot\psi))$ 故 $\phi$ 是 $\mathcal{T}$ 在 $\mathcal{L}_\mathcal{A}$ 下的[[MK328][判定试]]

**** 引理2<<MK330>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 定义其中所有[[MK322][关于 $x_1,...,x_n$ 的表达式]]的集合为 $\mathcal{K}_n$

则其任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 对于任意 $n\in\mathbb{N}$ 与任意一组 $\left<a_1,...,a_n\right>$

均存在唯一[[MK322][类型]] $\Gamma(x_1,...,x_n)$ 满足 $\Gamma=\left\{\phi\big|\phi\in\mathcal{K}_n\land\mathcal{M}\vDash\phi[a_1,...,a_n]\right\}$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

定义 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 满足 $v(x_i)=a_i$ 定义 $Z=\left\{\phi\big|\left<\mathcal{M},v\right>\vDash\phi\right\}$

则显然有 $\left<\mathcal{M},v\right>\vDash Z\cap \mathcal{K}_n=\left\{\phi\big|\phi\in\mathcal{K}_n\land\mathcal{M}\vDash\phi\right\}$ 根据[[MK254][完备性]]可得 $Z\cap\mathcal{K}_n$ [[MK222][一致]]

假设存在 $\phi(x_1,...,x_n)\not\in Z\cap\mathcal{K}_n$ 满足 $\{\phi\}\cup (Z\cap \mathcal{K}_n)$ [[MK222][一致]]，显然 $\phi\in \mathcal{K}_n,\phi\not\in Z$

故有 $\left<\mathcal{M},v\right>\not\vDash\phi$ 根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash(\lnot\phi)$ 即 $(\lnot\phi)\in Z$

显然 $(\lnot\phi)$ 亦是[[MK322][关于 $x_1,...,x_n$ 的表达式]]，即有 $(\lnot\phi)\in \mathcal{K}_n$ 即有 $(\lnot\phi)\in Z\cap \mathcal{K}_n$

显然有 $\{\phi\}\cup (Z\cap \mathcal{K}_n)\vdash\phi,\{\phi\}\cup (Z\cap \mathcal{K}_n)\vdash(\lnot\phi)$ 与[[MK222][一致]]矛盾

故假设不成立，即不存在 $\phi(x_1,...,x_n)\not\in Z\cap \mathcal{K}_n$ 满足 $\{\phi\}\cup (Z\cap \mathcal{K}_n)$ [[MK222][一致]]

故 $Z\cap \mathcal{K}_n$ 对于所有[[MK322][关于 $x_1,...,x_n$ 的表达式]]是[[MK223][极大一致]]的，即 $\Gamma = Z\cap \mathcal{K}_n$ 是[[MK322][类型]]

根据上述步骤，唯一性显然

***** 推论<<MK403>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 的任意[[MK322][类型]] $\Gamma(x_1,...,x_n)$ 对于任意[[MK153][结构]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ ，若有 $\left<\mathcal{M},v\right>\vDash\Gamma$

则有 $\Gamma=\left\{\phi\big|\phi\in\mathcal{K}_n\land\left<\mathcal{M},v\right>\vDash\phi\right\}$ 其中 $\mathcal{K}_n$ 是 $\mathcal{L}_\mathcal{A}$ 中所有[[MK322][关于 $x_1,...,x_n$ 的表达式]]的集合

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

****** 证明

假设存在 $\phi\in\mathcal{L}_\mathcal{A}$ 使得 $\left<\mathcal{M},v\right>\vDash\phi$ 且 $\phi\not\in\Gamma$ ，则根据[[MK255][完备性]]可得 $\Gamma\cup\{\phi\}$ [[MK222][一致]]

与 $\Gamma$ [[MK223][极大一致]]矛盾，故 $\left\{\phi\big|\phi\in\mathcal{K}_n\land\left<\mathcal{M},v\right>\vDash\phi\right\}\subset\Gamma$

又由于 $\left<\mathcal{M},v\right>\vDash\Gamma$ 显然有 $\Gamma\subset\left\{\phi\big|\phi\in\mathcal{K}_n\land\left<\mathcal{M},v\right>\vDash\phi\right\}$

根据[[~/文档/note/离散数学/lssx.org::MK16][自反性]]有 $\Gamma=\left\{\phi\big|\phi\in\mathcal{K}_n\land\left<\mathcal{M},v\right>\vDash\phi\right\}$

**** 引理3<<MK377>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]且有[[MK221][模型]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 

若对于 $n\in\mathbb{N}$ 以及 $\left<a_1,...,a_n\right>\in M^n$ 有：

（1） $\mathcal{M}\vDash\Gamma[a_1,...,a_n]$ 其中 $\Gamma$ 是 $\mathcal{T}$ 的[[MK329][根本型]]

（2） 存在 $\left<b_1,...,b_n\right>\in N^n$ 且有 $\mathcal{N}\vDash\phi[b_1,...,b_n]$ 其中 $\phi$ 是 $\Gamma$ 的[[MK328][判定试]]

则有 $\Gamma=\left\{\psi(x_1,...,x_n)\big|\mathcal{N}\vDash\psi[b_1,...,b_n]\right\}$

***** 证明

由于 $\Gamma$ 是 $\mathcal{T}$ 的[[MK329][根本型]]且 $\phi$ 是 $\Gamma$ 的[[MK328][判定试]]，则有 $\Gamma=\left\{\psi(x_1,...,x_n)\big|((\psi\in\mathcal{L}_\mathcal{A})\land(T\vdash(\phi\to\psi)))\right\}$

由于 $\mathcal{N}$ 是 $\mathcal{T}$ 的[[MK221][模型]]，故有 $\mathcal{N}\vDash T$ ，定义 $\mathcal{N}$ 的[[MK154][赋值]] $v$ 满足 $v(x_i)=b_i$

则根据[[MK257][完备性]]可得对于任意 $\psi\in\Gamma$ 有 $\left<\mathcal{N},v\right>\vDash(\phi\to\psi)$ 又根据[[MK168][局部确定]]有 $\left<\mathcal{N},v\right>\vDash\phi$

故根据[[MK158][满足]]可得 $\left<\mathcal{N},v\right>\vDash\psi$ ，根据[[MK168][局部确定]]即 $\mathcal{N}\vDash\psi[b_1,...,b_n]$

定义 $Z=\left\{\psi(x_1,...,x_n)\big|\mathcal{N}\vDash\psi[b_1,...,b_n]\right\}$ 则有对于任意 $\psi\in\Gamma$ 均有 $\psi\in Z$ 即 $\Gamma\subset Z$

对于任意 $\psi\in Z$ 假设 $\psi\not\in\Gamma$ ，则由于 $\Gamma\subset Z$ 故有 $\mathcal{N}\vDash\Gamma[b_1,...,b_n]$ 结合 $\mathcal{N}\vDash\psi[b_1,...,b_n]$

根据[[MK255][完备性]]可得 $\Gamma\cup\{\psi\}$ [[MK222][一致]]，显然 $\Gamma$ 不是[[MK322][关于 $x_1,...,x_n$ 的表达式]]是[[MK223][极大一致]]的，矛盾

故假设不成立，即对于任意 $\psi\in Z$ 均有 $\psi\in\Gamma$ ，即 $Z\subset\Gamma$

故根据[[~/文档/note/离散数学/lssx.org::MK16][自反性]]有 $\Gamma=Z=\left\{\psi(x_1,...,x_n)\big|\mathcal{N}\vDash\psi[b_1,...,b_n]\right\}$

**** 引理4<<MK380>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 若有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ ， $\left<a_1,...,a_n\right>\in M^n$ 以及[[MK322][类型]] $\Gamma(x_1,...,x_n)$

满足 $\mathcal{M}\vDash\Gamma[a_1,...,a_n]$ ，则有 $\Gamma=\left\{\phi(x_1,...,x_n)\big|\mathcal{M}\vDash\phi[a_1,...,a_n]\right\}$

***** 证明

定义 $K=\left\{\phi(x_1,...,x_n)\big|\mathcal{M}\vDash\phi[a_1,...,a_n]\right\}$ 由于 $\mathcal{M}\vDash\Gamma[a_1,...,a_n]$ 故显然 $\Gamma\subset K$

对于任意 $\phi\in K$ 假设 $\phi\not\in\Gamma$ 则由于 $\mathcal{M}\vDash\phi[a_1,...,a_n]$ ，根据[[MK255][完备性]]可得 $\Gamma\cup\{\phi\}$ [[MK222][一致]]

由于 $\phi\not\in\Gamma$ 则 $\Gamma$ 不是[[MK322][关于 $x_1,...,x_n$ 的表达式]]中[[MK223][极大一致]]的，即与 $\Gamma$ 是[[MK322][类型]]矛盾

故假设不成立，即任意 $\phi\in K$ 均有 $\phi\in\Gamma$ ，即有 $K\subset\Gamma$。根据[[~/文档/note/离散数学/lssx.org::MK16][自反性]]有 $K=\Gamma$

**** 引理5<<MK388>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 的两个[[MK153][结构]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 满足

（1） $M=\{a_1,a_2,...,a_k,...\},N=\{b_1,b_2,...,b_k,...\}$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]

（2） 存在[[~/文档/note/离散数学/lssx.org::MK181][双射]] $f:M\to N$ 对于任意 $n\in\mathbb{N}$ 均存在[[MK322][类型]] $\Gamma_n(x_1,...,x_{z_n})$ 满足：

    （a） $\mathcal{M}\vDash\Gamma_n[a_{k_1},...,a_{k_{z_n}}]$ 以及 $\mathcal{N}\vDash\Gamma_n[f(a_{k_1}),...,f(a_{k_{z_n}})]$

    （b） $\{a_1,...,a_n\}\subset\{a_{k_1},...,a_{k_{z_n}}\}$ 且 $\{b_1,...,b_n\}\subset\{f(a_{k_1}),...,f(a_{k_{z_n}})\}$

则 $f$ 是 $\mathcal{M}$ 到 $\mathcal{N}$ 的[[MK274][同构函数]]

***** 证明

由于 $f$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]，故仅证充分，必要性同理可证。

即对于任意 $\phi(x_1,...,x_p)\in\mathcal{L}_\mathcal{A}$ 假设存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash\phi$

****** 前提定义<<MK385>>

即有 $\mathcal{M}\vDash\phi[v(x_1),...,v(x_p)]$ 为方便定义 $v(x_i)=a_{j_i}$ 则有 $\mathcal{M}\vDash\phi[a_{j_1},...,a_{j_p}]$

进一步定义 $\phi$ 中所有的[[MK107][变元符号]]（包含[[MK140][受限变元]]和[[MK106][量词]]后的符号）为 $x_1,...,x_m$

定义 $n=\max(j_1,...,j_p)$ 根据条件（3）存在满足条件的[[MK322][类型]] $\Gamma_n(x_1,...,x_{i_n})$

定义 $u=\max(k_1,...,k_{z_n},m,p)$ 

****** 定义 $\phi'$ <<MK387>>

任取 $1\leq p\leq|\phi|$ 满足 $\left<\phi[p],\phi[p+1]\right>=\left<\forall,x_i\right>$ 以及 $i\leq u$

根据[[MK143][量词引理]]有唯一 $\phi[q]=)$ 满足 $\left<\phi[p-1],...,\phi[q]\right>=(\forall x_i\psi)\in\mathcal{L}_\mathcal{A}$

根据 $u$ 的定义显然 $x_{u+i}$ 不在 $\phi$ 中出现，故亦不在 $\psi$ 中出现，则 $x_{u+i}$ 不是 $\psi$ 的[[MK140][自由变元]]

故根据[[MK384][引理8]]将 $x_i$ 替换为 $x_{u+i}$ 可得 $\phi'_1$ 满足

对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi'_1$

继续对 $\phi'_1$ 任取 $1\leq p\leq|\phi|$ 满足 $\left<\phi[p],\phi[p+1]\right>=\left<\forall,x_i\right>$ 以及 $i\leq u$

同理可得存在 $\phi'_2$ 满足 $\left<\mathcal{M},v\right>\vDash\phi'_1$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi'_2$

由于 $|\phi|<\infty$ 且任意 $x_i$ 均有 $u+i>u$ 故经过有限次后可得 $\phi'$ 满足不存在 $1\leq p\leq|\phi|$

使得 $\left<\phi[p],\phi[p+1]\right>=\left<\forall,x_i\right>$ 以及 $i\leq u$ 。

根据[[MK384][引理8]]对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{O}$ 及其[[MK154][赋值]] $\mu$ 均有 $\left<\mathcal{O},\mu\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{O},\mu\right>\vDash\phi'$

且由于 $\left<\mathcal{M},v\right>\vDash\phi$ 可得 $\left<\mathcal{M},v\right>\vDash\phi'$

****** 定义 $\phi^*$ <<MK386>>

根据 $\Gamma_z[a_{k_1},...,a_{k_{z_n}}]$ 的条件可得 $\{j_1,...,j_p\}\subset\{a_1,...,a_n\}\subset\{a_{k_1},...,a_{k_{z_n}}\}$

则显然可定义函数 $g$ 满足 $j_i=k_{g(i)}$ 则替换所有 $\phi'$ 中的[[MK140][自由变元]] $x_i$ 为 $x_{g(i)}$

由于根据上一步 $\phi'$ 不含任何 $x_i,i<u$ 的[[MK142][量词辖域]]

根据上一步证明中 $\phi'$ 定义可得其[[MK107][变元符号]]的[[MK141][自由出现]]与 $\phi$ 保持不变

结合[[MK385][之前证明]]有 $u>k_i,1\leq i\leq z_n$ 故 $\phi'$ 中被替换的[[MK141][自由出现]]在 $\phi^*$ 中仍为[[MK141][自由出现]]

即符合[[MK150][替换]]规定，定义 $\mathcal{M}$ 的[[MK154][赋值]] $v'$ 满足 $v'(x_i)=a_{k_i}$ 则有 $v(x_i)=a_{j_i}=a_{k_{g(i)}}=v(x_{g(i)})$

则根据[[MK176][替换确定]]以及上一步证明中 $\left<\mathcal{M},v\right>\vDash\phi'$ 可得 $\left<\mathcal{M},v'\right>\vDash\phi^*$

****** $\mathcal{N}\vDash\phi^*[f(a_1),...,f(a_{k_n})]$

显然 $\phi^*$ 中包含的[[MK140][自由变元]]为 $x_{g(1)},...,x_{g(p)}$ 根据[[MK385][之前证明]]可得对于任意 $1\leq i\leq p$

有 $n\geq j_i=k_{g(i)}\in\{a_{k_1},...,a_{k_{z_n}}\}$ 故显然 $1\leq i\leq p$ 有 $g(i)<z_n$

即 $\phi^*$ 中所有[[MK140][自由变元]]均在 $x_1,...,x_{z_n}$ 中，即 $\phi^*$ 是[[MK322][关于 $x_1,...,x_{z_n}$ 的表达式]]

又根据上一步 $v'$ 定义有 $v'(x_i)=a_{k_i}$ 以及 $\left<\mathcal{M},v'\right>\vDash\phi^*$ 即 $\mathcal{M}\vDash\phi^*[a_{k_1},...,a_{k_{z_n}}]$

则根据[[MK330][引理2]]以及 $\mathcal{M}\vDash\Gamma_n[a_{k_1},...,a_{k_{z_n}}]$ 可得 $\phi^*\in\Gamma_n$

则根据 $\mathcal{N}\vDash\Gamma_n[f(a_{k_1}),...,f(a_{k_{z_n}})]$ 可得 $\mathcal{N}\vDash\phi^*[f(a_1),...,f(a_{k_n})]$

****** 证明结论

根据上一步证明显然有 $f(a_i)=f(v'(x_i))$ 则根据[[MK168][局部确定]]有 $\left<\mathcal{N},v'\cdot f\right>\vDash\phi^*$

又根据[[MK386][之前证明]]有 $\phi^*$ 到 $\phi'$ [[MK150][可替换]]，且 $f(v(x_i))=f(a_{j_i})=f(a_{k_{g(i)}})=f(v(x_{g(i)}))$

则根据[[MK176][替换确定]]可得 $\left<\mathcal{N},v\cdot f\right>\vDash\phi'$ 又根据[[MK387][之前证明]]有对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{O}$ 及其[[MK154][赋值]] $\mu$

均有 $\left<\mathcal{O},\mu\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{O},\mu\right>\vDash\phi'$ ，即有 $\left<\mathcal{N},v\cdot f\right>\vDash\phi$ 

**** 引理6<<MK390>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 的两个[[MK153][结构]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 满足

（1） $M=\{a_1,a_2,...,a_k,...\},N=\{b_1,b_2,...,b_k,...\}$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]

（2） 定义 $\mathcal{L}_\mathcal{A}$ 下所有[[MK144][语句]]集合为 $\Theta$ 则 $\left\{\theta\big|\mathcal{M}\vDash\theta\land\theta\in\Theta\right\}=\left\{\theta\big|\mathcal{N}\vDash\theta\land\theta\in\Theta\right\}$

（3） $\mathcal{M},\mathcal{N}$ 均为 $\mathcal{L}_\mathcal{A}$ 的[[MK369][基本结构]]

则存在[[~/文档/note/离散数学/lssx.org::MK181][双射]] $f:M\to N$ 对于任意 $n\in\mathbb{N}$ 均存在[[MK322][类型]] $\Gamma_n(x_1,...,x_{z_n})$ 满足：

（1） $\mathcal{M}\vDash\Gamma_n[a_{i_1},...,a_{i_{z_n}}]$ 以及 $\mathcal{N}\vDash\Gamma_n[f(a_{i_1}),...,f(a_{i_{z_n}})]$

（2） $\{a_1,...,a_n\}\subset\{a_{i_1},...,a_{i_{z_n}}\}$ 且 $\{b_1,...,b_n\}\subset\{f(a_{i_1}),...,f(a_{i_{z_n}})\}$

***** 证明

定义 $T=\left\{\theta\big|\mathcal{M}\vDash\theta\land\theta\in\Theta\right\}=\left\{\theta\big|\mathcal{N}\vDash\theta\land\theta\in\Theta\right\}$ 则有[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$

根据条件（3）可得对于任意 $n\in\mathbb{N}$ 任意 $\left<a_1,...,a_n\right>\in M^n,\left<b_1,...,b_n\right>\in N^n$

有 $\Gamma_M=\left\{\phi(x_1,...,x_n)\big|\mathcal{M}\vDash\phi[a_1,...,a_n]\land \phi\in\mathcal{L}_\mathcal{A}\right\},\Gamma_N=\left\{\phi(x_1,...,x_n)\big|\mathcal{N}\vDash\phi[b_1,...,b_n]\land \phi\in\mathcal{L}_\mathcal{A}\right\}$

均是 $\mathcal{T}$ 的[[MK329][根本型]]。则根据下列证明以及数学归纳法可得对于任意 $n\in\mathbb{N}$ 存在 $f_n,\Gamma_n(x_1,...,x_{z_n})$ 满足

（1） 在 $f_n$ 的定义域与值域上是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]

（2） $\{a_1,...,a_n\}\subset\text{dom}(f_n),\{b_1,...,b_n\}\subset\text{rng}(f_n)$

（3） $\mathcal{M}\vDash\Gamma_n[a_{i_1},...,a_{i_{z_n}}],\mathcal{N}\vDash\Gamma_n[f_n(a_{i_1}),...,f_n(a_{i_{z_n}})]$

（4） $\{a_1,...,a_n\}\subset\{a_{i_1},...,a_{i_{z_n}}\}$ 且 $\{b_1,...,b_n\}\subset\{f(a_{i_1}),...,f(a_{i_{z_n}})\}$

（5） 对于任意 $i<j$ 均有 $f_i\subset f_j$

定义 $f=\bigcup_{i\in\mathbb{N}}f_n$ ，根据[[~/文档/note/离散数学/lssx.org::MK184][并双射]]可得 $f$ 亦为[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]，且根据（3）可得对于任意 $b_i\in M_2$

有 $f_i$ 满足存在 $a\in M_1$ 使得 $f(a)=f_i(a)=b_i$ ，故 $\text{rng}(f)=M_2$ 同理 $\text{dom}(f)=M_1$

综上所述 $f$ 是 $M_1$ 到 $M_2$ 的[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]

且对于任意 $\left<a_1,...,a_n\right>\in M^n_1$ 均有 $\left<f_n(a_1),...,f_n(a_n)\right>\in M^n_2$ 满足存在 $T$ 的[[MK322][类型]] $\Gamma_n(x_{i_1},...,x_{i_{z_n}})\supset T$

有 $\mathcal{M}\vDash\Gamma_n[a_{i_1},...,a_{i_{z_n}}],\mathcal{N}\vDash\Gamma_n[f_n(a_{i_1}),...,f_n(a_{i_{z_n}})]$ 且 $\{a_1,...,a_n\}\subset\{a_{i_1},...,a_{i_{z_n}}\}$

又根据 $f$ 构造有 $f(a_k)=f_n(a_k),1\leq k\leq i_{z_n}$

即有 $\mathcal{M}\vDash\Gamma_n[a_{i_1},...,a_{i_{z_n}}],\mathcal{N}\vDash\Gamma_n[f(a_{i_1}),...,f(a_{i_{z_n}})]$ 

****** $n=1$

******* 正向取

根据[[MK330][引理2]]可得存在[[MK322][类型]] $\Gamma'_1(x_1)$ 满足 $\mathcal{M}\vDash\Gamma'_1[a_1]$ 根据条件（3）可得 $\Gamma'_1(x_1)$ 是 $\mathcal{T}$ 的[[MK329][根本型]]

即存在 $\phi(x_1)\in\Gamma'_1(x_1)$ 满足 $\Gamma'_1(x_1)=\left\{\psi(x_1)\big|T\vdash(\phi\to\psi)\right\}$ 则对于任意 $\mathcal{M}_1$ 的[[MK154][赋值]] $v$

满足 $v(x_1)=a_1$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$ 即有 $\mathcal{M}\vDash\exists(x_1\phi)\in T$ 则根据 $\mathcal{N}\vDash T$ 有 $\mathcal{N}\vDash\exists(x_1\phi)$

根据[[MK158][满足]]以及[[MK168][局部确定]]易证存在 $b_{p_1}\in M_2$ 满足 $\mathcal{N}\vDash\phi[b_{p_1}]$

又由于 $\mathcal{M}_2\vDash T$ 则对于任意 $\psi\in\Gamma(x_1)$ 均有 $T\vdash(\phi\to\psi)$ 根据[[MK256][完备性]]有 $\mathcal{M}_2\vDash(\phi\to\psi)[b_{p_1}]$ 

根据[[MK158][满足]]有 $\mathcal{M}_2\vDash\psi[b_{p_1}]$ 根据[[MK377][引理3]]有 $\mathcal{M}_2\vDash\Gamma'_1[b_{p_1}]$ ，则定义 $f'_1=\{\left<a_1,b_{p_1}\right>\}$

******* 反向取

若存在 $a\in M$ 使得 $f'_1(a)=b_1$ 则 $f_1=f'_1,\Gamma_1=\Gamma'_1(x_1)$ 否则根据上一步证明

根据[[MK330][引理2]]可得存在[[MK322][类型]] $\Gamma''_1(x_1,x_2)$ 满足 $\mathcal{N}\vDash\Gamma''_1[f(a_1),b_1]$ 

与上一步类似可得存在 $a_{q_1}\in M$ 满足 $\mathcal{M}\vDash\Gamma''_1[a_1,a_{q_1}]$ 则定义 $f_1=f'_1\cup\{\left<a_{q_1},b_1\right>\},\Gamma_1=\Gamma''_1(x_1,x_2)$

显然 $f_1$ 与 $\Gamma_1$ 满足：

（1） 在 $f_1$ 的定义域与值域上是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]

（2） $\{a_1\}\subset\text{dom}(f_1),\{b_1\}\subset\text{rng}(f_1)$

（3） $\mathcal{M}\vDash\Gamma_n[a_{i_1},...,a_{i_{z_1}}],\mathcal{N}\vDash\Gamma_n[f_n(a_{i_1}),...,f_n(a_{i_{z_1}})]$

（4） $\{a_1\}\subset\{a_{i_1},...,a_{i_{z_1}}\}$ 且 $\{b_1\}\subset\{f(a_{i_1}),...,f(a_{i_{z_1}})\}$

****** 归纳假设

对于任意 $k\leq N$ [[~/文档/note/离散数学/lssx.org::MK175][函数]] $f_k$ 与[[MK322][类型]] $\Gamma_k(x_1,...,x_{z_k})$ 满足

（1） 在 $f$ 的定义域与值域上 $f$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]

（2） $\{a_1,...,a_k\}\subset\text{dom}(f_k),\{b_1,...,b_k\}\subset\text{rng}(f_k)$

（3） $\mathcal{M}\vDash\Gamma_k[a_{i_1},...,a_{i_{z_k}}],\mathcal{N}\vDash\Gamma_k[f_k(a_{i_1}),...,f_k(a_{i_{z_k}})]$

（4） $\{a_1,...,a_k\}\subset\{a_{i_1},...,a_{i_{z_k}}\}$ 且 $\{b_1,...,b_k\}\subset\{f(a_{i_1}),...,f(a_{i_{z_k}})\}$

（5） 对于任意 $i\ne j$ 且 $\{i,j\}\subset \{i_1,...,i_{z_k}\}$ 均有 $a_{i}\ne a_j$

（6） 对于任意 $i<j<N$ 均有 $f_i\subset f_j$

****** $n=N+1$

******* 正向取

若 $f_{n-1}(a_n)$ 有定义，则 $f'_n=f_{n-1},\Gamma'_n=\Gamma_{n-1}$ 则显然满足归纳假设，否则根据以下步骤定义 $f'_n$

定义 $k=n-1$ 则根据[[MK330][引理2]]可得对于 $\left<a_{i_1},...,a_{i_{z_k}},a_n\right>\in M^{z_k+1}$

存在[[MK322][类型]] $\Gamma'_n(x_1,...,x_{z_k+1})\supset T$ 满足 $\mathcal{M}\vDash\Gamma'_n[a_{i_1},...,a_{i_{z_k}},a_n]$

根据条件（3）可得 $\Gamma'_n$ 是[[MK329][根本型]]，故有 $\phi\in\Gamma'_n$ 满足 $\Gamma'_n=\left\{\psi(x_1,...,x_{z_k+1})\big|T\vdash(\phi\to\psi)\right\}$

根据[[MK158][满足]]显然有 $\mathcal{M}\vDash(\exists x_{z_k+1}\phi)[a_{i_1},...,a_{i_{z_k}}]$ 根据归纳假设存在[[MK322][类型]] $\Gamma_k(x_1,...,x_{z_k})$

满足 $\mathcal{M}\vDash\Gamma_k[a_{i_1},...,a_{i_{z_k}}],\mathcal{N}\vDash\Gamma_k[f_k(a_{i_1}),...,f_k(a_{i_{z_k}})]$ 显然 $(\exists x_{z_k+1}\phi)\in\Gamma_k$

故有 $\mathcal{N}\vDash(\exists x_{z_k+1}\phi)[f_k(a_{i_1}),...,f_k(a_{i_{z_k}})]$

则易证存在 $b_{p_n}\in N$ 满足 $\mathcal{N}\vDash\phi[f_k(a_{i_1}),...,f_k(a_{i_{z_k}}),b_{p_n}]$ 则根据[[MK377][引理3]]有 $\mathcal{N}\vDash\Gamma'_n[f_k(a_{i_1}),...,f_k(a_{i_{z_k}}),b_{p_n}]$

显然若 $a_n\in\{a_{i_1},...,a_{i_{z_k}}\}$ 则 $f_k(a_n)$ 有定义，故可得 $a_n\not\in\{a_{i_1},...,a_{i_{z_k}}\}$ 

定义 $\varphi=((\lnot(x_1\hat{=}x_{z_k+1}))\land...\land(\lnot(x_{z_k}\hat{ =}x_{z_k+1})))$ 根据[[MK158][满足]]显然有 $\mathcal{M}\vDash\varphi[a_{i_1},...,a_{i_{z_k}},a_n]$

故有 $\mathcal{M}\vDash\Gamma'_n\cup\{\varphi\}$ 显然 $\varphi$ 是[[MK322][关于 $x_1,...,x_{z_k+1}$ 的表达式]]，故根据[[MK322][类型极大性]]有 $\varphi\in\Gamma'_n$

进而有 $\mathcal{N}\vDash\varphi[f_k(a_{i_1}),...,f_k(a_{i_{z_k}}),b_{p_n}]$ 根据[[MK158][满足]]易证任意 $a\in\{a_{i_1},...,a_{i_{z_k}}\}$ 均有 $b_{p_n}\ne f_{n-1}(a)$

定义 $f'_n=f_{n-1}\cup\{\left<a_n,b_{p_n}\right>\}$ 显然 $f_{n-1}\subset f'_n$ ，根据归纳假设 $f_{n-1}$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]

且 $a_n\not\in\text{dom}(f),b_n\not\in\text{rng}(f)$ 故 $f'_n$ 在其定义域，值域上显然亦为[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]

经过上述步骤易证 $f'_n,\Gamma'_n(x_{i_1},...,x_{i_{z'_n}})$ 满足

（1） $f'_n$ 在其定义域，值域上是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]

（2） $\{a_1,...,a_n\}\subset\text{dom}(f'_n),\{b_1,...,b_{n-1}\}\subset\text{rng}(f'_n)$

（3） $\mathcal{M}\vDash\Gamma'_n[a_{i_1},...,a_{i_{z'_n}}],\mathcal{N}\vDash\Gamma'_n[f'_n(a_{i_1}),...,f'_n(a_{i_{z'_n}})]$

（4） $\{a_1,...,a_n\}\subset\{a_{i_1},...,a_{i_{z'_n}}\}$ 且 $\{b_1,...,b_{n-1}\}\subset\{f(a_{i_1}),...,f(a_{i_{z'_n}})\}$

（5） $f_{n-1}\subset f'_n$

******* 反向取

若存在 $a\in M_1$ 使得 $f'_n(a)=b_n$ 则 $f_n=f'_n,\Gamma_n=\Gamma'_n$

否则根据上一步证明 $\Gamma_n(x_1,...,x_{z_n})$ 与 $f_n$ 满足

（1） $f_n$ 在其定义域，值域上是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]

（2） $\{a_1,...,a_n\}\subset\text{dom}(f_n),\{b_1,...,b_{n}\}\subset\text{rng}(f_n)$

（3） $\mathcal{M}\vDash\Gamma_n[a_{i_1},...,a_{i_{z_n}}],\mathcal{N}\vDash\Gamma_n[f_n(a_{i_1}),...,f_n(a_{i_{z_n}})]$

（4） $\{a_1,...,a_n\}\subset\{a_{i_1},...,a_{i_{z_n}}\}$ 且 $\{b_1,...,b_{n-1}\}\subset\{f(a_{i_1}),...,f(a_{i_{z_n}})\}$

（5） 对于任意 $i\ne j$ 且 $\{i,j\}\subset \{i_1,...,i_{z_n}\}$ 均有 $a_{i}\ne a_j$

（6） $f_{n-1}\subset f'_n\subset f_n$

**** 引理7<<MK399>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK221][可数模型]] $\mathcal{M}=\left<M,I\right>$ 则对于任意 $n\in\mathbb{N}$ 定义 $Z$ 为所有 $\mathcal{M}$ 所[[MK323][实现]]的[[MK322][ $n$ 元类型]]集合

则 $Z$ 是[[~/文档/note/离散数学/lssx.org::MK93][至多可数]]集

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

定义 $f:M^n\to Z$ 满足 $f(\left<a_1,...,a_n\right>)=\Gamma$ 则有 $\mathcal{M}\vDash\Gamma[a_1,...,a_n]$

根据[[MK330][引理2]]对于任意 $\vec{a}\in M^n$ 有且仅有唯一 $\Gamma$ 满足 $\mathcal{M}\vDash\Gamma[\vec{a}]$ 即 $f$ 是[[~/文档/note/离散数学/lssx.org::MK175][函数]]

根据[[MK403][推论]]对于任意 $\Gamma\in Z$ 根据定义可得均有 $\vec{a}=\left<a_1,...,a_n\right>\in M^n$ 满足 $\mathcal{M}\vDash\Gamma[\vec{a}]$ ，即 $f$ 是[[~/文档/note/离散数学/lssx.org::MK179][满射]]

根据[[~/文档/note/离散数学/lssx.org::MK332][蕴含逆单射]]可得存在[[~/文档/note/离散数学/lssx.org::MK176][单射]] $g:Z\to M^n$ ，则有 $|M^n|\geq|Z|$ 又根据[[~/文档/note/离散数学/lssx.org::MK98][定理2]]以及 $M$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]可得 $M^n$ 亦为[[~/文档/note/离散数学/lssx.org::MK89][可数]]

则 $Z$ [[~/文档/note/离散数学/lssx.org::MK93][至多可数]]

**** 引理8<<MK400>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]若有 $|\mathbb{N}|$ [[MK394][饱和]]模型 $\mathcal{M}=\left<M,I\right>$

则任意 $\mathcal{T}$ 的[[MK322][ $n$ 元类型]]均被 $\mathcal{M}$ [[MK323][实现]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

根据下列证明 $n\in\mathbb{N}$ 以及数学归纳法可证

****** $n=1$

由于 $\mathcal{T}$ 是[[MK264][完全的]]且 $\mathcal{M}$ [[MK394][饱和]]，故根据[[MK244][引理12]]可得任意 $\mathcal{T}$ 的[[MK322][ $1$ 元类型]]被 $\mathcal{M}$ [[MK323][实现]]

****** 归纳假设

对于任意 $n<N$ 均有 $\mathcal{T}$ 的任意[[MK322][ $n$ 元类型]]均被 $\mathcal{M}$ [[MK323][实现]]

****** $n=N$

任意 $\Gamma(x_1,...,x_n)$ 是 $\mathcal{T}$ 的[[MK322][ $n$ 元类型]]，根据下列证明可得 $\mathcal{M}$ [[MK323][实现]] $\Gamma$ 

******* 添加[[MK108][常元]]

根据[[MK322][定义]]可得 $\Gamma$ [[MK222][一致]]，根据[[MK255][完备性]]可得存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 及其[[MK154][赋值]] $\mu$ 满足 $\left<\mathcal{N},\mu\right>\vDash\Gamma$

即 $\mathcal{N}\vDash\Gamma[\mu(x_1),...,\mu(x_n)]$ 。任取[[MK108][常元符号]] $C=\{c_1,...,c_{n-1}\}$ 满足 $C\cap\mathcal{A}=\varnothing$ 形成[[MK151][语言]] $\mathcal{L}_{\mathcal{A}\cup C}$

定义 $\mathcal{N}_C=\left<N,J_C\right>$ 其中 $J_C=J\cup\left\{\left<c_i,\mu(x_i)\right>\big|c_i\in C\right\}$

定义 $\Gamma_C=\left\{\phi(\left<x_1,...,x_{n-1}\right>,\left<c_1,...,c_{n-1}\right>)\big|\phi\in\Gamma\right\}$ ，则显然 $\mathcal{N}$ 是 $\mathcal{N}_C$ 的[[MK295][裁剪结构]]

******* 定义 $\mathcal{L}_{\mathcal{A}\cup C},\Gamma^*_C,\Theta_{\Gamma^*_C}$ 等 

则根据[[MK296][定理1]]以及[[MK168][局部确定]]有 $\mathcal{N}_C\vDash\Gamma_C[\mu(x_n)]$ ，定义 $\Gamma^*_C=\left\{\phi\big|\phi(x_n)\in\mathcal{L}_{\mathcal{A}\cup C}\land\mathcal{N}_C\vDash\phi[\mu(x_n)]\right\}$

显然有 $\mathcal{N}_C\vDash\Gamma^*_C[\mu(x_n)]$ 以及 $\Gamma_C\subset\Gamma^*_C$ 且根据[[MK330][引理2]]可得 $\Gamma^*_C$ 是 $\mathcal{L}_{\mathcal{A}\cup C}$ 的[[MK322][ $1$ 元类型]]

定义 $\Theta_{\Gamma^*_C}$ 是 $\Gamma^*_C$ 中所有[[MK144][语句]]集合，进一步定义 $\Theta_{\Gamma^*_C}^1$ 为不包含 $C$ 中符号的[[MK144][语句]]

定义 $\Theta_{\Gamma^*_C}^2$ 为包含 $C$ 中符号的[[MK144][语句]]，显然有 $\mathcal{N}_C\vDash\Theta^2_{\Gamma^*_C}$

******* 定义 $\mathcal{L}_{\mathcal{A}\cup C}$ 下的 $\mathcal{M}_C$ 并证明 $\mathcal{M}_C\vDash\Theta^2_{\Gamma^*_C}$

定义 $\Gamma_2(x_1,...,x_{n-1})=\left\{\phi(\left<c_1,...,c_{n-1}\right>,\left<x_1,...,x_{n-1}\right>)\big|\phi\in\Theta^2_{\Gamma^*_C}\right\}$

根据定义任意 $\phi\in\Theta^2_{\Gamma^*_C}\subset\Gamma_C$ 均存在 $\psi\in\Gamma$ 满足 $\psi(\left<x_1,...,x_{n-1}\right>,\left<c_1,...,c_{n-1}\right>)=\phi$

根据[[MK145][自由替换]]以及 $C\cap\mathcal{A}=\varnothing$ ，则有 $c_i$ 仅在 $x_i$ 在 $\psi$ 的[[MK140][自由出现]]替换 $x_i$

故可得 $\psi=\phi(\left<c_1,...,c_{n-1}\right>,\left<x_1,...,x_{n-1}\right>)$ 即有 $\Gamma_2\subset\Gamma$ 

又由于 $\Theta^2_{\Gamma^*_C}$ 是[[MK144][语句]]集合，故结合替换过程亦可证 $\Gamma_2$ 中仅包含[[MK140][自由变员]] $x_1,...,x_{n-1}$

根据 $T$ 亦是[[MK144][语句]]集合，故可得 $T\cup\Gamma_2$ 是[[MK322][关于 $x_1,...,x_{n-1}$ 的表达式]]集合

根据 $T\subset\Gamma$ 以及 $\Gamma$ [[MK222][一致]]可得 $T\cup\Gamma_2$ [[MK222][一致]]

故根据[[MK246][覆盖定理]]可得存在 $\mathcal{T}$ 的[[MK322][ $n-1$ 元类型]] $\Gamma'_2$ 满足 $\Gamma_2\cup T\subset\Gamma'_2$

又根据归纳假设可得 $\Gamma'_2$ 被 $\mathcal{M}$ [[MK323][实现]]，即存在 $\left<a_1,...,a_{n-1}\right>\in M^n$ 使得 $\mathcal{M}\vDash\Gamma'_2[a_1,...,a_{n-1}]\supset\Gamma_2$

故定义 $\mathcal{M}_C=\left<M,I_C\right>$ 其中 $I_C=I\cup\left\{\left<c_i,a_i\right>\big|c_i\in C\right\}$ 显然 $\mathcal{M}_C$ 是 $\mathcal{L}_{\mathcal{A}\cup C}$ 的[[MK153][结构]]

且 $\mathcal{M}$ 是 $\mathcal{M}_C$ 的[[MK295][裁剪结构]]，根据[[MK296][定理1]]有 $\mathcal{M}_C\vDash\Gamma'_2[a_1,...,a_{n-1}]$ ，根据[[MK176][替换定理]]可得 $\mathcal{M}_C\vDash\Theta^2_{\Gamma^*_C}$

******* 证明 $\mathcal{M}_C\vDash\Theta_{\Gamma^*_C}$

对于任意 $\theta\in\Theta_{\Gamma^*_C}^1$ 由于不包含 $C$ 中符号故显然有 $\theta\in\Gamma$ ，根据 $\Gamma$ [[MK222][一致]]以及 $T\subset\Gamma$ 可得 $T\cup\{\theta\}$ [[MK222][一致]]

由于 $\mathcal{T}$ [[MK264][完全的]]，故根据[[MK270][引理6]]可得 $T\vdash\theta$

显然 $\mathcal{L}_\mathcal{A}$ 是 $\mathcal{L}_{\mathcal{A}\cup C}$ 的[[MK152][裁剪语言]]，则根据[[MK398][定理]]可得 $\mathcal{L}_{\mathcal{A}\cup C}$ 下亦有 $T\vdash\theta$

由于显然 $\mathcal{M}_C\vDash T$ 即亦有 $\mathcal{M}_C\vDash\theta$ 故有 $\mathcal{M}_C\vDash\Theta^1_{\Gamma^*_C}$ ，结合 $\mathcal{M}_C\vDash\Theta^2_{\Gamma^*_C}$ 可得 $\mathcal{M}_C\vDash\Theta_{\Gamma^*_C}$

******* 定义 $T_C$ 证明 $T_C=\Theta_{\Gamma^*_C}$ 以及 $\mathcal{M}_C\vDash\Gamma^*_C[a]$ 

定义 $T_C=\left\{\theta\big|\mathcal{M}_C\vDash\theta\land\theta\in\Theta_C\right\}$ 其中 $\Theta_C$ 是 $\mathcal{L}_{\mathcal{A}\cup C}$ 下所有的[[MK144][语句]]，则显然有 $\Theta_{\Gamma^*_C}\subset T_C$

对于任意 $\theta\in T_C$ 假设有 $\theta\not\in\Theta_{\Gamma^*_C}$ 则根据 $\Gamma^*_C$ 定义以及 $\Theta_{\Gamma^*_C}\subset\Gamma^*_C$ 易证 $\mathcal{N}_C\not\vDash\theta$ 根据[[MK158][满足]]可得 $\mathcal{N}_C\vDash(\lnot\theta)$

显然 $(\lnot\theta)$ 亦为 $\mathcal{L}_{\mathcal{A}\cup C}$ 的[[MK144][语句]]，即根据 $\Theta_{\Gamma^*_C}$ 定义有 $(\lnot\theta)\in\Theta_{\Gamma^*_C}$ ，即 $\Theta_{\Gamma^*_C}\cup\{\theta\}$ 不[[MK222][一致]]

根据[[MK255][完备性]]可得 $\Theta_{\Gamma^*_C}\cup\{\theta\}$ 不[[MK189][可满足]]，这与 $\mathcal{M}_C\vDash T_C\supset\Theta_{\Gamma^*_C}\cup\{\theta\}$ 矛盾，故假设不成立

即对于任意 $\theta\in T_C$ 必有 $\theta\in\Theta_{\Gamma^*_C}$ 即 $T_C\subset\Theta_{\Gamma^*_C}$ 根据[[~/文档/note/离散数学/lssx.org::MK16][自反性]]可得 $T_C=\Theta_{\Gamma^*_C}$

即 $T_C=\Theta_{\Gamma^*_C}\subset\Gamma^*_C$ ，即 $\Gamma^*_C$ 是 $\mathcal{L}_{\mathcal{A}\cup C}$ 包含 $T_C$ 的[[MK322][ $1$ 元类型]]

故根据 $\mathcal{M}$ 是 $|\mathbb{N}|$ [[MK394][饱和]]模型以及 $|\{a_1,...,a_{n-1}\}|<|\mathbb{N}|$ 可得 $\Gamma^*_C$ 被 $\mathcal{M}_C$ [[MK323][实现]]

即存在 $a\in M$ 满足 $\mathcal{M}_C\vDash\Gamma^*_C[a]$ 。

******* 证明 $\mathcal{M}$ [[MK323][实现]] $\Gamma$ 

则对于任意 $\phi\in\Gamma$ ，根据定义有 $\phi(\left<x_1,...,x_{n-1}\right>,\left<c_1,...,c_{n-1}\right>)\in\Gamma_C\subset\Gamma^*_C$

故有 $\mathcal{M}_C\vDash\phi(\left<x_1,...,x_{n-1}\right>,\left<c_1,...,c_{n-1}\right>)[a]$ 定义 $\mathcal{M}_C$ 的[[MK154][赋值]] $v$ 满足 $v(x_i)=I_C(c_i)=a_i,v(x_n)=a$

根据[[MK176][替换定理]]可得 $\left<\mathcal{M}_C,v\right>\vDash\phi$ ，由于 $\phi$ 亦为 $\mathcal{L}_\mathcal{A}$ 下[[MK129][表达式]]，故根据[[MK296][定理1]] $\left<\mathcal{M},v\right>\vDash\phi$

即 $\mathcal{M}\vDash\phi[a_1,...,a_{n-1},a]$ 。综上所述，对于任意 $\phi\in\Gamma$ 均有 $\mathcal{M}\vDash\phi[a_1,...,a_{n-1},a]$

即 $\mathcal{M}\vDash\Gamma[a_1,...,a_{n-1},a]$ ，即对于任意 $\Gamma(x_1,...,x_n)$ 是 $\mathcal{T}$ 的[[MK322][ $n$ 元类型]]，其被 $\mathcal{M}$ [[MK323][实现]]

**** 引理9<<MK404>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 对于任意 $X\subset M$ 做以下定义：

（1） $C_X=\left\{c_x\big|x\in X\right\}$ 是以 $x$ 为[[~/文档/note/离散数学/lssx.org::MK48][下标]]的[[MK108][常元符号]]

（2） $\mathcal{A}_{C_X}=\mathcal{A}\cup C_X$ 则有[[MK295][扩充语言]] $\mathcal{L}_{\mathcal{A}_{C_X}}$

（3） $I_X=I\cup\left\{\left<c_x,x\right>\big|x\in X\right\}$ 则显然 $\mathcal{M}_X=\left<M,I_X\right>$ 是 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 的[[MK153][结构]]

（4） $T_X=\left\{\theta\big|\theta\in\Theta_X\land\mathcal{M}_X\vDash\theta\right\}$ 其中 $\Theta_X$ 是 $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 下所有的[[MK144][语句]]

（5） 显然 $\mathcal{T}_X=\left<\mathcal{L}_{\mathcal{A}_{C_X}},\mathbb{L}_{\mathcal{A}_{C_X}},T_X,T^*_X\right>$ 是 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 的[[MK220][一阶理论]]

则 $\mathcal{M}$ 是[[MK394][饱和模型]]的充要条件是

对于任意 $X\subset M$ 任意 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 上的[[MK322][关于 $x_1$ 的表达式]]集合 $\Gamma$ 若 $\Gamma\cup T_X$ [[MK222][一致]]，则被 $\mathcal{M}_X$ [[MK323][实现]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 充分

对于任意 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 上的[[MK322][关于 $x_1$ 的表达式]]集合 $\Gamma$ 满足 $\Gamma\cup T_X$ [[MK222][一致]]，则根据[[MK255][完备性]]

存在 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 的[[MK153][结构]] $\mathcal{N}$ 及其[[MK154][赋值]] $\mu$ 使得 $\left<\mathcal{N},\mu\right>\vDash\Gamma\cup T_X$ 定义 $\Gamma'=\left\{\phi\big|\phi(x_1)\in\mathcal{L}_{\mathcal{A}_{C_X}}\land\left<\mathcal{N},\mu\right>\vDash\phi\right\}$

显然有 $\left(\Gamma\cup T_X\right)\subset\Gamma'$ 且根据[[MK330][引理2]]可得 $\Gamma'$ 是 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 上的[[MK322][ $1$ 元类型]]

则由于 $\mathcal{M}$ 是[[MK394][饱和模型]]，故有 $\mathcal{M}_X$ [[MK323][实现]] $\Gamma'$ ，显然 $\mathcal{M}_X$ [[MK323][实现]] $\Gamma$ 

****** 必要

对于任意 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 上的[[MK322][ $1$ 元类型]] $\Gamma(x_1)$ 满足 $T_X\subset\Gamma$ 有 $\Gamma$ [[MK222][一致]]，则显然 $\Gamma\cup T_X$ [[MK222][一致]]

则根据条件可得 $\mathcal{M}_X$ [[MK323][实现]] $\Gamma$

**** 引理10<<MK407>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 有[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 定义 $T=\left\{\theta\big|\theta\in\Theta\land\mathcal{M}\vDash\theta\right\}=\text{Th}(\mathcal{M})$ 其中 $\Theta$ 是 $\mathcal{L}_{\mathcal{A}}$ 下所有的[[MK144][语句]]

则对于任意 $\mathcal{L}_{\mathcal{A}}$ 上[[MK322][关于 $x_1$ 的表达式]]集合 $\Gamma$ 有 $\Gamma\cup T$ [[MK222][一致]]的充要条件是 $\Gamma$ 若被 $\mathcal{M}$ [[MK402][有限实现]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 充分

若 $\Gamma\cup T$ [[MK222][一致]]，则根据[[MK255][完备性]]可得存在 $\mathcal{L}_{\mathcal{A}}$ 的[[MK153][结构]] $\mathcal{N}$ 及其[[MK154][赋值]] $\mu$ 使得 $\left<\mathcal{N},\mu\right>\vDash\Gamma\cup T$

任取 $\Gamma$ [[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $\{\phi_1(x_1),...,\phi_n(x_1)\}$ 则显然 $\varphi=(\exists x_1(\phi_1\land...\land\phi_n))$ 是[[MK144][语句]]

假设 $\mathcal{M}\not\vDash\varphi$ 则根据[[MK158][满足]]有 $\mathcal{M}\vDash(\lnot\varphi)$ 即 $(\lnot\varphi)\in T$ 又由于 $(\lnot\varphi)\in T$ 故有 $\left<\mathcal{N},\mu\right>\vDash(\lnot\varphi)$

根据[[MK169][推论]]即有 $\mathcal{N}\vDash(\lnot\varphi)$ 。又由于 $\phi_i\in\Gamma$ 且 $\left<\mathcal{N},\mu\right>\vDash\Gamma$ 故可得 $\left<\mathcal{N},\mu\right>\vDash\phi_i,1\leq i\leq n$

根据[[MK170][逻辑与]]可得 $\left<\mathcal{N},\mu\right>\vDash(\phi_1\land...\land\phi_n)$ 根据[[MK158][满足]]显然与 $\mathcal{N}\vDash\varphi$ 矛盾。

故假设不成立，即对于任意 $\Gamma$ [[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $\{\phi_1(x_1),...\phi_n(x_1)\}$ 定义 $\varphi=(\exists x_1(\phi_1\land...\land\phi_n))$ 均有 $\mathcal{M}\vDash\varphi$

故可得存在 $a\in M$ 满足 $\mathcal{M}\vDash(\phi_1\land...\land\phi_n)[a]$ 进而有 $\mathcal{M}\vDash\phi_i[a],1\leq i\leq n$ 即 $\mathcal{M}$ [[MK402][有限实现]] $\Gamma$

****** 必要

若 $\Gamma$ 若被 $\mathcal{M}$ [[MK402][有限实现]]，则根据[[MK405][紧致性]]可得存在 $\mathcal{L}_{\mathcal{A}}$ 的[[MK153][结构]] $\mathcal{N}$ 及其[[MK154][赋值]] $\mu$

使得 $\left<\mathcal{N},\mu\right>\vDash\Gamma$ 且 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]

对于任意 $\mathcal{L}_{\mathcal{A}}$ 的[[MK144][语句]] $\theta$ 若有 $\mathcal{M}\vDash\theta$ 则根据[[MK301][定义]]易证 $\mathcal{N}\vDash\theta$ ，即可得 $\mathcal{N}\vDash T$

结合 $\left<\mathcal{N},\mu\right>\vDash\Gamma$ 可得 $\left<\mathcal{N},\mu\right>\vDash\Gamma\cup T$ 根据[[MK255][完备性]]可得 $\Gamma\cup T$ [[MK222][一致]]

**** 引理11<<MK242>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 的任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 存在[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 满足

（1） $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]，设嵌入函数为 $e$

（2） 对于任意 $X\subset M$ [[MK406][常元扩展]]后的[[MK220][理论]] $\mathcal{T}_X$ 的任意[[MK322][ $1$ 元类型]] $\Gamma(x_1)\supset\text{Th}((\mathcal{M},c_x)_{x\in X})$

     定义 $J_X=J\cup\left\{\left<c_x,e(x)\right>\big|x\in X\right\}$ 以及 $\mathcal{N}_X=\left<N,J_X\right>$ 则有 $\mathcal{N}_X$ [[MK323][实现]] $\Gamma$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*
     
***** 证明

****** 定义 $\mathbb{T}$ 及其[[MK151][语言]] $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ <<MK239>>

对于任意 $X\subset M$ 定义 $\mathbb{T}_X(\text{Th}((\mathcal{M},c_x)_{x\in X}))$ 为[[MK406][常元扩展]]后 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下

所有包含 $\text{Th}((\mathcal{M},c_x)_{x\in X})$ 的[[MK322][ $1$ 元类型]]的集合，定义 $\Gamma^*=\left\{\Gamma\big|X\subset M\land\Gamma(x_1)\in\mathbb{T}_X(\text{Th}((\mathcal{M},c_x)_{x\in X}))\right\}$

定义 $\mathbb{T}=\left\{\phi(\left<x_1\right>,\left<c_{\Gamma}\right>)\big|\phi\in\Gamma\land\Gamma\in\Gamma^*\right\}$ 其中 $c_{\Gamma}$ 为全新的[[MK108][常元符号]]，以 $\Gamma^*$ 为[[~/文档/note/离散数学/lssx.org::MK48][指标集]]

显然对于任意 $\phi\in\mathbb{T}$ 必存在 $\psi,\Gamma$ 满足 $\psi\in\Gamma\in\Gamma^*$ 且有 $\psi(\left<x_1\right>,\left<c_\Gamma\right>)=\phi$ ，故定义 $\rho(\phi)=\psi$

定义 $\mathcal{A}_{\mathbb{T}}=\mathcal{A}\cup\left\{c_a\big|a\in M\right\}\cup\left\{c_\Gamma\big|\Gamma\in\Gamma^*\right\}$ 显然 $\mathbb{T}$ 是 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 下的[[MK144][语句]]集合

****** 证明 $\mathbb{T}$ 可满足<<MK420>>

******* 任取有限子集 $K$ 并定义相关符号

对于任意 $\mathbb{T}$ 的有限子集 $K$ ，存在 $\Gamma^*$ 的有限子集 $\{\Gamma_1,...,\Gamma_n\}$ 满足对于任意 $\phi\in K$

存在 $\Gamma_i,1\leq i\leq n$ 使得 $\rho(\phi)\in\Gamma_i$ 。定义 $\rho(K)=\left\{\rho(\phi)\big|\phi\in K\right\}$ 以及 $\Gamma'_i=\Gamma_i\cap \rho(K)$

显然 $\Gamma_i$ 是对某个 $X\subset M$ [[MK406][常元扩展]]后[[MK151][语言]] $\mathcal{L}_{\mathcal{A}_{C_X}}$ 上的[[MK220][理论]] $\mathcal{T}_X$ 上的[[MK322][ $1$ 元类型]]

由于 $\rho(K)$ 是有限集，故 $\Gamma'_i$ 亦为有限集。

******* 定义 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 的[[MK153][结构]] $\mathcal{M}_\mathbb{T}$ 

显然 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 是 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 的[[MK152][裁剪语言]]，根据条件（2）及[[MK407][引理10]]可得 $\Gamma_i$ 被 $(\mathcal{M},c_x)_{x\in X}$ [[MK402][有限实现]]

即存在 $a_i\in M$ 满足 $(\mathcal{M},c_x)_{x\in X}\vDash\Gamma'_i[a_i]$

则定义 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 的[[MK153][结构]] $\mathcal{M}_\mathbb{T}=\left<M, I_{\mathbb{T}}\right>$ 满足对于任意 $c_a\in\left\{c_a\big|a\in M\right\}$ 有 $I_{\mathbb{T}}(c_a)=a$

对于任意 $c_\Gamma\in\left\{c_\Gamma\big|\Gamma\in\Gamma^*\right\}$ 若 $\Gamma=\Gamma_i$ 则 $I_{\mathbb{T}}(c_\Gamma)=a_i$ ，显然 $(\mathcal{M},c_x)_{x\in X}$ 是 $\mathcal{M}_\mathbb{T}$ 的[[MK295][裁剪结构]]

******* 证明 $\mathcal{M}_\mathbb{T}\vDash K$

则对于任意 $\phi\in K$ 存在 $\Gamma_i\in\Gamma^*$ 满足 $\rho(\phi)\in\Gamma_i$ ，亦存在 $X\subset M$ 满足 $\rho(\phi)\in\mathcal{L}_{\mathcal{A}_{C_X}}$

以及 $(\mathcal{M},c_x)_{x\in X}$ 及其[[MK154][赋值]] $v$ 满足 $v(x_1)=a_i$ 以及有 $\left<(\mathcal{M},c_x)_{x\in X},v\right>\vDash\rho(\phi)$

由于 $(\mathcal{M},c_x)_{x\in X}$ 是 $\mathcal{M}_\mathbb{T}$ 的[[MK295][裁剪结构]]以及 $\rho(\phi)\in\mathcal{L}_{\mathcal{A}_{C_X}}$ 故根据[[MK296][定理1]]可得 $\left<\mathcal{M}_\mathbb{T},v\right>\vDash\rho(\phi)$

又由于 $I_{\mathbb{T}}(c_\Gamma)=a_i=v(x_1)$ 以及 $\rho(\phi)(\left<x_1\right>,\left<c_{\Gamma}\right>)=\phi$ 则根据[[MK176][替换定理]]可得 $\left<\mathcal{M}_\mathbb{T},v\right>\vDash\phi$

由于 $\phi$ 是[[MK144][语句]]，则根据[[MK169][推论]]可得 $\mathcal{M}_\mathbb{T}\vDash\phi$

综上所述，对于任意 $\phi\in K$ 均有 $\mathcal{M}_\mathbb{T}\vDash\phi$ ，即有 $\mathcal{M}_\mathbb{T}\vDash K$

******* 存在 $\mathcal{N}'$ 满足 $\mathcal{N}'\vDash\mathbb{T}$ <<MK240>>

根据之前证明可得对于 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 下的[[MK144][语句]]集合 $\mathbb{T}$ 的任意有限子集 $K$ 均[[MK189][可满足]]

则根据[[MK255][完备性]]可得 $K$ [[MK222][一致]]，故根据[[MK271][紧致性定理]]可得 $\mathbb{T}$ [[MK222][一致]]

则根据[[MK255][完备性]]存在 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 的[[MK153][结构]] $\mathcal{N}'=\left<N,J'\right>$ 满足 $\mathcal{N}'\vDash\mathbb{T}$ 

****** 证明 $\mathcal{L}_{\mathcal{A}_{C_M}}$ 下 $(\mathcal{M},c_x)_{x\in M}$ 是 $\mathcal{N}^*$ 的[[MK301][同质嵌入]]<<MK422>>

******* $\mathcal{L}_{\mathcal{A}_{C_M}}$ 下 $\mathcal{N}^*\vDash\text{Th}((\mathcal{M},c_x)_{x\in M})$ 

显然 $\mathcal{L}_{\mathcal{A}_{C_M}}$ 是 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 的[[MK152][裁剪语言]]，根据[[MK299][定理2]]以及上一步证明可得在 $\mathcal{L}_{\mathcal{A}_{C_M}}$ 存在 $\mathcal{N}'$ 的[[MK295][裁剪结构]] $\mathcal{N}^*$

任取 $\Gamma(x_1)\in\mathbb{T}_M(\text{Th}((\mathcal{M},c_x)_{x\in M}))$ 显然有 $\text{Th}((\mathcal{M},c_x)_{x\in M})\subset\Gamma$ ，定义 $\Gamma'=\left\{\phi(\left<x_1\right>,\left<c_\Gamma\right>)\big|\phi\in\Gamma\right\}$

又根据 $\mathbb{T}$ 定义可得 $\Gamma'\subset\mathbb{T}$ 根据上一步证明可得 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 下有 $\mathcal{N}'\vDash\mathbb{T}$ ，即 $\mathcal{N}'\vDash\Gamma'$

故对于任意 $\phi\in\text{Th}((\mathcal{M},c_x)_{x\in M})$ 均有 $\phi\in\Gamma$ 进而有 $\phi(\left<x_1\right>,\left<c_\Gamma\right>)\in\Gamma'$

由于 $\phi$ 是[[MK144][语句]]不含[[MK140][自由变元]]，则 $\phi=\phi(\left<x_1\right>,\left<c_\Gamma\right>)$ ，故有 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 下 $\mathcal{N}\vDash\phi$

又根据 $\mathcal{N}^*$ 是 $\mathcal{N}'$ 的[[MK295][裁剪结构]]，[[MK296][定理1]]以及[[MK169][推论]]易证 $\mathcal{N}^*\vDash\phi$

综上所述， $\mathcal{L}_{\mathcal{A}_{C_M}}$ 下对于任意 $\phi\in\text{Th}((\mathcal{M},c_x)_{x\in M})$ 均有 $\mathcal{N}^*\vDash\phi$ ，即 $\mathcal{N}^*\vDash\text{Th}((\mathcal{M},c_x)_{x\in M})$ 

******* $\mathcal{L}_{\mathcal{A}_{C_M}}$ 下 $(\mathcal{M},c_x)_{x\in M}$ 与 $\mathcal{N}^*$ [[MK281][同样]]

对于任意 $\mathcal{L}_{\mathcal{A}_{C_M}}$ 的[[MK144][语句]] $\theta$ ，若有 $(\mathcal{M},c_x)_{x\in M}\vDash\theta$ 则显然 $\theta\in\text{Th}((\mathcal{M},c_x)_{x\in M})$ 根据上一步有 $\mathcal{N}^*\vDash\theta$

若有 $\mathcal{N}^*\vDash\theta$ ，假设 $(\mathcal{M},c_x)_{x\in M}\not\vDash\theta$ 根据[[MK158][满足]]有 $(\mathcal{M},c_x)_{x\in M}\vDash(\lnot\theta)$ 则同理可得 $\mathcal{N}^*\vDash(\lnot\theta)$

显然与 $\mathcal{N}^*\vDash\theta$ 矛盾，故假设不成立，即有 $(\mathcal{M},c_x)_{x\in M}\vDash\theta$

综上所述， $(\mathcal{M},c_x)_{x\in M}$ 与 $\mathcal{N}^*$ [[MK281][同样]]

******* 证明结论

显然根据 $\mathcal{L}_{\mathcal{A}_{C_M}}$ 定义可得对于任意 $a\in M,b\in M,a\ne b$ 有[[MK108][常元符号]] $c_a\in\mathcal{A},c_b\in\mathcal{A},c_a\ne c_b$

满足 $I_M(c_a)=a, I_M(c_b)=b$ ，又根据上一步可得 $(\mathcal{M},c_x)_{x\in M}$ 与 $\mathcal{N}^*$ [[MK281][同样]]

故根据[[MK238][定理5]]可得 $\mathcal{L}_{\mathcal{A}_{C_M}}$ 下 $(\mathcal{M},c_x)_{x\in M}$ 是 $\mathcal{N}^*$ 的[[MK301][同质嵌入]]

****** 证明 $\mathcal{L}_\mathcal{A}$ 下 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]<<MK423>>

根据上一步可得 $\mathcal{L}_{\mathcal{A}_{C_M}}$ 下 $(\mathcal{M},c_x)_{x\in M}$ 是 $\mathcal{N}^*$ 的[[MK301][同质嵌入]]，设[[MK301][同质嵌入映射]] $e:M\to N$

显然 $e$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]。又显然 $\mathcal{L}_{\mathcal{A}}$ 是 $\mathcal{L}_{\mathcal{A}_{C_M}}$ 的[[MK152][裁剪语言]]，且 $\mathcal{M}$ 是 $(\mathcal{M},c_x)_{x\in M}$ 的[[MK295][裁剪结构]]

根据[[MK299][定理2]]可得在 $\mathcal{L}_{\mathcal{A}}$ 上存在 $\mathcal{N}^*$ 的[[MK295][裁剪结构]] $\mathcal{N}$ 。

故对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 以及 $\mathcal{M}$ [[MK154][赋值]] $v$ ，根据[[MK296][定理1]]可得 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件

是 $\mathcal{L}_{\mathcal{A}_{C_M}}$ 下 $\left<(\mathcal{M},c_x)_{x\in M},v\right>\vDash\phi$ ,又根据上一步可得 $\mathcal{L}_{\mathcal{A}_{C_M}}$ 下 $\left<(\mathcal{M},c_x)_{x\in M},v\right>\vDash\phi$

的充要条件为 $\mathcal{L}_{\mathcal{A}_{C_M}}$ 下有 $\left<\mathcal{N}^*,v\cdot e\right>\vDash\phi$ 同理根据[[MK296][定理1]]以及 $\phi\in\mathcal{L}_\mathcal{A}$

可得 $\mathcal{L}_{\mathcal{A}_{C_M}}$ 下有 $\left<\mathcal{N}^*,v\cdot e\right>\vDash\phi$ 的充要条件为 $\mathcal{L}_\mathcal{A}$ 下 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$

综上所述，对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 以及 $\mathcal{M}$ [[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$

结合 $e$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]可得 $\mathcal{L}_\mathcal{A}$ 下 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]

****** 证明结论（2）<<MK424>>

对于任意 $X\subset M$ 有[[MK406][常元扩展]]后 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 的[[MK153][结构]] $(\mathcal{M},c_x)_{x\in X}$ 以及结论（2）定义的 $\mathcal{N}_X$

对于任意 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 上的[[MK322][ $1$ 元类型]] $\Gamma(x_1)\supset\text{Th}((\mathcal{M},c_x)_{x\in X})$ 根据[[MK239][定义]]可得存在 $\Gamma'=\left\{\phi(\left<x_1\right>,\left<c_\Gamma\right>)\big|\phi\in\Gamma\right\}$

满足 $\Gamma'\in\mathbb{T}$

根据上两步证明易证 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 是 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 的[[MK152][裁剪语言]]，且对于任意 $x\in X$ 有 $J_X(x)=e(x)=J'(x)$

故易证 $\mathcal{N}_X$ 是 $\mathcal{N}'$ 在 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 的[[MK295][裁剪结构]]

根据[[MK240][之前证明]]可得 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 下有 $\mathcal{N}'\vDash\mathbb{T}$ ，故亦有 $\mathcal{N}'\vDash\Gamma'$ 又根据[[MK176][替换定理]]易证

对于任意 $\mathcal{N}'$ 的[[MK154][赋值]] $v$ 满足 $v(x_1)=J(c_\Gamma)$ 有 $\mathcal{N}'\vDash\Gamma$

显然对于任意 $\phi\in\Gamma$ 均有 $\phi\in\mathcal{L}_{\mathcal{A}_{C_X}}$ 故根据[[MK296][定理1]]可得 $\mathcal{N}_X\vDash\Gamma$

**** 引理12<<MK244>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]若 $\mathcal{T}$ 有[[MK394][饱和]]模型 $\mathcal{M}=\left<M,I\right>$

则任意 $\mathcal{T}$ 的[[MK322][ $1$ 元类型]]均被 $\mathcal{M}$ [[MK323][实现]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 前提定义

显然 $\varnothing\subset M$ 且 $|\varnothing|<|M|$ 故易证 $T_\varnothing=\left\{\theta\big|\theta\in\Theta_\varnothing\land\mathcal{M}\vDash\theta\right\},\mathcal{M}_\varnothing=\mathcal{M},\mathcal{L}_{\mathcal{A}_\varnothing}=\mathcal{L}_{\mathcal{A}}$

其中 $\Theta_\varnothing$ 是 $\mathcal{L}_{\mathcal{A}_\varnothing}$ 中所有的[[MK144][语句]]，故 $\Theta_\varnothing$ 是 $\mathcal{L}_{\mathcal{A}}$ 中所有的[[MK144][语句]]

****** 任意 $\theta\in T_\varnothing$ 均有 $T\vdash\theta$ 

由于 $\mathcal{T}$ 在 $\mathcal{L}_{\mathcal{A}}$ 下是[[MK264][完全的]]，故对于任意 $\theta\in\Theta_\varnothing$ 均有 $T\vdash\theta,T\not\vdash\theta$ 有且仅有一个成立

故对于任意 $\theta\in\Theta_\varnothing$ 若有 $T\vdash\theta$ 则根据[[MK257][完备性]]以及[[MK192][定理]]易证 $\mathcal{M}\vDash\theta$ ，同理若 $T\not\vdash\theta$ 则有 $\mathcal{M}\not\vDash\theta$

即有 $T\vdash\theta$ 的充要条件是 $\mathcal{M}\vDash\theta$ ，故对于任意 $\theta\in T_\varnothing$ 均有 $T\vdash\theta$ 。

****** 任意 $\mathcal{T}$ 的[[MK322][ $1$ 元类型]]亦为 $\mathcal{T}_\varnothing$ 的[[MK322][ $1$ 元类型]]

任取 $\mathcal{T}$ 的[[MK322][ $1$ 元类型]] $\Gamma(x_1)$ 根据[[MK322][定义]]可得 $\Gamma$ [[MK222][一致]]

故存在 $\mathcal{L}_{\mathcal{A}}$ 的[[MK153][结构]] $\mathcal{N}$ 及其[[MK154][赋值]] $\mu$ 满足 $\left<\mathcal{N},\mu\right>\vDash\Gamma$ 显然有 $T\subset\Gamma$

根据上一步对于任意 $\theta\in T_\varnothing$ 均有 $T\vdash\theta$ ，则根据[[MK257][完备性]]以及[[MK192][定理]]易证 $\mathcal{N}\vDash\theta$ 故有 $\Gamma\cup\{\theta\}$ [[MK222][一致]]。

显然 $\theta$ 不含[[MK140][自由变元]]故 $\theta$ 是[[MK322][关于 $x_1$ 的表达式]]，由于 $\Gamma$ [[MK322][关于 $x_1$ 的表达式]]有[[MK223][极大一致]]性，故 $\theta\in\Gamma$

即有 $T_\varnothing\subset\Gamma$ ，即 $\Gamma$ 亦为 $\mathcal{T}_\varnothing$ 的[[MK322][ $1$ 元类型]]

****** 证明结论

任意 $\mathcal{T}$ 的[[MK322][ $1$ 元类型]] $\Gamma(x_1)$ 亦为 $\mathcal{T}_\varnothing$ 的[[MK322][ $1$ 元类型]]，则根据[[MK394][饱和定义]]可得 $\Gamma$ 被 $\mathcal{M}_\varnothing$ [[MK323][实现]]

由于 $\mathcal{M}_\varnothing=\mathcal{M},\mathcal{L}_{\mathcal{A}_\varnothing}=\mathcal{L}_{\mathcal{A}}$ ，故可得 $\Gamma$ 被 $\mathcal{M}$ [[MK323][实现]]。

**** 引理13<<MK425>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 的任意[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 满足

（a） $\mathcal{L}_\mathcal{A}$ 为[[MK151][可数语言]]且 $\mathcal{M}$ 为[[MK153][可数结构]]

（b） 定义 $T_0\subset\left\{\theta\big|\theta\in\Theta\land\mathcal{M}\vDash\theta\right\}$ 其中 $\Theta$ 为 $\mathcal{L}_\mathcal{A}$ 中所有的[[MK144][语句]]，对于任意 $n\in\mathbb{N}\land n\geq1$

     $\mathcal{L}_\mathcal{A}$ 中包含 $T_0$ 的[[MK322][ $n$ 元类型]]有[[~/文档/note/离散数学/lssx.org::MK93][至多可数]]个，定义其集合为 $\mathcal{S}_{n}(T_0)$

则存在[[MK153][可数结构]] $\mathcal{N}=\left<N,J\right>$ 满足

（1） $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]，设嵌入函数为 $e$

（2） 对于任意 $X\subset M\land |X|<|\mathbb{N}|$ [[MK406][常元扩展]]后的[[MK220][理论]] $\mathcal{T}_X$ 的任意[[MK322][ $1$ 元类型]] $\Gamma(x_1)\supset\text{Th}((\mathcal{M},c_x)_{x\in X})$

     定义 $J_X=J\cup\left\{\left<c_x,e(x)\right>\big|x\in X\right\}$ 以及 $\mathcal{N}_X=\left<N,J_X\right>$ 则有 $\mathcal{N}_X$ [[MK323][实现]] $\Gamma$

***** 证明

****** 定义 $\mathbb{T}$ 及其[[MK151][语言]] $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ <<MK421>>

[[MK239][同样定义]]可得：

（1） 对于任意 $X\subset M\land |X|<|\mathbb{N}|$ 定义 $\mathbb{T}_X(\text{Th}((\mathcal{M},c_x)_{x\in X}))$

     为[[MK406][常元扩展]]后 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下所有包含 $\text{Th}((\mathcal{M},c_x)_{x\in X})$ 的[[MK322][ $1$ 元类型]]的集合

（2） $\Gamma^*=\left\{\Gamma\big|X\subset M\land |X|<|\mathbb{N}|\land\Gamma(x_1)\in\mathbb{T}_X(\text{Th}((\mathcal{M},c_x)_{x\in X}))\right\}$

（3） $\mathbb{T}=\left\{\phi(\left<x_1\right>,\left<c_{\Gamma}\right>)\big|\phi\in\Gamma\land\Gamma\in\Gamma^*\right\}$ 其中 $c_{\Gamma}$ 为全新的[[MK108][常元符号]]，以 $\Gamma^*$ 为[[~/文档/note/离散数学/lssx.org::MK48][指标集]]

（4） $\mathcal{A}_{\mathbb{T}}=\mathcal{A}\cup\left\{c_a\big|a\in M\right\}\cup\left\{c_\Gamma\big|\Gamma\in\Gamma^*\right\}$

（5） [[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$

显然 $\mathbb{T}$ 是 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 下的[[MK144][语句]]集合

****** $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 是[[MK151][可数语言]]

******* $\left\{c_\Gamma\big|\Gamma\in\Gamma^*\right\}$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]

对于任意给定 $X\subset M\land |X|<|\mathbb{N}|$ ，任取 $\Gamma(x_1)\in\mathbb{T}_X(\text{Th}((\mathcal{M},c_x)_{x\in X}))$ 定义：

（1） 由于 $|X|<|\mathbb{N}|$ 故可做排序 $X=\{a_1,...,a_n\}$

（2） 定义[[MK406][常元扩展]]后添加的常元为 $C_X=\left\{c_{a_i}\big|a_i\in X\right\}$

（3） $\mathcal{S}_{n+1}(T_0)$ 为 $\mathcal{L}_\mathcal{A}$ 下包含 $T_0$ 的所有[[MK322][ $n+1$ 元类型]]，根据条件（b） $\mathcal{S}_{n+1}(T_0)$ [[~/文档/note/离散数学/lssx.org::MK93][至多可数]]

则根据下列证明可得存在[[~/文档/note/离散数学/lssx.org::MK176][单射]] $f:\mathbb{T}_X(\text{Th}((\mathcal{M},c_x)_{x\in X}))\to\mathcal{S}_{n+1}(T_0)$

即根据[[~/文档/note/离散数学/lssx.org::MK29][等势]]有 $\left|\mathbb{T}_X(\text{Th}((\mathcal{M},c_x)_{x\in X}))\right|\leq\left|\mathcal{S}_{n+1}(T_0)\right|$ 即有 $\mathbb{T}_X(\text{Th}((\mathcal{M},c_x)_{x\in X}))$ [[~/文档/note/离散数学/lssx.org::MK93][至多可数]]

由于 $M$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]，则根据[[~/文档/note/离散数学/lssx.org::MK330][定理5]]可得对于任意 $n\in\mathbb{N}$ 有[[~/文档/note/离散数学/lssx.org::MK89][可数]]个 $X\subset M$ 满足 $|X|=n$

则对于任意 $n\in\mathbb{N}$ 定义 $\mathcal{X}_n=\left\{X\big|X\subset M\land|X|=n\right\}$

由于[[~/文档/note/离散数学/lssx.org::MK89][可数]]，则可有排序 $\mathcal{X}_n=\{X_1,X_2,...\}$ 定义 $\Gamma_n=\bigcup_{i=1}^\infty\mathbb{T}_{X_i}(\text{Th}((\mathcal{M},c_x)_{x\in X_i}))$

根据 $\mathbb{T}_X(\text{Th}((\mathcal{M},c_x)_{x\in X}))$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]以及[[~/文档/note/离散数学/lssx.org::MK86][定理3]]可得 $\Gamma_n$ 亦[[~/文档/note/离散数学/lssx.org::MK89][可数]]，同理亦有 $\bigcup_{n=1}^\infty\Gamma_n$ 亦[[~/文档/note/离散数学/lssx.org::MK89][可数]]

对于任意 $\Gamma\in\Gamma^*$ 根据上一步定义存在一个 $X\subset M\land|X|<|\mathbb{N}|$ 满足 $\Gamma\in\mathbb{T}_X(\text{Th}((\mathcal{M},c_x)_{x\in X}))$

则可设 $|X|=n$ 则显然有 $\Gamma\in\Gamma_n$ ，即有 $\Gamma^*\subset\bigcup_{n=1}^\infty\Gamma_n$ 根据[[~/文档/note/离散数学/lssx.org::MK33][定理5]]可得 $|\Gamma^*|<\left|\bigcup_{n=1}^\infty\Gamma_n\right|=|\mathbb{N}|$

显然 $\Gamma^*$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]故可得 $\Gamma^*$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]，即 $\left\{c_\Gamma\big|\Gamma\in\Gamma^*\right\}$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]

******** [[MK129][表达式]]映射<<MK418>>

定义：

（1） $\mu_1(\phi)$ 为将 $\phi$ 中所有[[MK140][受限变元]]以及[[MK106][量词符号]]中的 $x_i$ 替换为 $x_{n+1+i}$ 显然是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

（2） $\mu_2(\phi)[k]=\begin{cases}x_{i+1}&\phi[k]=c_{a_i}\in C_X\\\phi[k]&\phi[k]\not\in C_X\end{cases}$ 显然 $\mu_2$ 亦为[[~/文档/note/离散数学/lssx.org::MK176][单射]]

（3） $\mu(\phi)=\mu_2(\mu_1(\phi))$ 显然 $\mu$ 亦为[[~/文档/note/离散数学/lssx.org::MK176][单射]]

则定义 $\eta(\Gamma)=\left\{\mu(\phi)\big|\phi\in \Gamma\right\}$ 显然对于任意任意[[MK322][ $1$ 元类型]] $\Gamma_a\ne\Gamma_b$ 不放设 $\phi\in\Gamma_a,\phi\not\in\Gamma_b$

则根据 $\mu$ 为[[~/文档/note/离散数学/lssx.org::MK176][单射]]可得 $\mu(\phi)\not\in\eta(\Gamma_b),\mu(\phi)\in\eta(\Gamma_a)$ 故有 $\eta(\Gamma_a)\ne\eta(\Gamma_b)$ 即 $\eta$ 亦为[[~/文档/note/离散数学/lssx.org::MK176][单射]]

显然 $\eta(\Gamma)\subset\mathcal{L}_\mathcal{A}$ 且任意 $\phi\in\eta(\Gamma)$ 均是 $\mathcal{L}_\mathcal{A}$ 下[[MK322][关于 $x_1,...,x_{n+1}$ 的表达式]]

******** $\eta(\Gamma)$ [[MK222][一致]]<<MK249>>

由于是 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下的[[MK322][ $1$ 元类型]]，故 $\Gamma$ [[MK222][一致]]，根据[[MK255][完备性]]存在 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下的[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$

及其[[MK154][赋值]] $v$ 使得 $\left<\mathcal{N},v\right>\vDash\Gamma$ 。即对于任意 $\phi\in\Gamma$ 有 $\left<\mathcal{N},v\right>\vDash\phi$

根据[[MK299][定理2]]可得存在 $\mathcal{L}_{\mathcal{A}}$ 的[[MK153][结构]] $\mathcal{N}'=\left<N,J'\right>$ 是 $\mathcal{N}$ 的[[MK295][裁剪结构]]

根据[[MK429][引理14]]可得存在 $\mathcal{N}'$ 的[[MK154][赋值]] $u$ 满足 $\mathcal{L}_{\mathcal{A}}$ 下 $\left<\mathcal{N}',u\right>\vDash\mu(\phi)$

综上所述，对于任意 $\phi\in\Gamma$ 均有 $\mathcal{L}_{\mathcal{A}}$ 下 $\left<\mathcal{N}',u\right>\vDash\mu(\phi)$ ，即 $\mathcal{L}_{\mathcal{A}}$ 下 $\left<\mathcal{N}',u\right>\vDash\eta(\Gamma)$

根据[[MK255][完备性]]可得 $\eta(\Gamma)$ [[MK222][一致]]

******** 存在唯一 $\mathcal{L}_{\mathcal{A}}$ 的[[MK322][ $n+1$ 元类型]]满足 $\Gamma'\supset\eta(\Gamma)$ <<MK419>>

根据[[MK246][覆盖定理]]可得存在 $\mathcal{L}_{\mathcal{A}}$ 下的[[MK322][ $n+1$ 元类型]] $\Gamma'$ 满足 $\eta(\Gamma)\subset\Gamma'$

假设存在 $\mathcal{L}_{\mathcal{A}}$ 下包含 $\eta(\Gamma)$ 的[[MK322][ $n+1$ 元类型]]不唯一，则可取[[MK322][类型]] $\Gamma'_1\ne\Gamma'_2$ 

不妨设 $\phi\in\Gamma'_1,\phi\not\in\Gamma'_2$ ，显然 $\phi$ 中仅有[[MK140][自由变元]] $x_1,...,x_{n+1}$ 且 $\phi\in\mathcal{L}_{\mathcal{A}}$

则根据[[MK429][引理14]]可得存在 $\phi_1,\phi_3$ 满足：

（1） $\mu(\phi_3)=\phi_1$

（2） 任意 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi_1$

根据[[MK255][完备性]]可得存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}_1,\mathcal{M}_2$ 及其对应[[MK154][赋值]] $v_1,v_2$ 满足 $\left<\mathcal{M}_1,v_1\right>\vDash\Gamma'_1,\left<\mathcal{M}_2,v_2\right>\vDash\Gamma'_2$

根据上述（2）以及 $\phi\in\Gamma'_1$ 可得 $\left<\mathcal{M}_1,v_1\right>\vDash\phi_1$ 根据[[MK255][完备性]]可得 $\{\phi_1\}\cup\Gamma'_1$ [[MK222][一致]]，根据[[MK223][极大性]] $\phi_1\in\Gamma'_1$

假设 $\phi_1\in\Gamma'_2$ 则有 $\left<\mathcal{M}_2,v_2\right>\vDash\phi_1$ 根据上述（2） $\left<\mathcal{M}_2,v_2\right>\vDash\phi$  

根据[[MK255][完备性]]可得 $\{\phi\}\cup\Gamma'_2$ [[MK222][一致]]，根据[[MK223][极大性]] $\phi\in\Gamma'_2$ 矛盾，故假设不成立，即 $\phi_1\not\in\Gamma'_2$ 

若 $\phi_3\in\Gamma$ 则 $\mu(\phi_3)=\phi_1\in\eta(\Gamma)$ 即有 $\phi_1\in\eta(\Gamma)\subset\Gamma'_2$ 矛盾

若 $\phi_3\not\in\Gamma$ 则根据[[MK223][极大性]]可得 $\Gamma\cup\{\phi_3\}$ 不[[MK222][一致]]，根据[[MK213][归谬定理]]可得 $\Gamma\vdash(\lnot\phi_3)$

根据[[MK229][定理4]]可得 $\Gamma\cup\{(\lnot\phi_3)\}$ [[MK222][一致]]，根据[[MK223][极大性]] $(\lnot\phi_3)\in\Gamma$ 显然 $\mu((\lnot\phi_3))=(\lnot\mu(\phi_3))=(\lnot\phi_1)$

则有 $(\lnot\phi_1)\in\eta(\Gamma)\subset\Gamma'_1$ 由于 $\phi_1\in\Gamma'_1$ 故 $\Gamma'_1$ 不[[MK222][一致]]，矛盾

综上所述，假设不成立，即 $\mathcal{L}_{\mathcal{A}}$ 下包含 $\eta(\Gamma)$ 的[[MK322][ $n+1$ 元类型]]唯一

******** 定义[[MK322][类型]]映射 $f$

对于任意 $\Gamma(x_1)\in\mathbb{T}_X(\text{Th}((\mathcal{M},c_x)_{x\in X}))$ 定义 $f(\Gamma)$ 为 $\mathcal{L}_{\mathcal{A}}$ 下的[[MK322][ $n+1$ 元类型]]满足 $\eta(\Gamma)\cup T_0\subset f(\Gamma)$

根据[[MK418][之前证明]]可得 $\eta$ 是[[~/文档/note/离散数学/lssx.org::MK175][函数]]，又根据上一步证明可得对于任意 $\eta(\Gamma)$ 存在唯一

包含 $\eta(\Gamma)\cup T_0$ 的 $\mathcal{L}_{\mathcal{A}}$ 下的[[MK322][ $n+1$ 元类型]]，故显然 $f(\Gamma)$ 亦是[[~/文档/note/离散数学/lssx.org::MK175][函数]]

******** $T_0\subset f(\Gamma)$

任取 $\theta\in T_0$ 根据定义有 $\mathcal{M}\vDash\theta$ 显然 $\mathcal{M}$ 是 $(\mathcal{M},c_x)_{x\in X}$ 的[[MK295][裁剪结构]]

则根据[[MK296][定理1]]及[[MK169][推论]]易证 $(\mathcal{M},c_x)_{x\in X}\vDash\theta$ 即有 $\theta\in\text{Th}((\mathcal{M},c_x)_{x\in X})\subset\Gamma$ 。

对于任意 $\Gamma(x_1)\in\Gamma^*$ 满足 $\Gamma\supset\text{Th}((\mathcal{M},c_x)_{x\in X})$ 根据上一步可得

有 $\mathcal{L}_{\mathcal{A}}$ 下的[[MK322][ $n+1$ 元类型]] $f(\Gamma)$ 满足 $\eta(\Gamma)\subset f(\Gamma)$ ，根据[[MK255][完备性]]可得

存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 及其对应[[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash f(\Gamma)$ ，即有 $\left<\mathcal{M},v\right>\vDash\eta(\Gamma)$

根据 $\theta\in\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash\mu(\theta)$ 。

由于 $\theta$ 不含[[MK140][自由变员]]，故可得 $\mu(\theta)=\mu_1(\theta)$ 故根据[[MK384][引理8]]可得 $\left<\mathcal{M},v\right>\vDash\theta$

即对于任意 $\theta\in T_0$ 均有 $\left<\mathcal{M},v\right>\vDash\theta$ 即有 $\left<\mathcal{M},v\right>\vDash T_0$ 结合 $\left<\mathcal{M},v\right>\vDash f(\Gamma)$ 有 $\left<\mathcal{M},v\right>\vDash f(\Gamma)\cup T_0$

根据[[MK255][完备性]]可得 $f(\Gamma)\cup T_0$ [[MK222][一致]]，由于 $f(\Gamma)$ 是 $\mathcal{L}_{\mathcal{A}}$ 下的[[MK322][ $n+1$ 元类型]]

且 $T_0$ 不含[[MK140][自由变员]]显然是[[MK322][关于 $x_1,...,x_{n+1}$ 的表达式]]，故根据[[MK223][极大性]] $T_0\subset f(\Gamma)$

******** 证明 $f$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

对于任意 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下的[[MK322][ $1$ 元类型]] $\Gamma_1\ne\Gamma_2$ 满足 $\{\Gamma_1,\Gamma_2\}\subset\mathbb{T}_X(\text{Th}((\mathcal{M},c_x)_{x\in X}))$ 

不妨设 $\phi\in\mathcal{L}_{\mathcal{A}_{C_X}}$ 满足 $\phi\in\Gamma_1,\phi\not\in\Gamma_2$ 。

假设存在 $\mathcal{L}_\mathcal{A}$ 下的[[MK322][ $n+1$ 元类型]] $\Gamma$ 满足 $\eta(\Gamma_1)\cup T_0\subset\Gamma,\eta(\Gamma_2)\cup T_0\subset\Gamma$ 

根据[[MK255][完备性]]可得存在 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下的[[MK153][结构]] $\mathcal{M}_1=\left<M_1,I_1\right>,\mathcal{M}_2=\left<M_2,I_2\right>$ 及其对应[[MK154][赋值]] $v_1,v_2$

满足 $\left<\mathcal{M}_1,v_1\right>\vDash\Gamma_1,\left<\mathcal{M}_2,v_2\right>\vDash\Gamma_2$ 。则定义 $\mathcal{M}_1,\mathcal{M}_2$ 的[[MK154][赋值]] $u_1,u_2$

满足 $u_1(x_1)=v_1(x_1),u_2(x_1)=v_2(x_1)$ 及对于任意 $2\leq i\leq n+1$ 有 $u_1(x_{i+1})=I_1(c_{a_i}),u_2(x_{i+1})=I_2(c_{a_i})$

根据[[MK384][引理8]]， $|\phi|<\infty$ 以及[[MK176][替换定理]]可得 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下 $\left<\mathcal{M}_1,u_1\right>\vDash\eta(\Gamma_1),\left<\mathcal{M}_2,u_2\right>\vDash\eta(\Gamma_2)$

显然 $\mathcal{L}_\mathcal{A}$ 是 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 的[[MK152][裁剪语言]]，则根据[[MK299][定理2]]可得 $\mathcal{L}_\mathcal{A}$ 下有[[MK295][裁剪结构]] $\mathcal{M}'_1,\mathcal{M}'_2$ 

根据[[MK296][定理1]]可得 $\left<\mathcal{M}'_1,u_1\right>\vDash\eta(\Gamma_1),\left<\mathcal{M}'_2,u_2\right>\vDash\eta(\Gamma_2)$ ，

定义 $\Gamma'_1=\left\{\phi\big|\left<\mathcal{M}'_1,u_1\right>\vDash\phi\land\phi(x_1,...,x_{n+1})\in\mathcal{L} _\mathcal{A}\right\},\Gamma'_2=\left\{\phi\big|\left<\mathcal{M}'_2,u_2\right>\vDash\phi\land\phi(x_1,...,x_{n+1})\in\mathcal{L} _\mathcal{A}\right\}$

根据[[MK330][引理2]]可得 $\Gamma'_1,\Gamma'_2$ 均是 $\mathcal{L} _\mathcal{A}$ 下的[[MK322][ $n+1$ 元类型]]且 $\eta(\Gamma_1)\subset\Gamma'_1,\eta(\Gamma_2)\subset\Gamma'_2$

根据[[MK419][之前证明]]可得包含 $\Gamma'_1,\Gamma'_2$ 的 $\mathcal{L} _\mathcal{A}$ 下的[[MK322][ $n+1$ 元类型]]唯一，故可得 $\Gamma=\Gamma'_1=\Gamma'_2$

根据 $\phi\in\Gamma_1$ 可得 $\mu(\phi)\in\eta(\Gamma_1)\subset\Gamma$ 则有 $\left<\mathcal{M}'_2,u_2\right>\vDash\mu(\phi)$

根据[[MK296][定理1]]可得 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下 $\left<\mathcal{M}_2,u_2\right>\vDash\mu(\phi)$ ，同样根据[[MK384][引理8]]， $|\phi|<\infty$ 以及[[MK176][替换定理]]有 $\left<\mathcal{M}_2,v_2\right>\vDash\phi$

则根据 $\left<\mathcal{M}_2,v_2\right>\vDash\Gamma_2$ 显然 $\left<\mathcal{M}_2,v_2\right>\vDash\Gamma_2\cup\{\phi\}$ 即 $\Gamma_2\cup\{\phi\}$ [[MK222][一致]]

又由于 $\Gamma_2$ 是[[MK322][类型]]，故根据[[MK223][极大性]] $\phi\in\Gamma_2$ ，显然与 $\phi\not\in\Gamma_2$ 矛盾

故假设不成立，即不存在 $\mathcal{L}_\mathcal{A}$ 下的[[MK322][ $n+1$ 元类型]] $\Gamma$ 满足 $\eta(\Gamma_1)\cup T_0\subset\Gamma,\eta(\Gamma_2)\cup T_0\subset\Gamma$

即对于任意 $\Gamma_1\ne\Gamma_2$ 均有 $f(\Gamma_1)\ne f(\Gamma_2)$ 即 $f$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

******* 证明结论

由于 $\mathcal{L}_\mathcal{A}$ 为[[MK151][可数语言]]且 $\mathcal{M}$ 为[[MK153][可数结构]]，故可得 $\mathcal{A}\cup\left\{c_a\big|a\in M\right\}$ 亦为[[~/文档/note/离散数学/lssx.org::MK89][可数集]]

又根据上一步证明可得 $\left\{c_\Gamma\big|\Gamma\in\Gamma^*\right\}$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]，则根据[[~/文档/note/离散数学/lssx.org::MK86][定理3]]有 $\mathcal{A}\cup\left\{c_a\big|a\in M\right\}\cup\left\{c_\Gamma\big|\Gamma\in\Gamma^*\right\}$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]

即 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 是[[MK151][可数语言]]

****** 证明 $\mathbb{T}$ 可被[[MK153][可数结构]]满足

[[MK420][同理]]可证 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 下的[[MK144][语句]]集合 $\mathbb{T}$ [[MK222][一致]]，则根据[[MK255][完备性]]存在 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 的[[MK153][结构]] $\mathcal{N}''=\left<N',J''\right>$ 满足 $\mathcal{N}''\vDash\mathbb{T}$ 

根据[[MK421][定义]]易证 $\text{Th}((\mathcal{M},c_x)_{x\in X})\subset\mathbb{T}$ 则显然任意 $a_1\ne a_2,\{a_1,a_2\}\subset M$ 均有 $(\mathcal{M},c_x)_{x\in X}\vDash(\lnot(c_{a_1}\hat{=}c_{a_2}))$

则必有 $\mathcal{N}''\vDash(\lnot(c_{a_1}\hat{=}c_{a_2}))$ 即 $J''(c_{a_1})\ne J''(c_{a_2})$ 则定义 $f:M\to N'$ 满足 $f(a)=J''(c_a),a\in M$

显然有 $f$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]，即 $|\mathbb{N}|=|M|\leq|N'|$ 则 $N'$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]，且根据上一步证明 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 是[[MK151][可数语言]]

则根据[[MK294][同质缩小]]可得存在 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 的[[MK153][可数结构]] $\mathcal{N}'=\left<N,J'\right>$ 是 $\mathcal{N}''$ 的[[MK287][同质子结构]]

任取 $\mathcal{N}'$ 的[[MK154][赋值]] $v$ ，显然其亦为 $\mathcal{N}''$ 的[[MK154][赋值]]。

对于任意 $\theta\in\mathbb{T}$ 根据[[MK169][推论]]可得 $\left<\mathcal{N}'',v\right>\vDash\theta$ ，则有 $\left<\mathcal{N}',v\right>\vDash\theta$ 同样根据[[MK169][推论]] $\mathcal{N}'\vDash\theta$ ，即有 $\mathcal{N}'\vDash\mathbb{T}$

****** 证明结论（1）

根据[[MK242][引理11]]的[[MK422][第三步]]和[[MK423][第四步]]同理可证存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 满足：

（1） 是 $\mathcal{L}_{\mathcal{A}_{\mathbb{T}}}$ 下 $\mathcal{N}'$ 的[[MK295][裁剪结构]]

（2） $\mathcal{L}_\mathcal{A}$ 下 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]

显然根据上一步证明可得 $N$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]，故 $\mathcal{N}$ 是[[MK153][可数结构]]

****** 证明结论（2）

对于任意 $X\subset M\land |X|<|\mathbb{N}|$ [[MK406][常元扩展]]后的[[MK220][理论]] $\mathcal{T}_X$ 的任意[[MK322][ $1$ 元类型]] $\Gamma(x_1)\supset\text{Th}((\mathcal{M},c_x)_{x\in X})$

根据结论（2）定义 $\mathcal{N}_X$ 则[[MK424][同理]]可证 $\mathcal{N}_X\vDash\Gamma$

**** 引理14<<MK429>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A},\mathcal{L}_{\mathcal{A}\cup C}$ 满足 $C$ 是[[MK108][常元符号]]且 $C=\{c_1,...,c_n\}$ ，则对于任意 $\phi(x_1,...,x_m)\in\mathcal{L}_{\mathcal{A}\cup C}$ 定义

（1） $\mu_1(\phi)$ 为将 $\phi$ 中所有[[MK140][受限变元]]以及[[MK106][量词符号]]中的 $x_i$ 替换为 $x_{n+m+i}$ 显然是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

（2） $\mu_2(\phi)[k]=\begin{cases}x_{i+m}&\phi[k]=c_i\in C\\\phi[k]&\phi[k]\not\in C\end{cases}$ 显然 $\mu_2$ 亦为[[~/文档/note/离散数学/lssx.org::MK176][单射]]

（3） $\mu(\phi)=\mu_2(\mu_1(\phi))$ 显然 $\mu$ 亦为[[~/文档/note/离散数学/lssx.org::MK176][单射]]

则有：

（1） 对于任意 $\phi(x_1,...,x_m)\in\mathcal{L}_{\mathcal{A}\cup C}$ 任意 $\mathcal{L}_{\mathcal{A}}$ 的[[MK154][结构]] $\mathcal{M}=\left<M,I\right>$ 以及 $\mathcal{L}_{\mathcal{A}\cup C}$ 的[[MK154][结构]] $\mathcal{N}=\left<N,J\right>$

     若 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK295][裁剪结构]]，则对于任意 $\mathcal{N}$ 的[[MK154][赋值]] $u$ 若 $\mathcal{M}$ 的[[MK154][赋值]] $v$

     满足 $v(x_i)=\begin{cases}u(x_i)&1\leq i\leq m\\J(c_i)&m+1\leq i\leq n+m\end{cases}$ 则有 $\left<\mathcal{M},v\right>\vDash\mu(\phi)$ 的充要条件是 $\left<\mathcal{N},u\right>\vDash\phi$

（2） 对于任意 $\phi(x_1,...,x_m)\in\mathcal{L}_\mathcal{A}$ 存在唯一 $\phi_1\in\mathcal{L}_\mathcal{A},\phi_3\in\mathcal{L}_{\mathcal{A}\cup C}$ 满足 $\mu(\phi_3)=\phi_1$

     以及对于任意 $\mathcal{L}_{\mathcal{A}}$ 的[[MK154][结构]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi_1$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 证明（1）

由于 $C=\{c_1,...,c_n\}$ ，故对于任意 $\phi(x_1,...,x_m)\in\mathcal{L}_{\mathcal{A}\cup C}$ 其中出现的 $C$ 中的[[MK108][常元符号]]在 $\{c_1,...,c_n\}$

故显然有 $\mu_1=\mu^1_{n,m},\mu_2=\mu^2_{n,m},\mu=\mu_{n,m}$ ，则根据[[MK439][引理17]]可得 $\left<\mathcal{M},v\right>\vDash\mu(\phi)$ 的充要条件是 $\left<\mathcal{N},u\right>\vDash\phi$

****** 证明（2）

对于任意 $\phi(x_1,...,x_{m+n})\in\mathcal{L}_{\mathcal{A}}$ 定义 

（1） $\phi_1$ 为将 $\phi$ 中所有[[MK140][受限变元]]以及[[MK106][量词符号]]中的 $x_i$ 替换为 $x_{n+m+i}$

（2） $\phi_2$ 为将 $\phi_1$ 中所有 $x_i,m+1\leq i\leq n+m$ 替换为 $c_{a_{i-m}}$

（3） $\phi_3$ 为将 $\phi_2$ 中所有[[MK140][受限变元]]以及[[MK106][量词符号]]中的 $x_i$ 替换为 $x_{i-n-m}$

由于（1）可得 $\phi_1,\phi_2$ 中所有[[MK140][受限变元]]以及[[MK106][量词符号]]中的 $x_i$ 均有 $i>n+m$

故 $\phi_3$ 中所有[[MK140][受限变元]]以及[[MK106][量词符号]]中的 $x_i$ 均有 $i>0$

又根据（2）可得 $\phi_3$ 中仅包含 $\mathcal{A}\cup C$ 为[[MK105][非固定符号]]，故显然 $\phi_3\in\mathcal{L}_{\mathcal{A}\cup C}$

且有 $\phi_3$ 中仅有[[MK140][自由变元]] $x_1,...,x_{m}$ ，由于 $\phi$ 中仅有[[MK140][自由变元]] $x_1,...,x_{m+n}$

且对于任意 $x_i,m+1\leq i\leq m+n$ 均被替换为[[MK108][常元符号]] $c_{i-m}$ 故 $\phi_2$ 中仅有[[MK140][自由变元]] $x_1,...,x_{m}$ 

则显然有 $\mu_1(\phi_3)=\phi_2$ 

由于 $\phi$ 中仅有[[MK140][自由变元]] $x_1,...,x_{m+n}$ 且（1）后不然任和 $x_i,i\leq m+n$ 的[[MK142][量词辖域]]

故（2）中替换的 $x_i$ 均为[[MK141][自由出现]]，故易证 $\mu_2(\phi_2)=\phi_1$ ，即 $\mu_2(\phi_2)=\mu_2(\mu_1(\phi_3))=\mu(\phi_3)=\phi_1$

由于 $\phi$ 中仅有[[MK140][自由变元]] $x_1,...,x_{m+n}$ ，则显然任意 $x_{n+m+i},1\leq i$ 不是 $\phi$ 中的[[MK140][自由变元]]

故根据 $|\phi|<\infty$ 以及[[MK384][引理8]]可得对于任意 $\mathcal{L}_{\mathcal{A}}$ 的[[MK154][结构]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$

有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\phi_1$

**** 引理15<<MK431>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A},\mathcal{L}_{\mathcal{A}\cup C}$ 满足：

（1） $C$ 是[[MK108][常元符号]]且 $C\cap\mathcal{A}=\varnothing$

（2） 有 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]] $\mathcal{M}=\left<M.I\right>$ 及 $\mathcal{L}_{\mathcal{A}\cup C}$ 的[[MK154][结构]] $\mathcal{M}_C=\left<M,I_C\right>$

（3） $I_C=I\cup\left\{\left<c,a\right>\big| c\in C\land a\in M\right\}$

则 $\mathcal{M}$ 是 $\mathcal{M}_C$ 的[[MK295][裁剪结构]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

显然有

（1） $\mathcal{A}\subset\mathcal{A}\cup C$ 故 $\mathcal{L}_\mathcal{A}$ 是 $\mathcal{L}_{\mathcal{A}\cup C}$ 的[[MK152][裁剪语言]]

（2） $\mathcal{M},\mathcal{M}_C$ 论域均为 $M$

（3） 任意 $c\in\mathcal{A}$ 均有 $\left<c,I(c)\right>\in I\subset I_C$ ，即有 $I_C(c)=I(c)$

（4） 若 $f\in\mathcal{A}$ 是[[MK109][函数符号]]有 $I(f)=I_C(f)$

（5） 若 $p\in\mathcal{A}$ 是[[MK110][谓词符号]]且 $\pi_P(p)=n$ 有 $I(p)=I_C(p)$

即 $\mathcal{M}$ 是 $\mathcal{M}_C$ 的[[MK295][裁剪结构]]

**** 引理16<<MK443>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 存在 $\kappa$ [[MK394][饱和结构]] $\mathcal{M}=\left<M,I\right>$ 以及[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 满足 $\mathcal{M},\mathcal{N}$ [[MK274][同构]]

则 $\mathcal{N}$ 亦为 $\kappa$ [[MK394][饱和结构]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

定义[[MK274][同构映射]]为 $e:M\to N$ ，则对于任意 $X\subset M$ 定义 $X'=\left\{e(x)\big|x\in X\right\}\subset N$

定义 $\mathcal{N}_{X'}=\left<N,J_{X'}\right>$ 其中 $J_{X'}=\left\{\left<c_x,e(x)\right>\big|x\in X\right\}$ 显然是 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下的[[MK154][结构]]

根据[[MK431][引理15]]可得 $\mathcal{M},\mathcal{N}$ 分别是 $(\mathcal{M},c_x)_{x\in X},\mathcal{N}$ 的[[MK295][裁剪结构]]，则对于任意 $\phi\in\mathcal{L}_{\mathcal{A}_{C_X}}$

对于任意 $\phi\in\mathcal{L}_{\mathcal{A}_{C_X}}$ 由于 $|\phi|<\infty$ ，故 $\phi$ 中出现的 $X$ 中的[[MK108][常元符号]]必为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个，定义 $\phi$ 为 $\{c_1,...,c_n\}$

设 $\phi$ 是[[MK322][关于 $x_1,...,x_m$ 的表达式]]，则根据[[MK439][引理17]]可得对于任意 $(\mathcal{M},c_x)_{x\in X}$ 的[[MK154][赋值]] $v$

有 $\left<(\mathcal{M},c_x)_{x\in X},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},u\right>\vDash\mu(\phi)$ ，其中 $u(x_i)=\begin{cases}v(x_i)&1\leq i\leq m\\I_X(c_i)&m+1\leq i\leq n+m\end{cases}$

根据[[MK274][同构]]可得 $\left<\mathcal{N},u\cdot e\right>\vDash\mu(\phi)$ 定义 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下 $\mathcal{N}$ 的[[MK154][赋值]] $\lambda$ 满足 $\lambda(x_i)=e(v(x_i))$

对于任意 $m+1\leq i\leq n+m$ 显然 $J_X(c_i)=e(I_X(c_i))=u(x_i)$

即有 $e(u(x_i))=\begin{cases}\lambda(x_i)&1\leq i\leq m\\J_X(c_i)&m+1\leq i\leq n+m\end{cases}$

则根据[[MK439][引理17]]可得 $\left<\mathcal{N},u\cdot e\right>\vDash\mu(\phi)$ 的充要条件式 $\left<\mathcal{N}_{X'},\lambda\right>\vDash\phi$ 根据 $\lambda$ 定义可得 $\left<\mathcal{N}_{X'},v\cdot e\right>\vDash\phi$

故对于任意 $\phi\in\mathcal{L}_{\mathcal{A}_{C_X}}$ 有 $\left<(\mathcal{M},c_x)_{x\in X},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N}_{X'},v\cdot e\right>\vDash\phi$

又由于 $e$ 是[[MK274][同构映射]]，故 $e$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]，则根据[[MK280][定理2]]可得 $e$ 是 $(\mathcal{M},c_x)_{x\in X}$ 到 $\mathcal{N}_{X'}$ 的[[MK274][同构映射]]

根据 $\mathcal{M}$ 是 $\kappa$ [[MK394][饱和结构]]，则任意 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下的任意[[MK322][ $1$ 元类型]] $\Gamma(x_1)$ 均有 $(\mathcal{M},c_x)_{x\in X}\vDash\Gamma[a],a\in M$

则根据 $(\mathcal{M},c_x)_{x\in X},\mathcal{N}_{X'}$ [[MK274][同构]]有 $\mathcal{N}_{X'}\vDash\Gamma[e(a)]$ ，即 $\mathcal{N}_{X'}$ 实现 $\Gamma$

综上所述，对于任意 $X'\subset N\land |X'|<\kappa$ 均有对应的 $e^{-1}(X')=X\subset M$

则易证 $\mathcal{L}_{\mathcal{A}_{C_{X'}}}$ 下的任意[[MK322][ $1$ 元类型]] $\Gamma(x_1)$ 均有 $\mathcal{N}_{X'}\vDash\Gamma$ ，即 $\mathcal{N}$ 是 $\kappa$ [[MK394][饱和结构]]

**** 引理17<<MK439>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A},\mathcal{L}_{\mathcal{A}\cup C}$ 满足 $C$ 是[[MK108][常元符号]]，则对于任意 $\phi(x_1,...,x_m)\in\mathcal{L}_{\mathcal{A}\cup C}$ 定义

（1） $\phi$ 中出现的 $C$ 中的[[MK108][常元符号]]在 $\{c_1,...,c_n\}$ 中 

（2） $\mu^1_{n,m}(\phi)$ 为将 $\phi$ 中所有[[MK140][受限变元]]以及[[MK106][量词符号]]中的 $x_i$ 替换为 $x_{n+m+i}$ 显然是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

（3） $\mu^2_{n,m}(\phi)[k]=\begin{cases}x_{i+m}&\phi[k]=c_i\in C\\\phi[k]&\phi[k]\not\in C\end{cases}$ 显然 $\mu_2$ 亦为[[~/文档/note/离散数学/lssx.org::MK176][单射]]

（4） $\mu_{n,m}(\phi)=\mu^2_{n,m}(\mu^1_{n,m}(\phi))$ 显然 $\mu_{n,m}$ 亦为[[~/文档/note/离散数学/lssx.org::MK176][单射]]

那么任意 $\mathcal{L}_{\mathcal{A}}$ 的[[MK154][结构]] $\mathcal{M}=\left<M,I\right>$ 以及 $\mathcal{L}_{\mathcal{A}\cup C}$ 的[[MK154][结构]] $\mathcal{N}=\left<N,J\right>$

若 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK295][裁剪结构]]，则对于任意 $\mathcal{N}$ 的[[MK154][赋值]] $u$ 若 $\mathcal{M}$ 的[[MK154][赋值]] $v$

满足 $v(x_i)=\begin{cases}u(x_i)&1\leq i\leq m\\J(c_i)&m+1\leq i\leq n+m\end{cases}$ 则有 $\left<\mathcal{M},v\right>\vDash\mu_{n,m}(\phi)$ 的充要条件是 $\left<\mathcal{N},u\right>\vDash\phi$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

显然 $\phi$ 中仅有[[MK140][自由变元]] $x_1,...,x_m$ ，则显然任意 $x_{n+m+i},1\leq i$ 不是 $\phi$ 中的[[MK140][自由变元]]

故根据 $|\phi|<\infty$ 以及[[MK384][引理8]]可得 $\left<\mathcal{N},u\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},u\right>\vDash\mu^1_{n,m}(\phi)$

定义 $\mathcal{N}$ 的[[MK154][赋值]] $v$ 满足 $v(x_i)=\begin{cases}u(x_i)&1\leq i\leq m\\J(c_i)&m+1\leq i\leq n+m\end{cases}$

显然 $\mu^1_{n,m}(\phi)$ 中不含任意 $x_i,i\leq m+n$ 的[[MK142][量词辖域]]，则 $\mu^2_{n,m}(\mu^1_{n,m}(\phi))$ 中的任意 $x_i,m+1\leq i\leq n+m$

均为[[MK141][自由出现]]，则根据[[MK176][替换定理]]可得 $\left<\mathcal{N},u\right>\vDash\mu^2_{n,m}(\mu^1_{n,m}(\phi))$ 的充要条件是 $\left<\mathcal{N},v\right>\vDash\mu^2_{n,m}(\mu^1_{n,m}(\phi))=\mu_{n,m}(\phi)$

显然 $\mu_{n,m}(\phi)$ 不含 $C$ 中符号，故 $\mu_{n,m}(\phi)\in\mathcal{L}_\mathcal{A}$ 则根据 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK295][裁剪结构]]

以及[[MK296][定理1]]有 $\left<\mathcal{N},v\right>\vDash\mu_{n,m}(\phi)$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\mu_{n,m}(\phi)$ 
 
*** 定理

**** 覆盖定理<<MK246>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 任意关于 $x_1,...,x_n$ 的[[MK222][一致]]的[[MK129][表达式]]集合 $\Gamma(x_1,...,x_n)$

均存在[[MK322][类型]] $\Gamma^*(x_1,...,x_n)$ 满足 $\Gamma(x_1,...,x_n)\subset\Gamma^*(x_1,...,x_n)$

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

定义 $D$ 为所有关于 $x_1,...,x_n$ 的[[MK222][一致]]的[[MK129][表达式]]集合中[[~/文档/note/离散数学/lssx.org::MK15][包含]] $\Gamma$ 的[[MK129][表达式]]集合所组成的集合

易证 $\left<D,\subset\right>$ 为[[~/文档/note/离散数学/lssx.org::MK143][偏序关系]]，则对于任意[[~/文档/note/离散数学/lssx.org::MK153][链]] $A\subset D$ 定义 $A^*=\bigcup_{a\in A}a$

根据下列证明可得 $A^*\in D$ ，即 $A^*$ 是[[~/文档/note/离散数学/lssx.org::MK153][链]] $A$ 的[[~/文档/note/离散数学/lssx.org::MK145][上界]]，即任意 $\left<D,\subset\right>$ 的[[~/文档/note/离散数学/lssx.org::MK153][链]]都有[[~/文档/note/离散数学/lssx.org::MK145][上界]]

根据[[~/文档/note/离散数学/lssx.org::MK162][佐恩引理]]可得 $\left<D,\subset\right>$ 中存在[[~/文档/note/离散数学/lssx.org::MK144][极大元]] $\Gamma^*(x_1,...,x_n)$

根据 $D$ 的定义可得 $\Gamma^*(x_1,...,x_n)$ 是覆盖 $\Gamma(x_1,...,x_n)$ 的关于 $x_1,...,x_n$ 的极大[[MK222][一致]]集合

****** $\Gamma(x_1,...,x_n)\subset A^*$

由于 $A\subset D$ 故有任意 $a\in A$ 均有 $\Gamma(x_1,...,x_n)\subset a$ 故有 $\Gamma(x_1,...,x_n)\subset A^*$

****** $A^*$ [[MK222][一致]]

假设不一致，则存在 $\phi$ 满足 $A^*\vdash\phi,A^*\vdash(\lnot\phi)$

根据[[MK196][证明]]可得存在证明序列 $\left<\phi_1,...,\phi_n\right>,\left<\phi'_1,...,\phi'_m\right>$ 满足 $\phi_n=\phi,\phi'_m=(\lnot\phi)$

由于 $A^*=\bigcup_{a\in A}a$ 故对于任意 $\phi_i$ 均有 $a_i\in A$ 满足 $\phi_i\in a_i$ 同理有 $\phi'_i\in a'_i$

由于 $n\in\mathbb{N},m\in\mathbb{N}$ 且 $A$ 是 $\left<D,\subset\right>$ 的[[~/文档/note/离散数学/lssx.org::MK153][链]]，即任意 $\{a_1,a_2\}\subset A$ 均有 $a_1\subset a_2\lor a_2\subset a_2$

故易证存在 $a^*\in\{a_1,...,a_n,a'_1,...,a'_m\}$ 满足 $a^*=\left(\bigcup_{i=1}^na_i\right)\cup\left(\bigcup_{i=1}^na'_i\right)$

则有 $a^*\vdash\phi,a^*\vdash(\lnot\phi)$ ，由于 $a^*\in A\subset D$ [[MK222][一致]]，故矛盾

即假设不成立，不存在 $\phi$ 满足 $A^*\vdash\phi,A^*\vdash(\lnot\phi)$ ，即 $A^*$ [[MK222][一致]]

**** 可实现条件定理<<MK334>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 其中 $T$ [[MK222][一致]]，有关于 $x_1,...,x_n$ 的非空[[MK129][表达式]]集合 $\Gamma(x_1,...,x_n)\subset\mathcal{L}_\mathcal{A}$

则如下命题等价：

（1） $T\cup\Gamma$ [[MK222][一致]]

（2） 存在 $\mathcal{L}_\mathcal{A}$ 的[[MK221][模型]] $\mathcal{M}$ 满足 $\mathcal{M}$ [[MK323][实现]] $\Gamma$

（3） 任意 $\Gamma$ 的有限子集 $\Gamma'\subset\Gamma$ ，均存在 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 满足 $\mathcal{M}$ [[MK323][实现]] $\Gamma'$

（4） $T\cup\left\{(\exists x_1(...(\exists x_n(\phi_1\land...\land\phi_m))))\big|1\leq m<\infty\land \{\phi_1,...,\phi_m\}\subset\Gamma\}\right}$ [[MK222][一致]]

***** 证明

****** （1）推出（2）

由于 $T\cup\Gamma$ [[MK222][一致]]，根据[[MK254][完备性]]可得存在 $\mathcal{L}_\mathcal{A}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 满足 $T\cup\Gamma$

显然有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 进而根据[[MK168][局部确定性]]有 $\mathcal{M}\vDash\Gamma(\left<x_1,...,x_n\right>,\left<v(x_1),...,v(x_n)\right>)$

即 $v(x_1),...,v(x_n)$ 是 $\Gamma$ 在 $\mathcal{M}$ 中的[[MK323][实现]]

****** （2）推出（3）

显然若有 $\mathcal{M}\vDash\Gamma(\left<x_1,...,x_n\right>,\left<a_1,...,a_n\right>)$ 则对于任意 $\Gamma^*\subset\Gamma$

均有 $\mathcal{M}\vDash\Gamma^*(\left<x_1,...,x_n\right>,\left<a_1,...,a_n\right>)$

****** （3）推出（4）

任取 $K\subset T\cup\left\{(\exists x_1(...(\exists x_n(\phi_1\land...\land\phi_m))))\big|1\leq m<\infty\land \{\phi_1,...,\phi_m\subset\Gamma\}\right}$ 满足 $|K|<\infty$

设 $\{\psi_1,...,\psi_z\}=K\cap\left\{(\exists x_1(...(\exists x_n(\phi_1\land...\land\phi_m))))\big|1\leq m<\infty\land \{\phi_1,...,\phi_m\subset\Gamma\}\right}$

且 $\psi_i=\exists x_1(...(\exists x_n(\phi_{i_1}\land...\land\phi_{i_{m_i}}))))$ 进一步定义 $\Phi=\left\{\phi_{i_j}\big|1\leq i\leq z\land 1\leq j\leq m_i\right\}$

由于 $m<\infty$ 且 $|K|<\infty$ 显然 $|\Phi|<\infty$ ， 故可定义 $\Phi$ 中所有[[MK129][表达式]]的[[MK170][逻辑与]] $\phi^*=(((\phi_{1_1}\land\phi_{1_2})...)\land\phi_{z_{m_z}})$

根据（3）可得存在 $T$ 的[[MK221][模型]] $\mathcal{M}$ 满足 $\mathcal{M}$ [[MK323][实现]] $\Phi$ 即 $\mathcal{M}\vDash\Phi(\left<x_1,...,x_n\right>,\left<a_1,...,a_n\right>)$

则定义 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 满足 $v(x_i)=a_i$ 即有 $\left<\mathcal{M},v\right>\vDash\Phi$ 即有 $\left<\mathcal{M},v\right>\vDash\phi_{1_1},\left<\mathcal{M},v\right>\vDash\phi_{1_2}$

则根据[[MK170][逻辑与]]可得等价于 $\left<\mathcal{M},v\right>\vDash(\phi_{i_1}\land\phi_{i_2})$ 依此类推可得对于任意 $\psi_i$ 均有 $\left<\mathcal{M},v\right>\vDash(\phi_{i_1}\land...\land\phi_{i_{m_i}})$

又根据[[MK172][存在量词]]可得于任意 $\psi_i$ 均有 $\left<\mathcal{M},v\right>\vDash\psi_i$

即 $\left<\mathcal{M},v\right>\vDash K\cap\left\{(\exists x_1(...(\exists x_n(\phi_1\land...\land\phi_m))))\big|1\leq m<\infty\land \{\phi_1,...,\phi_m\subset\Gamma\}\right}$

又由于 $\mathcal{M}$ 是 $\mathcal{T}$ 的[[MK221][模型]]，故有 $\mathcal{M}\vDash T$ 进而有 $\mathcal{M}\vDash K\cap T$ 故有 $\left<\mathcal{M},v\right>\vDash K\cap T$

综上所述，对于任意有限子集 $K$ 均有 $T$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash K$

根据[[MK254][完备性]]可得 $K$ [[MK222][一致]]，则根据[[MK271][紧致性定理]]

可得 $T\cup\left\{(\exists x_1(...(\exists x_n(\phi_1\land...\land\phi_m))))\big|1\leq m<\infty\land \{\phi_1,...,\phi_m\subset\Gamma\}\right}$ [[MK222][一致]]

****** （3）推出（1）

任取 $K\subset T\cup\Gamma$ 且 $|K|<\infty$ 则根据（3）存在 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 满足 $\mathcal{M}$ [[MK323][实现]] $K\cap\Gamma$

即存在 $\mathcal{M}\vDash (K\cap\Gamma)(\left<x_1,...,x_n\right>,\left<a_1,...,a_n\right>)$ 则定义 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 满足 $v(x_i)=a_i$

即有 $\left<\mathcal{M},v\right>\vDash (K\cap\Gamma)$ 又由于 $\mathcal{M}$ 是 $\mathcal{T}$ 的[[MK221][模型]]，故有 $\mathcal{M}\vDash T$ 进而有 $\mathcal{M}\vDash K\cap T$

综上所述，对于任意有限子集 $K$ 均有 $T$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash K$

根据[[MK254][完备性]]可得 $K$ [[MK222][一致]]，则根据[[MK271][紧致性定理]]可得 $T\cup\Gamma$ 一致

**** 肯定接纳定理<<MK335>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 其中 $T$ [[MK222][一致]]，有关于 $x_1,...,x_n$ 的[[MK129][表达式]]集合 $\Gamma(x_1,...,x_n)\subset\mathcal{L}_\mathcal{A}$

若 $\mathcal{T}$ [[MK327][肯定]] $\Gamma$ 则：

（1） 存在 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ [[MK326][接纳]] $\Gamma$

（2） 若 $\mathcal{T}$ 是[[MK264][完全]]理论，则任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ [[MK326][接纳]] $\Gamma$ 

***** 证明

****** 证明（1）<<MK336>>

根据[[MK344][肯定]]可得 $T\cup\left{(\exists x_1(...(\exists x_n\phi)))\right}$ [[MK222][一致]]，则根据[[MK254][完备性]]可得存在 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$

有 $\left<\mathcal{M},v\right>\vDash T\cup\left{(\exists x_1(...(\exists x_n\phi)))\right}$ 显然 $T\cup\left{(\exists x_1(...(\exists x_n\phi)))\right}$ 是[[MK144][语句]]集合

故根据[[MK169][推论]]易证 $\mathcal{M}\vDash T\cup\left{(\exists x_1(...(\exists x_n\phi)))\right}$

根据[[MK172][存在量词]]以及 $n<\infty$ 易证存在 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 满足 $\left<\mathcal{M},v\right>\vDash T,\left<\mathcal{M},v\right>\vDash\phi$

又根据对于任意 $\gamma\in\Gamma$ 均有 $T\vdash(\phi\to\gamma)$ ，由于 $\left<\mathcal{M},v\right>\vDash T$ 则根据[[MK256][完备性]]可得 $\left<\mathcal{M},v\right>\vDash(\phi\to\gamma)$

根据[[MK158][满足]]定义可得 $\left<\mathcal{M},v\right>\vDash\gamma$ 根据 $\gamma$ 任意性有 $\left<\mathcal{M},v\right>\vDash\Gamma$

则根据[[MK168][局部确定]]可得 $\left<\mathcal{M},v\right>\vDash\Gamma(\left<x_1,...,x_n\right>,\left<v(x_i),...,v(x_i))\right>$ 即 $v(x_i),...,v(x_i))$ 在 $\mathcal{M}$ 中[[MK323][实现]] $\Gamma$

即 $\mathcal{M}$ [[MK326][接纳]] $\Gamma$

****** 证明（2）

由于 $T\cup\left{(\exists x_1(...(\exists x_n\phi)))\right}$ [[MK222][一致]]且 $\mathcal{T}$ 是[[MK264][完全]]理论，根据[[MK270][引理6]]可得 $T\vdash(\exists x_1(...(\exists x_n\phi)))$

则对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash (\exists x_1(...(\exists x_n\phi)))$

则[[MK336][同理]]可证 $\mathcal{M}$ [[MK326][接纳]] $\Gamma$ 

***** 推论1<<MK337>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]，存在 $\mathcal{L}_\mathcal{A}$ 的[[MK322][类型]] $\Gamma(x_1,...,x_n)$ 是 $\mathcal{T}$ 的[[MK329][根本型]]

则 $\Gamma$ 被每一个 $\mathcal{T}$ 的[[MK221][模型]]中[[MK326][接纳]]

****** 证明

根据[[MK329][定义]]有 $T\subset\Gamma$ 则 $T\cup\Gamma=\Gamma$ 又由于 $\Gamma$ 是[[MK322][类型]]，故 $T\cup\Gamma=\Gamma$ [[MK222][一致]]

取 $\phi\in\Gamma$ 满足 $\Gamma=\left\{\psi\in\mathcal{L}_\mathcal{A}\big|T\vdash(\phi\to\psi)\right\}$ 则：

（1） 根据[[MK334][可实现条件]]显然 $T\cup\{(\exists x_1(...(\exists x_n \phi)))\}$ [[MK222][一致]]

（2） 根据[[MK329][定义]]任意 $\gamma\in\Gamma$ 均有 $T\vdash(\phi\to\gamma)$

（3） 根据条件 $\mathcal{T}$ 是[[MK264][完全的]]

则根据[[MK335][肯定接纳定理]]有任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ [[MK326][接纳]] $\Gamma$ 

***** 推论2

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]，若 $\mathcal{L}_\mathcal{A}$ 的[[MK322][类型]] $\Gamma(x_1,...,x_n)$ 满足：

（1） $T\subset\Gamma$

（2） $\Gamma$ 被 $\mathcal{T}$ 的某一个[[MK221][模型]]所[[MK326][排斥]]

则 $\Gamma$ 不是 $\mathcal{T}$ 的[[MK329][根本型]]

****** 证明

假设 $\Gamma$ 是 $\mathcal{T}$ 的[[MK329][根本型]]，由于 $\mathcal{T}$ 是[[MK264][完全的]]，则根据[[MK337][推论1]]可得 $\Gamma$ 被每一个 $\mathcal{T}$ 的[[MK221][模型]]中[[MK326][接纳]]

与条件（2）矛盾，故假设不成立， $\Gamma$ 不是 $\mathcal{T}$ 的[[MK329][根本型]]

**** 型排斥定理<<MK338>>

[[MK220][一阶可数理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ [[MK222][一致]]，若 $\mathcal{L}_\mathcal{A}$ [[MK322][关于 $x_1,...,x_n$ 的表达式]]集合 $\Gamma(x_1,...,x_n)$ 满足：

（1） $T\subset\Gamma$

（2） $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma$

则必有 $\mathcal{T}$ 的[[MK221][可数模型]]，该模型[[MK326][排斥]] $\Gamma$

***** 证明

****** 未在 $\mathcal{A}$ 中的[[MK108][常元符号]]为[[~/文档/note/离散数学/lssx.org::MK83][无限]]个<<MK339>>

定义未出现在 $\mathcal{A}$ 中的[[MK108][常元符号]]集体为 $D$ ，定义 $\mathcal{A}^*=\mathcal{A}\cup D$ 则显然 $T\subset\mathcal{L}_{\mathcal{A}^*}$ 

******* 构建排序

******** $\mathcal{L}_{\mathcal{A}^*}$ [[MK108][常元符号]]排序<<MK340>>

根据 $\mathcal{A}$ 中[[MK108][常元符号]]为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个显然 $D$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，故定义 $D=\left\{c_i\big|i\in\mathbb{N}\right\}$

******** $\mathcal{L}_{\mathcal{A}^*}$ [[MK144][语句]]排序<<MK341>>

根据[[MK116][引理]]可得[[MK41][基本符号串]] $\Sigma^*$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，根据[[MK129][表达式]]定义易证 $\mathcal{L}_{\mathcal{A}^*}\subset\Sigma^*$ 且显然 $\mathcal{L}_{\mathcal{A}^*}$ 不是[[~/文档/note/离散数学/lssx.org::MK82][有限集]]

根据[[~/文档/note/离散数学/lssx.org::MK91][定理2]]可得 $\mathcal{L}_{\mathcal{A}^*}$ 亦为可数集，故定义 $\mathcal{L}_{\mathcal{A}^*}$ 中所[[MK144][语句]] $\left\{\theta_i\big|i\in\mathbb{N}\right\}$

******** $\mathcal{L}_{\mathcal{A}^*}$ [[MK108][常元符号]] $n$ 元组排序<<MK342>>

定义 $D^n=\prod_{i=1}^nD$ 根据[[~/文档/note/离散数学/lssx.org::MK98][定理2]]可得 $D^n$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，故定义排序 $D^n=\left\{\left<c_{i_1},...,c_{i_n}\right>\big|i\in\mathbb{N}\right\}$

******* 构建 $T_\infty$ <<MK343>>

定义 $T_0=T$ 则根据以下证明以及数学归纳法可得对于任意 $T_m$ 均有：

（1） $T_m$ [[MK129][一致]]

（2） 要么 $\theta_{m-1}\in T_m$ ，要么 $(\lnot\theta_{m-1})\in T_m$

（3） 若 $\theta_{m-1}=(\exists x_i\psi)$ 且 $\theta_{m-1}\in T_m$ 则有 $\psi(\left<x_i\right>,\left<c_q\right>)\in T_m$

     其中 $c_{q_{n-1}}$ 为 $D$ 中不在 $T_{m-1}$ 和 $\phi_{m-1}$ 以及 $\left<c_{m_1},...,c_{m_n}\right>$ 中出现 $D$ 中[[MK340][排序]]最小的元素

（4） 存在 $\sigma\in\Gamma$ 满足 $(\lnot\sigma)(\left<x_1,...,x_n\right>,\left<c_{(m-1)_1},...,c_{(m-1)_n}\right>)\in T_m$

（5） $|T_m-T|<\infty$ 且 $T_m$ 是[[MK144][语句]]集合

（6） $T_m\subset T_{m+1}$

显然 $T_0$ [[MK129][一致]]，则根据以下构造规则及数学归纳法可得对于任意 $m>0$ 均有 $T_m$ 满足上述条件

即定义 $T_\infty=\bigcup_{i\in\mathbb{N}}T_i$
 
******** 递归假设

有 $T_m$ 满足上述六条性质

******** 构建 $T_{m+1}$

根据以下步骤构造 $T_m\subset T_{m+1}$ ：

********* 构造 $T^1_{m+1}$ <<MK344>>

若 $T_m\cup\{\theta_m\}$ [[MK129][一致]]，则 $T_{m+1}^1=T_m\cup\{\theta_m\}$ ，否则 $T_{m+1}^1=T_m\cup\{(\lnot\theta_m)\}$

显然 $T^1_{m+1}$ 满足（2），且由于 $\theta_m$ 是[[MK144][语句]]，故于 $(\lnot\theta_m)$ 亦是[[MK144][语句]]

若 $T_m\cup\{\theta_m\}$ 不[[MK129][一致]]，则根据[[MK254][完备性]]以及归纳假设中 $T_m$ [[MK222][一致]]

可得存在 $\mathcal{L}_{\mathcal{A}^*}$ 的的[[MK153][结构]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash T_m$

又由于 $T_m\cup\{\theta_m\}$ 不[[MK129][一致]]，根据[[MK254][完备性]]可得必有 $\left<\mathcal{M},v\right>\not\vDash\theta_m$ 又根据[[MK158][满足]]有 $\left<\mathcal{M},v\right>\vDash(\lnot\theta_m)$

综上所述 $\left<\mathcal{M},v\right>\vDash T_m\cup\{(\lnot\theta_m)\}$ 又根据[[MK254][完备性]]可得 $T_{m+1}^1=T_m\cup\{(\lnot\theta_m)\}$ [[MK129][一致]]

又根据归纳假设可得 $|T_m-T|<\infty$ 且根据构造 $|T^1_{m+1}-T|=|T_m-T|+1$ 故 $|T^1_{m+1}-T|<\infty$

综上所述 $T^1_{m+1}$ 满足条件（1）（2）（5）（6）

********* 构造 $T^2_{m+1}$ <<MK345>>

若 $\theta_m\in T_m$ 且 $\theta_m=(\exists x_i\psi)$ 则 $T_{m+1}^2=T_m^1\cup\{\psi(\left<x_i\right>,\left<c_q\right>)\}$

根据上一步构造可得 $T^1_{m+1}$ 满足（1）（2）（5）

显然 $T^2_{m+1}$ 满足（2）且[[MK340][同理可证]] $T^2_{m+1}$ 亦满足（1），且显然 $T^2_{m+1}$ 满足（3）

同上一步易证 $|T^2_{m+1}-T|<\infty$ 且由于 $\theta_m$ 是[[MK144][语句]]，故 $\psi$ 仅有 $x_i$ 是[[MK140][自由变元]]

故 $\psi(\left<x_i\right>,\left<c_q\right>)$ 亦是[[MK144][语句]]。综上所述 $T^2_{m+1}$ 满足条件（1）（2）（3）（5）（6）

********* 构造 $T_{m+1}$ <<MK346>>

根据归纳假设 $|T_m-T|<\infty$ 显然有 $|T^2_{m+1}-T|<\infty$ 故定义 $T^2_{m+1}-T=\{\varphi_1,...,\varphi_k\}$

根据下列证明可找到 $\sigma\in\Gamma$ 满足 $T\cup\{\varphi_1,...,\varphi_k\}\cup\{(\lnot\sigma)(\left<x_1,...,x_n\right>,\left<c_{m_1},...,c_{m_n}\right>)\}$ [[MK222][一致]]

故有 $T^2_{m+1}\cup\{(\lnot\sigma)(\left<x_1,...,x_n\right>,\left<c_{m_1},...,c_{m_n}\right>)\}$ [[MK222][一致]]

即定义 $T_{m+1}=T^2_{m+1}\cup\{(\lnot\sigma)(\left<x_1,...,x_n\right>,\left<c_{m_1},...,c_{m_n}\right>)\}$ 即满足（1）

显然 $T^2_{m+1}\subset T_{m+1}$ 故亦满足（2）（3）

又由于 $|T^2_{m+1}-T|<\infty,|T_{m+1}-T|=|T^2_{m+1}-T|+1$ 故有 $|T_{m+1}-T|<\infty$

且 $\sigma\in\Gamma$ 故所有[[MK140][自由变元]]均在 $x_1,...,x_n$ 中，故 $(\lnot\sigma)(\left<x_1,...,x_n\right>,\left<c_{m_1},...,c_{m_n}\right>)$ 是[[MK144][语句]]

即满足（5）

又根据 $\sigma$ 的定义即满足（4），且显然满足（6）

********** 定义 $\varphi'$

定义 $\varphi'=(\varphi_1\land...\land\varphi_k)$ 由于 $T\cup\{\varphi_1,...,\varphi_k\}$ [[MK129][一致]]，故根据[[MK254][完备性]]可得

存在 $\mathcal{L}_{\mathcal{A}^*}$ 的的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash T\cup\{\varphi_1,...,\varphi_k\}$

根据[[MK170][逻辑与满足]]有 $\left<\mathcal{M},v\right>\vDash \varphi'$ 即 $\left<\mathcal{M},v\right>\vDash T\cup\{\varphi'\}$

又由于 $\varphi_i$ 均为[[MK144][语句]]，故 $\varphi'$ 亦是[[MK144][语句]]

********** 定义 $\varphi''$

显然 $\varphi'$ 中仅有有限个[[MK107][变元符号]] $x_{i_1},...,x_{i_p}$ 取 $l=\max(\{x_{i_1},...,x_{i_p}\})$

定义 $\varphi''$ 为将 $\varphi'$ 中所有 $x_i,1\leq i\leq n$ （[[MK140][自由变元]]、[[MK140][受限变元]]以及[[MK106][量词符号]]）均替换为 $x_{l+i},1\leq i\leq n$

显然 $\varphi''$ 是[[MK129][表达式]]，根据有 $\left<\mathcal{M},v\right>\vDash \varphi'$ 定义 $v'$ 满足 $v'(x_i)=\begin{cases}v(x_{i-l})&k+1\leq i\leq k+n\\v(x_i)&else\end{cases}$

则根据[[MK176][替换定理]]易证 $\left<\mathcal{M},v'\right>\vDash \varphi''$ 又由于 $\left<\mathcal{M},v\right>\vDash T$ 则根据[[MK169][推论]]可得 $\left<\mathcal{M},v'\right>\vDash T\cup\{\varphi''\}$

又由于 $\varphi'$ 是[[MK144][语句]]且替换包含所有出现，故 $\varphi''$ 亦是[[MK144][语句]]

********** 定义 $\varphi'''$

显然 $\varphi''$ 中仅有有限个 $D$ 中的[[MK108][常元符号]]，并定义排序 $c_{j_1},...,c_{j_q}$

根据上两步定义可得 $\varphi''$ 中未出现 $x_{1},...,x_{n}$ 和 $x_{l+p+1},...,x_{l+p+q-n}$

定义 $\varphi'''$ 为 $\varphi''$ 中所有 $c_{j_i}$ 替换为

（1） 若 $1\leq i\leq n$ 则替换为 $x_i$

（2） 否则替换为 $x_{l+p+i}$

根据上一步有 $\left<\mathcal{M},v'\right>\vDash T\cup\{\varphi''\}$ 则定义 $v''(x_i)=\begin{cases}I(c_{m_i})&1\leq i\leq n\\I(c_{j_{i-l-p}})&l+p+1\leq i\leq l+p+q-n\\v'(x_i)&else\end{cases}$

由[[MK176][替换定理]] $\left<\mathcal{M},v''\right>\vDash\varphi'''$ ，又由于 $\left<\mathcal{M},v\right>\vDash T$ 则根据[[MK169][推论]]可得 $\left<\mathcal{M},v''\right>\vDash T\cup\{\varphi'''\}$

由于 $\varphi''$ 是[[MK144][语句]]，故不包含[[MK140][自由变元]]，且替换的[[MK140][自由变元]]均未在 $\varphi''$ 中出现

故替换后均为[[MK140][自由变元]]，即 $\varphi'''$ 所有[[MK140][自由变元]]均在 $x_1,...,x_n,x_{l+p+1},...,x_{l+p+q-n}$ 中

********** 定义 $\varphi$

定义 $\varphi=(\exists x_{l+p+1}(...(\exists x_{l+p+q-n}(\varphi'''))...))$ 根据上一步可得 $\varphi$ 所有[[MK140][自由变元]]均在 $x_1,...,x_n$ 中

又根据上一步有 $\left<\mathcal{M},v''\right>\vDash\varphi'''$ ，则易证 $\left<\mathcal{M},v''\right>\vDash\varphi$

又由于 $\left<\mathcal{M},v\right>\vDash T$ 则根据[[MK169][推论]]可得 $\left<\mathcal{M},v''\right>\vDash T\cup\{\varphi\}$ 即根据[[MK254][完备性]] $T\cup\{\varphi\}$ [[MK129][一致]]

********** 找 $\sigma\in\Gamma$

由于 $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma$ 且 $T\cup\{\varphi\}$ [[MK129][一致]]，则存在 $\sigma\in\Gamma$ 满足 $T\cup\left\{(\exists x_1(...(\exists x_n(\varphi\land(\lnot\sigma)))))\right\}$ [[MK222][一致]]

根据[[MK254][完备性]]有 $\mathcal{L}_{\mathcal{A}^*}$ [[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ [[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash T\cupT\cup\left\{(\exists x_1(...(\exists x_n(\varphi\land(\lnot\sigma)))))\right\}$

易证存在 $\mathcal{M}$ 的[[MK154][赋值]] $\eta$ 满足 $\left<\mathcal{M},\eta\right>\vDash(\varphi\land(\lnot\sigma))$ 根据[[MK170][逻辑与满足]]有 $\left<\mathcal{M},\eta\right>\vDash(\lnot\sigma),\left<\mathcal{M},\eta\right>\vDash\varphi$

根据 $\varphi$ 定义有 $\left<\mathcal{M},\eta\right>\vDash(\exists x_{l+p+1}(...(\exists x_{l+p+q-n}(\varphi'''))...))$ 

易证存在 $\mathcal{M}$ 的[[MK154][赋值]] $\eta^*$ 满足 $\eta(x_i)=\eta^*(x_i),(\lnot(l+p+1\leq i\leq l+p+q-n))$ 使得 $\left<\mathcal{M},\eta^*\right>\vDash\varphi'''$ 

由于 $\sigma\in\Gamma$ 故其只包含 $x_1,...,x_n$ 为[[MK140][自由变元]]，故有 $\eta(x_i)=\eta^*(x_i),1\leq i\leq n$

故根据[[MK168][局部确定]]有 $\left<\mathcal{M},\eta^*\right>\vDash(\lnot\sigma)$ 同理 $\varphi$ 亦仅有 $x_1,...,x_n$ 为[[MK140][自由变元]]，故 $\left<\mathcal{M},\eta^*\right>\vDash\varphi$ 

根据 $\varphi'''$ 定义， $\sigma\in\Gamma\subset\mathcal{L}_\mathcal{A}$ 可得 $\varphi''',(\lnot\sigma)$ 中不含 $D$ 中的[[MK108][常元符号]]。

另对 $\varphi'''$ 中定义的 $D$ 中的[[MK108][常元符号]] $c_{j_1},...,c_{j_q}$ 定义函数 $z(c_{j_i})=\begin{cases}\eta^*(x_i)&1\leq i\leq n\\\eta^*(x_{l+i})&i>n\end{cases}$

则定义 $I^*=\left(I-\{\left<c_{j_1},I(c_{j_1})\right>,...,\left<c_{j_q},I(c_{j_q})\right>\}\right)\cup\{\left<c_{j_1},z(c_{j_1})\right>,...,\left<c_{j_q},z(c_{j_q})\right>\}$

由于 $c_{j_1},...,c_{j_q}$ 不在 $T\cup\{\varphi''',(\lnot\sigma)\}$ 中，故定义 $\mathcal{M}^*=\left<M,I^*\right>$ 易证 $\left<\mathcal{M}^*,\eta^*\right>\vDash T\cup\{\varphi''',(\lnot\sigma)\}$

根据 $\eta^*(x_i)=z(c_{j_i})=I^*(c_{j_i})$ 由[[MK176][替换定理]] $\left<\mathcal{M}^*,\eta^*\right>\vDash(\lnot\sigma)(\left<x_1,...,x_n\right>,\left<c_{j_1},...,c_{j_n}\right>)$

根据 $\varphi'''$ 中 $c_{j_1},...,c_{j_q}$ 的排序有 $c_{j_i}=c_{m_i},1\leq i\leq n$

即有 $\left<\mathcal{M}^*,\eta^*\right>\vDash(\lnot\sigma)(\left<x_1,...,x_n\right>,\left<c_{m_1},...,c_{m_n}\right>)$

根据 $\varphi'''$ 定义可得其所有[[MK140][自由变元]]均在 $x_1,...,x_n,x_{l+p+1},...,x_{l+p+q-n}$ 中且均为[[MK141][自由出现]]

故根据[[MK145][替换]]以及 $\varphi''$ 定义可得 $\varphi'''(\left<x_1,...,x_n,x_{l+n+1},...,x_{l+q}\right>,\left<c_{j_1},...,c_{j_q}\right>)=\varphi''$

又根据 $\eta^*(x_i)=z(c_{j_i})=I^*(c_{j_i})$ 由[[MK176][替换定理]] $\left<\mathcal{M}^*,\eta^*\right>\vDash\varphi''$

显然 $\varphi'$ 与 $\varphi''$ 之间只改变了[[MK107][变元符号]]的编号，故有 $\left<\mathcal{M}^*,\eta^*\right>\vDash\varphi'$ 即 $\left<\mathcal{M}^*,\eta^*\right>\vDash(\varphi_1\land...\land\varphi_k)$  

根据[[MK170][逻辑与满足]]有 $\left<\mathcal{M}^*,\eta^*\right>\vDash\{\varphi_1,...,\varphi_k\}$

综上所述 $\left<\mathcal{M}^*,\eta^*\right>\vDash T\cup\{\varphi_1,...,\varphi_k\}\cup\{(\lnot\sigma)(\left<x_1,...,x_n\right>,\left<c_{m_1},...,c_{m_n}\right>)\}$

根据[[MK254][完备性]]有 $T\cup\{\varphi_1,...,\varphi_k\}\cup\{(\lnot\sigma)(\left<x_1,...,x_n\right>,\left<c_{m_1},...,c_{m_n}\right>)\}$ [[MK222][一致]]

******* $T_\infty$ [[MK222][一致]]

任取 $T_\infty$ 中的有限集 $\{\theta_1,...,\theta_m\}$ 根据 $T_\infty=\bigcup_{i\in\mathbb{N}}T_i$ 对于任意 $\theta_i$ 存在 $T_{j_i}$ 满足 $\theta_i\in T_{j_i}$

取 $j^*=\max(\{j_1,...,j_m\})$ 根据 $T_i\subset T_{i+1}$ 易证 $\{\theta_1,...,\theta_m\}\subset T_{j^*}$

又根据上一步可得 $T_{j^*}$ [[MK222][一致]]，即 $\{\theta_1,...,\theta_m\}$ [[MK222][一致]]

综上所述，对于任意 $T_\infty$ 中的有限集 $\{\theta_1,...,\theta_m\}$ 均[[MK222][一致]]，根据[[MK271][紧致性定理]]有 $T_\infty$ [[MK222][一致]]

******* $\mathcal{L}_{\mathcal{A}^*}$ [[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其可数[[MK282][子结构]] $\mathcal{N}=\left<N,I^*\right>$ <<MK347>>

由于 $T_\infty$ [[MK222][一致]]且显然 $T_\infty\subset\mathcal{L}_{\mathcal{A}^*}$ 故根据[[MK254][完备性]]可得

存在 $\mathcal{L}_{\mathcal{A}^*}$ [[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ [[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash T_\infty$ 定义 $N=\left\{I(c)\big|c\in D\right\}$ 显然 $N\subset M$ 且 $N$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]

根据如下定义 $I^*$ ，则根据[[MK282][定义]]可得 $\mathcal{N}=\left<N,I^*\right>$ 是 $\mathcal{M}=\left<M,I\right>$ 在 $\mathcal{L}_{\mathcal{A}^*}$ 下的[[MK282][子结构]]

******** [[MK108][常元符号]]

对于任意 $c\in\mathcal{A}^*$ ，若 $c\in D$ 则定义 $I^*(c)=I(c)\in N$

若 $c\not\in D$ 则显然 $(\exists x_i(c\hat{=}x_i))$ 是 $\mathcal{L}_{\mathcal{A}^*}$ 的[[MK144][语句]]，即有[[MK341][排序]] $\phi_k=(\exists x_i(c\hat{ =}x_i))$

显然对于任意 $\mathcal{L}_{\mathcal{A}^*}$ [[MK153][结构]] $\mathcal{M}'=\left<M',I'\right>$ 若[[MK154][赋值]] $v'$ 满足 $v'(x_i)=I(c)$ 则有 $\left<\mathcal{M}',v'\right>\vDash\phi_k$

则根据[[MK254][完备性]]以及 $T_k$ [[MK222][一致]]易证 $T_k\cup\{\phi_k\}$ [[MK222][一致]]，则根据 $T_\infty$ 的构建可得 $T_{k+1}$

满足 $\{\phi_k,(c\hat{=}x_i)(\left<x_i\right>,\left<c_q\right>)\}\subset T_{k+1}$ 其中 $c_q\in D$ ，即有 $(c\hat{ =}c_q)\in T_{k+1}\subset T_\infty$

则根据 $\left<\mathcal{M},v\right>\vDash T_\infty$ 故有 $\left<\mathcal{M},v\right>\vDash (c\hat{=}c_q)$ 即根据[[MK158][满足]]可得 $I(c)=I(c_q)$

由于 $c_q\in D$ 故有 $I^*(c)=I(c)=I(c_q)\in N$

综上所述，对于任意 $c\in\mathcal{A}^*$ 均有 $I^*(c)=I(c)\in N$

******** [[MK109][函数符号]]

对于任意 $f\in\mathcal{A}^*$ 任意 $\left<a_1,...,a_k\right>\in N^k$ 根据 $N$ 定义存在 $\left<c_{i_1},...,c_{i_k}\right>$

满足 $I(c_{i_j})=a_j$ 且 $\{c_{i_1},...,c_{i_k}\}\subset D$ ，显然 $(\exists x_i(f(c_{i_1},...,c_{i_k})\hat{=}x_i))$ 是 $\mathcal{L}_{\mathcal{A}^*}$ 的[[MK144][语句]]

即有[[MK341][排序]] $\phi_m=(\exists x_i(f(c_{i_1},...,c_{i_k})\hat{=}x_i))$

与上一步类似可证存在 $c_q\in D$ 满足 $(f(c_{i_1},...,c_{i_k})\hat{ =}c_q)\in T_\infty$

故有 $\left<\mathcal{M},v\right>\vDash (f(c_{i_1},...,c_{i_k})\hat{ =}c_q)$ 即根据[[MK158][满足]]可得 $I(f)(I(c_{i_1}),...,I(c_{i_k}))=I(c_q)$

即有 $I(f)(a_1,...,a_k)=I(c_q)\in N$ 故定义 $I^*(f)(a_1,...,a_k)=I(c_q)\in N$

综上所述，对于任意 $\left<a_1,...,a_k\right>\in N^k$ 均有 $I(f)(a_1,...,a_k)=I^*(f)(a_1,...,a_k)=I(c_q)\in N$

******** [[MK110][谓词符号]]

对于任意 $p\in\mathcal{L}_\mathcal{A}$ 有 $\pi_P(p)=m$ ，定义 $I^*(p)=I(p)\cap N^m$

******* $\mathcal{N}\vDash T_\infty$

对于任意[[MK144][语句]] $\theta\in\mathcal{L}_{\mathcal{A}^*}$ ，定义 $z(\theta)$ 为 $\theta$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数

根据下列证明， $z(\theta)<\infty$ 以及数学归纳法可证对于任意 $\theta\in\mathcal{L}_{\mathcal{A}^*}$ 有 $\mathcal{M}\vDash\theta$ 的充要条件是 $\mathcal{N}\vDash\theta$

又由于 $\left<\mathcal{M},v\right>\vDash T_\infty$ 且根据[[MK343][ $T_\infty$ 构建]]可得 $T_\infty$ 是[[MK144][语句]]集合，故有 $\mathcal{M}\vDash T_\infty$

则根据充要条件即可得 $\mathcal{N}\vDash T_\infty$

******** $z(\theta)=1$ 时

根据[[MK137][唯一可读性]]可得仅有可能为[[MK129][原始表达式]]，又由于 $\mathcal{N}$ 是 $\mathcal{M}$ 的[[MK282][子结构]]

根据[[MK234][特征定理]]以及[[MK169][推论]]有 $\mathcal{M}\vDash\theta$ 的充要条件是 $\mathcal{N}\vDash\theta$

******** 归纳假设

对于任意 $z(\theta)<n$ 均有 $\mathcal{M}\vDash\theta$ 的充要条件是 $\mathcal{N}\vDash\theta$ 

******** $z(\theta)=n$ 时

根据[[MK137][唯一可读性]]，有且仅有以下可能形式

********* $\theta=(\lnot\psi_1)$ <<MK348>>

由于 $\theta$ 是[[MK144][语句]]，显然 $\psi_1$ 亦是[[MK144][语句]]

根据[[MK158][满足]]可得 $\mathcal{M}\vDash\theta$ 的充要条件是 $\mathcal{M}\vDash\psi_1$ ，根据归纳假设 $\mathcal{M}\vDash\psi_1$ 的充要条件是 $\mathcal{N}\vDash\psi_1$

同理根据[[MK158][满足]] $\mathcal{N}\vDash\psi_1$ 的充要条件是 $\mathcal{N}\vDash\theta$ 

********* $\theta=(\psi_1\to\psi_2)$

由于 $\theta$ 是[[MK144][语句]]，显然 $\psi_1,\psi_2$ 亦是[[MK144][语句]]

根据[[MK158][满足]]可得 $\mathcal{M}\vDash\theta$ 的充要条件是 $\mathcal{M}\not\vDash\psi_1$ 或 $\mathcal{M}\vDash\psi_2$

根据归纳假设 $\mathcal{M}\not\vDash\psi_1$ 或 $\mathcal{M}\vDash\psi_2$ 的充要条件为 $\mathcal{N}\not\vDash\psi_1$ 或 $\mathcal{N}\vDash\psi_2$

同理根据[[MK158][满足]] $\mathcal{N}\not\vDash\psi_1$ 或 $\mathcal{N}\vDash\psi_2$ 的充要条件是 $\mathcal{N}\vDash\theta$ 

********* $\theta=(\forall x_i\psi_1)$

********** $\mathcal{M}\vDash(\exists x_i(\lnot\psi_1))$ 的充要条件是 $\mathcal{N}\vDash(\exists x_i(\lnot\psi_1))$ 

*********** 充分

若 $\mathcal{M}\vDash(\exists x_i(\lnot\psi_1))$ ，则由于 $\theta$ 是[[MK144][语句]]，故 $\theta$ 不含[[MK140][自由变元]]，故 $\psi_1$ 有且仅有 $x_i$ 是其[[MK140][自由变元]]

故 $(\exists x_i(\lnot\psi_1))$ 亦为 $\mathcal{L}_{\mathcal{A}^*}$ 的[[MK144][语句]]，根据[[MK341][排序]]可得存在 $T_m\subset T_\infty$ 满足：

（1） $(\exists x_i(\lnot\psi_1))\in T_m$

（2） $(\lnot\psi_1)(\left<x_i\right>,\left<c_q\right>)\in T_m$ 其中 $c_q\in D$

根据 $\mathcal{M}\vDash T_\infty$ 有 $\mathcal{M}\vDash(\lnot\psi_1)(\left<x_i\right>,\left<c_q\right>)$ 显然 $z((\lnot\psi_1)(\left<x_i\right>,\left<c_q\right>))=n$

根据[[MK348][之前证明]]有 $\mathcal{N}\vDash(\lnot\psi_1)(\left<x_i\right>,\left<c_q\right>)$

根据[[MK347][ $\mathcal{N}$ 定义]]以及 $c_q\in D$ 可得存在 $a\in N$ 满足 $I^*(c_q)=a$

则定义 $\mathcal{N}$ 的 [[MK154][赋值]] $v$ 满足 $v(x_i)=I^*(c_q)$ 即有 $\bar{v}(x_i)=\bar{v}(c_q)$

根据[[MK169][推论]]可得 $\left<\mathcal{N},v\right>\vDash(\lnot\psi_1)(\left<x_i\right>,\left<c_q\right>)$ 根据[[MK176][替换定理]]可得 $\left<\mathcal{N},v\right>\vDash(\lnot\psi_1)$

根据[[MK172][存在量词]]可得 $\mathcal{N}\vDash(\exists x_i(\lnot\psi_1))$ 

*********** 必要

若 $\mathcal{N}\vDash(\exists x_i(\lnot\psi_1))$ 则存在 $\mathcal{N}$ 的 [[MK154][赋值]] $v$ 满足 $\left<\mathcal{N},v\right>\vDash(\lnot\psi_1)$

根据[[MK347][ $\mathcal{N}$ 定义]]可得存在 $c_q\in D$ 满足 $I^*(c_q)=v(x_i)$ 根据[[MK176][替换定理]]可得 $\left<\mathcal{N},v\right>\vDash(\lnot\psi_1)(\left<x_i\right>,\left<c_q\right>)$

根据[[MK169][推论]] $\mathcal{N}\vDash(\lnot\psi_1)(\left<x_i\right>,\left<c_q\right>)$ 显然 $z((\lnot\psi_1)(\left<x_i\right>,\left<c_q\right>))=n$

根据[[MK348][之前证明]] $\mathcal{M}\vDash(\lnot\psi_1)(\left<x_i\right>,\left<c_q\right>)$ ，则定义 $\mathcal{M}$ 的[[MK154][赋值]] $\mu$ 满足 $\mu(x_i)=I(c_q)$ 

根据[[MK176][替换定理]]可得 $\left<\mathcal{M},\mu\right>\vDash(\lnot\psi_1)$ ，即根据[[MK172][存在量词]]以及[[MK169][推论]]易证 $\mathcal{M}\vDash(\exists x_i(\lnot\psi_1))$ 

********** 证明结论

根据[[MK172][存在量词]] $\mathcal{M}\vDash\theta$ 的充要条件是 $\mathcal{M}\vDash(\lnot(\exists x_i(\lnot\psi_1)))$ 根据[[MK158][满足]]可得其充要条条件 $\mathcal{M}\not\vDash(\exists x_i(\lnot\psi_1))$

根据上一步证明可得 $\mathcal{M}\not\vDash(\exists x_i(\lnot\psi_1))$ 的充要条件是 $\mathcal{N}\not\vDash(\exists x_i(\lnot\psi_1))$

根据[[MK158][满足]]可得 $\mathcal{N}\not\vDash(\exists x_i(\lnot\psi_1))$ 的充要条件是 $\mathcal{N}\vDash(\lnot(\exists x_i(\lnot\psi_1)))$

根据[[MK172][存在量词]] $\mathcal{N}\vDash(\lnot(\exists x_i(\lnot\psi_1)))$ 的充要条件是 $\mathcal{N}\vDash\theta$ 

******* $\mathcal{L}_{\mathcal{A}^*}$ 下 $\mathcal{N}$ [[MK326][排斥]] $\Gamma$
 
根据[[MK343][ $T_\infty$ 构建]]可得 $T\subset T_\infty$ ，又根据 $\mathcal{N}\vDash T_\infty$ 可得 $\mathcal{N}\vDash T$ 即 $\mathcal{N}$ 是 $T$ 的[[MK221][可数模型]]

对于任意一组 $\left<a_1,...,a_n\right>\in N^n$ 根据[[MK347][ $\mathcal{N}$ 定义]]可得存在 $\left<c_{k_1},...,c_{k_n}\right>$ 满足 $I(c_{k_i})=a_i$

根据[[MK342][排序]]可得存在一组 $\left<c_{m_1},...,c_{m_n}\right>$ 满足 $m_i=k_i$ 即有 $I^*(c_{m_i})=a_i$

则根据[[MK343][ $T_\infty$ 构建]]存在 $T_{m+1}$ 满足有 $\sigma\in\Gamma$ 满足 $(\lnot\sigma)(\left<x_1,...,x_n\right>,\left<c_{m_1},...,c_{m_n}\right>)\in T_{m+1}$

又由于 $T_{m+1}\subset T_\infty$ 即有 $(\lnot\sigma)(\left<x_1,...,x_n\right>,\left<c_{m_1},...,c_{m_n}\right>)\in T_\infty$

根据 $\mathcal{N}\vDash T_\infty$ 有 $\mathcal{N}\vDash(\lnot\sigma)(\left<x_1,...,x_n\right>,\left<c_{m_1},...,c_{m_n}\right>)$

则对于任意 $\mathcal{N}$ 的[[MK154][赋值]] $v$ 满足 $v(x_i)=a_i=I^*(c_{m_i})$ 根据[[MK176][替换定理]] $\left<\mathcal{N},v\right>\vDash(\lnot\sigma)$

即根据[[MK158][满足]]有 $\mathcal{N}\vDash(\lnot\sigma)[a_1,...,a_n]$

综上所述，对于任意 $\left<a_1,...,a_n\right>\in N^n$ 均存在 $\sigma\in\Gamma$ 满足 $\mathcal{N}\vDash(\lnot\sigma)[a_1,...,a_n]$

******* 证明结论

显然 $\mathcal{L}_\mathcal{A}$ 是 $\mathcal{L}_{\mathcal{A}^*}$ 的[[MK152][裁剪语言]]，则根据[[MK299][定理2]]可得存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{N}'=\left<N,I'\right>$ 是 $\mathcal{N}$ 的[[MK295][裁剪结构]]

对于任意 $\left<a_1,...,a_n\right>\in N^n$ 根据上一步证明均存在 $\sigma\in\Gamma$ 满足 $\mathcal{N}\vDash(\lnot\sigma)[a_1,...,a_n]$

显然 $(\lnot\sigma)\in\mathcal{L}_\mathcal{A}$ ，则根据[[MK296][定理1]]以及[[MK169][推论]]易证 $\mathcal{N}'\vDash(\lnot\sigma)[a_1,...,a_n]$ ，同理可证 $\mathcal{N}'\vDash T$

即在 $\mathcal{L}_{\mathcal{A}}$ 下有 $\mathcal{T}$ 的[[MK221][可数模型]] $\mathcal{N}'$ [[MK326][排斥]] $\Gamma$

****** 未在 $\mathcal{A}$ 中的[[MK108][常元符号]]为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个<<MK349>>

******* 语言转换

根据[[MK248][常元省略]]可得存在[[~/文档/note/离散数学/lssx.org::MK181][双射]] $\rho:\mathcal{L}_\mathcal{A}\to\mathcal{L}_{\mathcal{A}'}$ 对应[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}'}$

及其下对应[[MK144][语句]]集合 $T'=\left\{\rho(\theta)\big|\theta\in T\right\}$ 及 $\Gamma' =\left\{\rho(\sigma)\big|\sigma\in\Gamma\right\}$ 且由于 $T$ [[MK222][一致]]则 $T'$ [[MK222][一致]]

根据[[MK252][之前证明]]可得对于任意 $\mathcal{L}_{\mathcal{A}'}$ 下的[[MK153][结构]] $\mathcal{M}'= \left<M,I'\right>$ 存在 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$

满足对于任意 $\mathcal{M}'$ 的[[MK154][赋值]] $v$ ，对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 有 $\left<\mathcal{M}',v\right>\vDash\rho(\phi)$ 的充要条件为 $\left<\mathcal{M},v\right>\vDash\phi$

同理可证对于任意 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 存在 $\mathcal{L}_{\mathcal{A}'}$ 下的[[MK153][结构]] $\mathcal{M}'= \left<M,I'\right>$

满足对于任意 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 满足充要条件

定义 $\mathcal{T}'=\left<\mathcal{L}_{\mathcal{A}'},\mathbb{L}_{\mathcal{A}'},T',T'^*\right>$ 显然 $T\subset\Gamma$ 有 $T'\subset\Gamma'$

******* $\mathcal{T}'$ [[MK325][局部排斥]] $\Gamma'$

对于任意 $\phi'(x_1,...,x_n)\in\mathcal{L}_{\mathcal{A}'}$ 满足 $T'\cup\{\phi'\}$ [[MK222][一致]]，根据[[MK254][完备性]]有 $\mathcal{L}_{\mathcal{A}'}$ 下的[[MK153][结构]] $\mathcal{M}'$ 及其[[MK154][赋值]] $v$ 

满足 $\left<\mathcal{M}',v\right>\vDash T'\cup\{\phi'\}$ 根据[[MK248][常元省略]] $T\cup\{\rho^{-1}(\phi')\}$ 亦[[MK189][可满足]]，根据[[MK254][完备性]]可得 $T\cup\{\rho^{-1}(\phi)\}$ [[MK222][一致]]

则存在 $\sigma\in\Gamma$ 满足 $T\cup\left\{(\exists x_1(...(\exists x_n(\rho^{-1}(\phi')\land(\lnot\sigma)))))\right\}$ [[MK222][一致]]

根据[[MK254][完备性]] $\mathcal{L}_{\mathcal{A}}$ 下的[[MK153][结构]] $\mathcal{N}$ 及其[[MK154][赋值]] $u$ 满足 $\left<\mathcal{N},u\right>\vDash T\cup\left\{(\exists x_1(...(\exists x_n(\rho^{-1}(\phi')\land(\lnot\sigma)))))\right\}$ 

则有 $\mathcal{L}_{\mathcal{A}'}$ 下的[[MK153][结构]] $\mathcal{N}'$ 满足 $\left<\mathcal{N}',u\right>\vDash T\cup\left\{\rho\left((\exists x_1(...(\exists x_n(\rho^{-1}(\phi)\land(\lnot\sigma)))))\right)\right\}$

显然 $\rho\left((\exists x_1(...(\exists x_n(\rho^{-1}(\phi)\land(\lnot\sigma)))))\right)=(\exists x_1(...(\exists x_n(\phi'\land(\lnot\rho(\sigma))))))$ 显然 $\rho(\sigma)\in\Gamma'$

根据[[MK254][完备性]] $T\cup\left\{(\exists x_1(...(\exists x_n(\phi'\land(\lnot\rho(\sigma))))))\right\}$ [[MK222][一致]]

综上所述，对于任意 $\phi'(x_1,...,x_n)\in\mathcal{L}_{\mathcal{A}'}$ 存在 $\sigma'\in\Gamma'$ 满足 $T\cup\left\{(\exists x_1(...(\exists x_n(\phi'\land(\lnot\sigma')))))\right\}$ [[MK222][一致]]

即 $\mathcal{T}'$ [[MK325][局部排斥]] $\Gamma'$ 

******* 证明结论

显然不在 $\mathcal{A}'$ 中的[[MK108][常元符号]]为[[~/文档/note/离散数学/lssx.org::MK83][无限]]个

根据上一步证明可得存在 $\mathcal{L}_{\mathcal{A}'}$ 下的[[MK153][结构]] $\mathcal{T}'$ 的[[MK221][可数模型]] $\mathcal{N}'=\left<N,I'\right>$ [[MK326][排斥]] $\Gamma'$

即对于任意 $\left<a_1,...,a_n\right>\in N^n$ 均存在 $\sigma'\in\Gamma$ 满足 $\mathcal{N}'\not\vDash\sigma'[a_1,...,a_n]$ 

即有 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]] $\mathcal{N}=\left<N,I\right>$ ，对于任意 $\left<a_1,...,a_n\right>\in N^n$ 亦有 $\mathcal{N}\not\vDash\rho^{-1}(\sigma'[a_1,...,a_n])$

根据[[MK248][常元省略]] $\rho$ [[~/文档/note/离散数学/lssx.org::MK181][双射]]，则易证 $\rho^{-1}(\sigma')\in\Gamma$

又由于 $\mathcal{N}'$ 是 $\mathcal{L}_{\mathcal{A}'}$ 下 $\mathcal{T}'$ 的[[MK221][模型]]，则有 $\mathcal{N}'\vDash T'$ 即有 $\mathcal{N}\vDash T$ 故 $\mathcal{N}$ 是 $\mathcal{L}_{\mathcal{A}}$ 下 $\mathcal{T}$ 的[[MK221][模型]]

由于 $N$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]故 $\mathcal{N}$ 亦为[[MK221][可数模型]]

综上所述，存在 $\mathcal{L}_{\mathcal{A}}$ 下 $\mathcal{T}$ 的[[MK221][可数模型]] $\mathcal{N}$ 满足对于任意 $\left<a_1,...,a_n\right>\in N^n$ 均存在 $\sigma\in\Gamma$  

满足 $\mathcal{N}\not\vDash\sigma[a_1,...,a_n]$ 即 $\mathcal{L}_{\mathcal{A}}$ 下有 $\mathcal{T}$ 的[[MK221][可数模型]] $\mathcal{N}$ [[MK326][排斥]] $\Gamma$

***** 推论1

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]，若有 $\mathcal{L}_\mathcal{A}$ 的[[MK322][类型]] $\Gamma(x_1,...,x_n)\supset T$ 且不是[[MK329][根本型]]

则 $\mathcal{T}$ 一定有两个不[[MK274][同构]]的[[MK221][模型]]

****** 证明

根据[[MK322][定义]]可得 $\Gamma$ [[MK222][一致]]，故根据[[MK254][完备性]]可得存在 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]] $\mathcal{M}'= \left<M',I'\right>$ 及其[[MK154][赋值]] $v'$ 满足 $\left<\mathcal{M}',v'\right>\vDash\Gamma$

显然 $\mathcal{M}'\vDash T$ 即 $\mathcal{M}'$ 是 $\mathcal{T}$ 的[[MK221][模型]]。假设 $\mathcal{M}'$ 与 $\mathcal{M}$ [[MK274][同构]]，存在[[MK274][同构映射]] $e$ 

则根据[[MK276][定理]]可得 $\left<\mathcal{M}',v'\right>\vDash\Gamma$ 的充要条件为 $\left<\mathcal{M}',v'\cdot e\right>\vDash\Gamma$ 

由于 $\mathcal{T}$ 是[[MK264][完全的]]且 $\Gamma$ 不是[[MK329][根本型]]，故根据[[MK331][局部排斥引理]]可得 $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma$

又根据 $T\subset\Gamma$ 由[[MK338][型排斥定理]]得存在 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]] $\mathcal{M}$ 满足 $\left<\mathcal{M},v'\cdot e\right>\not\vDash\Gamma$

故矛盾，假设不成立， $\mathcal{M}'$ 与 $\mathcal{M}$ 不[[MK274][同构]]

***** 推论2

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]， $\mathcal{L}_\mathcal{A}$ [[MK322][关于 $x_1,...,x_n$ 的表达式]]集合 $\Gamma(x_1,...,x_n)\supset T$ 

则存在 $\mathcal{T}$ 的[[MK221][模型]]有[[MK326][排斥]] $\Gamma$ 的充要条件是 $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma$

****** 证明

******* 充分

若存在 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}=\left<M,I\right>$ [[MK326][排斥]] $\Gamma$ ，假设 $\mathcal{T}$ 非[[MK325][局部排斥]] $\Gamma$ 则存在 $\phi(x_1,...,x_n)\in\mathal{L}_\mathcal{A}$

满足 $T\cup\{\phi\}$ [[MK222][一致]]且对于任意 $\sigma\in\Gamma$ 均有 $T\cup\left\{(\exists x_1(...(\exists x_n(\phi\land(\lnot\sigma)))))\right\}$ 不[[MK222][一致]]

则根据以下证明可退出矛盾，故假设不成立，即 $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma$ 

******** 任意 $\sigma\in\Gamma$ 均有 $\mathcal{M}\vDash(\forall x_1(...(\forall x_n((\lnot\phi)\lor\sigma))...))$

根据[[MK254][完备性]]可得存在 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]] $\mathcal{M}'$ 及其[[MK154][赋值]] $v'$ 满足 $\left<\mathcal{M}',v'\right>\vDash T,\left<\mathcal{M}',v'\right>\not\vDash(\exists x_1(...(\exists x_n(\phi\land(\lnot\sigma)))))$

根据[[MK158][满足]] $\left<\mathcal{M}',v'\right>\vDash(\lnot(\exists x_1(...(\exists x_n(\phi\land(\lnot\sigma))))))$ 根据[[MK254][完备性]] $T\cup\left\{(\lnot(\exists x_1(...(\exists x_n(\phi\land(\lnot\sigma)))))\right)\}$ [[MK222][一致]]

故根据[[MK270][引理6]] $T\vdash(\lnot(\exists x_1(...(\exists x_n(\phi\land(\lnot\sigma)))))$ 根据[[MK207][引理1]] $T\vdash(\forall x_1(...(\forall x_n(\lnot(\phi\land(\lnot\sigma))))...))$

根据[[MK186][德摩根律]]与[[MK219][替换定理]]可得 $T\vdash(\forall x_1(...(\forall x_n((\lnot\phi)\lor\sigma))...))$ 由于 $\mathcal{T}$ 是[[MK264][完全的]]

故根据[[MK270][引理6]]有 $T\vdash(\exists x_1(...(\exists x_n\phi)...))$ 根据[[MK268][推论]]可得 $\mathcal{M}\vDash(\forall x_1(...(\forall x_n((\lnot\phi)\lor\sigma))...))$

综上所述，对于任意 $\sigma\in\Gamma$ 根据[[MK158][满足]]易证对于任意 $\left<a_1,...,a_n\right>\in M^n$

均有 $\mathcal{M}\vDash(\lnot\phi)[a_1,...,a_n]$ 或 $\mathcal{M}\vDash\sigma[a_1,...,a_n]$

******** 推出矛盾

由于 $T\cup\{\phi\}$ [[MK222][一致]]，根据[[MK254][完备性]]可得存在 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]] $\mathcal{M}'$ 及其[[MK154][赋值]] $v'$ 满足 $\left<\mathcal{M}',v'\right>\vDash T,\left<\mathcal{M}',v'\right>\vDash\phi$ 

易证 $\left<\mathcal{M}',v'\right>\vDash(\exists x_1(...(\exists x_n\phi)...))$ 即有 $\left<\mathcal{M}',v'\right>\vDash T\cup\{(\exists x_1(...(\exists x_n\phi)...))\}$

根据[[MK254][完备性]] $T\cup\{(\exists x_1(...(\exists x_n\phi)...))\}$ [[MK222][一致]]，显然 $(\exists x_1(...(\exists x_n\phi)...))$ 是[[MK144][语句]]

由于 $\mathcal{T}$ 是[[MK264][完全的]]，故根据[[MK270][引理6]]有 $T\vdash(\exists x_1(...(\exists x_n\phi)...))$ 根据[[MK268][推论]]可得 $\mathcal{M}\vDash(\exists x_1(...(\exists x_n\phi)...))$

根据[[MK172][存在量词]]可得存在 $\left<a_1,...,a_n\right>\in M^n$ 满足 $\mathcal{M}\vDash\phi[a_1,...,a_n]$ 即 $\mathcal{M}\not\vDash(\lnot\phi)[a_1,...,a_n]$ 

根据上一步证明必有对于任意 $\sigma\in\Gamma$ 必有 $\mathcal{M}\vDash\sigma[a_1,...,a_n]$ ，又根据[[MK326][排斥]]可得 $\mathcal{M}\not\vDash\Gamma[a_1,...,a_n]$

显然矛盾

******* 必要

若 $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma$ ，则根据[[MK256][排斥定理]]可得有 $\mathcal{T}$ 的[[MK221][可数模型]]，该模型[[MK326][排斥]] $\Gamma$

**** 多重型排斥定理<<MK374>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ [[MK222][一致]]，有[[~/文档/note/离散数学/lssx.org::MK93][至多可数]]个 $\mathcal{L}_\mathcal{A}$ [[MK322][关于 $x_1,...,x_{n_k}$ 的表达式]]集合 $\Gamma_k(x_1,...,x_{n_k})$

满足对于任意 $k\in\mathbb{N}$ 均有：

（1） $T\subset\Gamma_k$

（2） $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma_k$

则必有 $\mathcal{T}$ 的[[MK221][可数模型]]，该模型[[MK326][排斥]]所有 $\Gamma_k$

***** 证明

****** 未在 $\mathcal{A}$ 中的[[MK108][常元符号]]为[[~/文档/note/离散数学/lssx.org::MK83][无限]]个<<MK350>>

定义未出现在 $\mathcal{A}$ 中的[[MK108][常元符号]]集体为 $D$ ，定义 $\mathcal{A}^*=\mathcal{A}\cup D$ 则显然 $T\subset\mathcal{L}_{\mathcal{A}^*}$

******* 构建排序

同[[MK340][之前证明]]构建 $\mathcal{L}_{\mathcal{A}^*}$ [[MK108][常元符号]]排序 $D=\left\{c_i\big|i\in\mathbb{N}\right\}$

同[[MK341][之前证明]]构建 $\mathcal{L}_{\mathcal{A}^*}$ [[MK144][语句]]排序 $\left\{\theta_i\big|i\in\mathbb{N}\right\}$

[[MK342][同理]]可对所有 $\Gamma_k$ 构建 $n_k$ [[~/文档/note/离散数学/lssx.org::MK105][有序组]]排序 $D^{n_k}=\left\{\left<c_{i_1,k}},...,c_{i_{n_k},k}\right>\big|i\in\mathbb{N}\right\}$

******* 构建 $T_\infty$ 

定义 $T_1=T$ 则根据以下证明以及数学归纳法可得对于任意 $T_m$ 均有：

（1） $T_m$ [[MK129][一致]]

（2） 要么 $\theta_{m-1}\in T_m$ ，要么 $(\lnot\theta_{m-1})\in T_m$

（3） 若 $\theta_{m-1}=(\exists x_i\psi)$ 且 $\theta_{m-1}\in T_m$ 则有 $\psi(\left<x_i\right>,\left<c_q\right>)\in T_m$

     其中 $c_{q_{n-1}}$ 为 $D$ 中不在 $T_{m-1}$ 和 $\phi_{m-1}$ 以及 $\left<c_{m_1},...,c_{m_n}\right>$ 中出现 $D$ 中[[MK340][排序]]最小的元素

（4） 存在 $\sigma_1\in\Gamma_1,...,\sigma_{m-1}\in\Gamma_{m-1}$

     满足 $\begin{aligned}\bigg\{&(\lnot\sigma_1)\left(\left<x_1,...,x_{n_1}\right>,\left<c_{(m-1)_1,1},...,c_{(m-1)_{n_1},1}\right>\right),\\&...\\,&(\lnot\sigma_j)\left(\left<x_1,...,x_{n_j}\right>,\left<c_{(m-j)_1,j},...,c_{(m-j)_{n_j},j}\right>\right),\\&...,\\&(\lnot\sigma_{m-1})\left(\left<x_1,...,x_{n_{m-1}}\right>,\left<c_{1_1,{m-1}},...,c_{1_{n_{m-1}},m-1}\right>\right)\bigg\}\in T_m\end{aligned}$

（5） $|T_m-T|<\infty$ 且 $T_m$ 是[[MK144][语句]]集合

（6） $T_m\subset T_{m+1}$

显然 $T_0$ [[MK129][一致]]，则根据以下构造规则及数学归纳法可得对于任意 $m>0$ 均有 $T_m$ 满足上述条件

即定义 $T_\infty=\bigcup_{i\in\mathbb{N}}T_i$

******** 递归假设

有 $T_m$ 满足上述六条性质

******** 构建 $T_{m+1}$

根据[[MK344][步骤一]]与[[MK345][步骤二]]可构建满足条件（1）（2）（3）（5）（6）的 $T^0_{m+1}$

根据[[MK346][步骤三]]可得存在 $\phi_1=(\lnot\sigma_1)\left(\left<x_1,...,x_{n_1}\right>,\left<c_{(m-1)_1,1},...,c_{(m-1)_{n_1},1}\right>\right)\in\Gamma_1$

使得 $T^1_{m+1}=T^0_{m+1}\cup\left\{\phi_1\right\}$ 满足条件（1）（2）（3）（5）（6）以及（4）的 $\Gamma_1$ 部分

由于 $m<\infty$ 故以此类推，可得 $T^{m-1}_{m+1}=T^{m-2}_{m+1}\cup\left\{\phi_{m-1}\right\}=T^0_{m-1}\cup\{\phi_1,...,\phi_{m-1}\}$ 显然满足（5）

即满足（1）（2）（3）（5）（6）以及（4），故定义 $T_{m+1}=T^{m-1}_{m+1}$

******* $\mathcal{L}_{\mathcal{A}^*}$ 下 $\mathcal{N}$ [[MK326][排斥]]所有 $\Gamma_k$

根据[[MK339][之前证明]]中第四步，第五步同理可证存在 $\mathcal{L}_{\mathcal{A}^*}$ 的可数[[MK153][结构]] $\mathcal{N}=\left<N,I^*\right>$ 满足 $\mathcal{N}\vDash T_\infty$

对于任意 $\Gamma_k$ 以及任意一组 $\left<a_1,...,a_{n_k}\right>\in N^{n_k}$ 根据[[MK347][ $\mathcal{N}$ 定义]]可得存在 $\left<c_{i_1,k}},...,c_{i_{n_k},k}\right>\in D^{n_k}$

满足 $I(c_{i_j,k})=a_j$ 则根据 $T_\infty$ 构建可得存在 $T_{k+i}$ 满足有 $\sigma_k\in\Gamma_k$

使得 $(\lnot\sigma_k)\left(\left<x_1,...,x_{n_k}\right>,\left<c_{(k+i-k)_1,k},...,c_{(k+i-k)_{n_k},k}\right>\right)\in T_{k+i}\subset T_\infty$

则对于任意 $\mathcal{N}$ 的[[MK154][赋值]] $v$ 满足 $v(x_j)=a_j=I^*(c_{i_j,k})$ 根据[[MK176][替换定理]] $\left<\mathcal{N},v\right>\vDash(\lnot\sigma_k)$

即根据[[MK158][满足]]有 $\mathcal{N}\vDash(\lnot\sigma_k)[a_1,...,a_n]$

综上所述，对于任意 $\Gamma_k$ 任意一组 $\left<a_1,...,a_n\right>\in N^{n_k}$ 均存在 $\sigma_k\in\Gamma_k$ 满足 $\mathcal{N}\vDash(\lnot\sigma_k)[a_1,...,a_n]$

******* 证明结论

根据[[MK339][之前证明]]中第六步可得有 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{N}'=\left<N,I'\right>$ 是 $\mathcal{N}$ 的[[MK295][裁剪结构]]

根据[[MK296][定理1]]以及[[MK169][推论]]易证对于任意 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 有 $\mathcal{N}'\vDash\phi[a_1,...,a_n]$ 的充要条件是 $\mathcal{N}\vDash\phi[a_1,...,a_n]$

对于任意 $\Gamma_k$ 以及任意 $\left<a_1,...,a_{n_k}\right>\in N^{n_k}$ 根据上一步证明可得存在 $\sigma_k\in\Gamma_k$ 满足 $\mathcal{N}\vDash(\lnot\sigma_k)[a_1,...,a_n]$

则有 $\mathcal{N}'\vDash(\lnot\sigma_k)[a_1,...,a_n]$ 根据[[MK158][满足]]即 $\mathcal{N}'\not\vDash\sigma_k[a_1,...,a_n]$ ，又根据 $\mathcal{N}\vDash T$ 同理可得 $\mathcal{N}'\vDash T$ 

故 $\mathcal{N}'$ 是 $T$ 的[[MK221][可数模型]]，且[[MK326][排斥]]所有 $\Gamma_k$

****** 未在 $\mathcal{A}$ 中的[[MK108][常元符号]]为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个

根据[[MK350][上一步]]证明[[MK349][同理可证]] $\mathcal{A}$ 中的[[MK108][常元符号]]为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个时亦有 $\mathcal{T}$ 的[[MK221][可数模型]]来[[MK326][排斥]]所有 $\Gamma_k$

**** 根本型定理<<MK440>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]，对于任意 $n\in\mathbb{N}$ 有以下命题等价

（1） 仅有[[~/文档/note/离散数学/lssx.org::MK82][有限]]个包含 $T$ 的[[MK322][类型]] $\Gamma(x_1,...,x_n)\supset T$

（2） 任意一个包含 $T$ 的[[MK322][类型]] $\Gamma(x_1,...,x_n)\supset T$ 都是 $\mathcal{T}$ 的[[MK329][根本型]]

***** 证明

****** （2）证（1）

******* 定义假设<<MK351>>

假设若存在[[~/文档/note/离散数学/lssx.org::MK83][无限]]个包含 $T$ 的[[MK329][根本型]]，定义其集合 $G=\left\{\Gamma_i(x_1,...,x_n)\big|i\in\mathbb{I}\right\}$

即对任意 $\Gamma_i$ 存在 $\phi_i\in\Gamma_i$ 满足 $\Gamma_i=\left\{\psi(x_1,...,x_n)\big|((\psi\in\mathcal{L}_\mathcal{A})\to(T\vdash(\phi_i\to\psi)))\right\}$

显然有 $\phi_i\in\Gamma_i$ 。

******* 任意 $j\ne i$ 有 $(\lnot\phi_i)\in\Gamma_j$

对于任意 $j\ne i$ 假设 $\phi_i\in\Gamma_j$ 则根据定义有 $T\vdash(\phi_j\to\phi_i)$

则对于任意 $\psi\in\Gamma_i$ 根据[[MK209][传递引理]]均有 $T\vdash(\phi_j\to\psi)$ 即根据定义有 $\psi\in\Gamma_j$

则有 $\Gamma_i\subset\Gamma_j$ 又根据[[MK322][类型]]定义 $\Gamma_i,\Gamma_j$ 均为极大且[[MK222][一致]]，故对于任意 $\psi\in\Gamma_j$ 可得 $\Gamma_i\cup\{\psi\}$ [[MK222][一致]]

则有 $\Gamma_j\subset\Gamma_i$ 。综上所述，根据[[~/文档/note/离散数学/lssx.org::MK16][自反性]]有 $\Gamma_i=\Gamma_j$ 显然与 $\Gamma_i,\Gamma_j$ 不同矛盾

故假设不成立，即 $\phi_i\not\in\Gamma_j$ ，根据 $\Gamma_j$ 极大且[[MK222][一致]]可得 $\Gamma_j\cup\{\phi_i\}$ 不[[MK222][一致]]

根据[[MK261][推论]]有 $\Gamma_j\cup\{(\lnot\phi_i)\}$ [[MK222][一致]]，则又根据 $\Gamma_j$ 极大且[[MK222][一致]]有 $(\lnot\phi_i)\in\Gamma_j$

******* 构建新[[MK322][类型]] $\Gamma^*$ <<MK352>>

定义 $\Gamma=T\cup\left\{(\lnot\phi_i)\big|i\in\mathbb{I}\right\}$ 任取 $S\subset\Gamma$ 为[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，定义 $S-T=\{(\lnot\phi_{i_1}),...,(\lnot\phi_{i_k})\}$

由于 $\mathbb{I}$ [[~/文档/note/离散数学/lssx.org::MK83][无限]]，则必然存在 $i\in\mathbb{I}$ 使得 $i\not\in\{i_1,...,i_k\}$

则对于任意 $i_j$ 有 $i_j\ne i$ ，根据上一步证明有 $(\lnot\phi_{i_j})\in\Gamma_i$ 进而有 $\{(\lnot\phi_{i_1}),...,(\lnot\phi_{i_k})\}\subset\Gamma_i$

显然又有 $T\subset\Gamma_i$ 故可得 $S\subset\Gamma_i$ ，又根据 $\Gamma_i$ [[MK222][一致]]可得 $S$ [[MK222][一致]]

即对于任意 $S\subset\Gamma$ 为[[~/文档/note/离散数学/lssx.org::MK82][有限集]]均有 $S$ [[MK222][一致]]，则根据[[MK271][紧致性]]可得 $\Gamma$ [[MK222][一致]]

定义 $\Gamma^*$ 为包含 $\Gamma$ 的[[MK322][类型]]

******* 证明结论

根据[[MK351][假设]] $\Gamma^*\in G$ 是[[MK329][根本型]]，即存在 $\phi\in\Gamma^*$ 满足 $\Gamma^*=\left\{\psi(x_1,...,x_n)\big|((\psi\in\mathcal{L}_\mathcal{A})\to(T\vdash(\phi\to\psi)))\right\}$

显然根据[[MK352][ $\Gamma^*$ 构建]]可得 $(\lnot\phi)\in\Gamma^*$ 显然 $\Gamma^*$ 不[[MK222][一致]]，矛盾

故假设不成立，即 $\Gamma^*$ 不是[[MK329][根本型]]，即若[[MK351][假设]]成立，则存在不是[[MK329][根本型]]的包含 $T$ 的[[MK322][类型]]

与条件（2）矛盾，故假设不成立，即仅有[[~/文档/note/离散数学/lssx.org::MK82][有限]]个包含 $T$ 的[[MK322][类型]] $\Gamma(x_1,...,x_n)\supset T$

****** （1）证（2）

设 $\Gamma_1,...,\Gamma_m$ 是 $T$ 的所有[[MK322][类型]]，则 $\Gamma_i,\Gamma_j$ 极大且[[MK222][一致]]

假设 $\Gamma_i-\Gamma_j=\varnothing$ 即 $\Gamma_i\subset\Gamma_j$ 由于 $\Gamma_i\ne\Gamma_j$ 故易证 $\Gamma_j-\Gamma_i\ne\varnothing$

又由于 $\Gamma_i\cup(\Gamma_j-\Gamma_i)=\Gamma_j$ [[MK222][一致]]，故与 $\Gamma_i$ 极大矛盾，假设不成立，即 $\Gamma_i-\Gamma_j\ne\varnothing$

定义 $\phi_i^j=\begin{cases}\phi\in\Gamma_i-\Gamma_j&i\ne j\\(x_1\hat{=}x_1)&i=j\end{cases}$ 以及 $\phi_i=(\phi_i^1\land...\land\phi_i^m)$ 根据[[MK197][恒等律]]有 $\vdash(x_1\hat{ =}x_1)$

且对于任意 $i\ne j$ 均有 $\phi_i^j\in\Gamma_i,\phi_{i}^j\not\in\Gamma_j$ 故根据[[MK201][逻辑与]]可得 $\Gamma_i\vdash\phi_i$ 根据[[MK229][定理4]]及极大性有 $\phi_i\in\Gamma_i$

由于 $\Gamma_j$ 极大且[[MK222][一致]]，故 $\Gamma_j\cup\{\phi_i^j\}$ 不[[MK222][一致]]，根据[[MK213][归谬定理]]可得 $\Gamma_j\vdash(\lnot\phi_i^j)$

根据[[MK202][逻辑或]]易证 $\Gamma_j\vdash((\lnot\phi_i^1)\lor...\lor(\lnot\phi_i^m))$ ，根据[[MK186][德摩根律]]以及[[MK219][替换定理]]易证 $\Gamma_j\vdash(\lnot(\phi_i^1\land...\land\phi_i^n))=(\lnot\phi_i)$

又根据[[MK228][定理3]]可得 $\Gamma_j\not\vdash\phi_i$ 显然 $\phi_i\not\in\Gamma_j$ 

假设 $\Gamma_i\ne\left\{\psi(x_1,...,x_k)\big|T\vdash(\phi_i\to\psi)\right\}$ 易证 $\Gamma_i\not\subset\left\{\psi(x_1,...,x_k)\big|T\vdash(\phi_i\to\psi)\right\}$

否则与极大性矛盾。则必存在 $\psi$ 满足 $\psi\in\Gamma_i$ 且 $\psi\not\in\left\{\psi(x_1,...,x_k)\big|T\vdash(\phi_i\to\psi)\right\}$ 即 $T\not\vdash(\phi_i\to\psi)$

根据 $\mathcal{T}$ 是[[MK264][完全的]]以及[[MK266][引理1]]可得 $T\vdash(\lnot(\phi_i\to\psi))$ 则根据[[MK229][定理4]]可得 $T\cup\{(\lnot(\phi_i\to\psi))\}$ [[MK222][一致]]

显然可有 $T$ 的[[MK322][类型]] $\Gamma$ 满足 $T\cup\{(\lnot(\phi_i\to\psi))\}\subset\Gamma$

又根据[[MK198][推论（9）（10）]]可得 $T\cup\{(\lnot(\phi_i\to\psi))\}\vdash(\lnot\psi),T\cup\{(\lnot(\phi_i\to\psi))\}\vdash\phi_i$

同理根据[[MK229][定理4]]可得 $T\cup\{(\lnot(\phi_i\to\psi),\phi_i,(\lnot\psi))\}$ [[MK222][一致]]，根据极大性可得 $\phi_i\in\Gamma,(\lnot\psi)\in\Gamma$

由于 $\Gamma_1,...,\Gamma_m$ 是 $T$ 的所有[[MK322][类型]]，且 $\phi_i\not\in\Gamma_j,j\ne i$ 故可得 $\Gamma=\Gamma_i$

故根据 $\psi\in\Gamma_i$ 以及 $(\lnot\psi)\in\Gamma_i$ 可得显然 $\Gamma_i$ 不[[MK222][一致]]，与[[MK322][类型]]的[[MK222][一致性]]矛盾

故假设不成立，即有 $\Gamma_i=\left\{\psi(x_1,...,x_k)\big|T\vdash(\phi_i\to\psi)\right\}$ 显然 $\Gamma_i$ 是 $\mathcal{T}$ 的[[MK329][根本型]]

上述证明对于任意 $i$ 均成立，故 $\Gamma_1,...,\Gamma_m$ 均是 $\mathcal{T}$ 的[[MK329][根本型]]

**** 有限类型空间定理<<MK441>>

[[MK220][一阶可数理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]且只有[[MK221][无限模型]]，则以下命题等价

（1） $\mathcal{T}$ 的所有[[MK221][可数模型]]均[[MK274][同构]]

（2） 对于任意 $n\in\mathbb{N}$ ，任意一个包含 $T$ 的[[MK322][类型]] $\Gamma(x_1,...,x_n)\supset T$ 都是 $\mathcal{T}$ 的[[MK329][根本型]]

***** 证明

****** （1）证（2）

假设存在 $\Gamma(x_1,...,x_n)\supset T$ 不是 $\mathcal{T}$ 的[[MK329][根本型]]，则根据[[MK255][完备性]]可得

存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则显然 $\left<\mathcal{M},v\right>\vDash T$ 根据[[MK169][推论]]易证 $\mathcal{M}\vDash T$

根据条件可得 $\mathcal{M}$ 是 $\mathcal{T}$ 的[[MK221][无限模型]]，即 $M$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]。又由于 $\mathcal{T}$ 是[[MK220][可数理论]] 

故根据[[MK273][定理2]]可得存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 及其[[MK154][赋值]] $\mu$ 有 $\left<\mathcal{N},\mu\right>\vDash\Gamma$ 以及 $N$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]

则有 $\left<\mathcal{N},\mu\right>\vDash T$ 根据[[MK169][推论]]易证 $\mathcal{N}\vDash T$ 即 $\mathcal{N}$ 是 $\mathcal{T}$ 的[[MK221][可数模型]]

又由于 $\Gamma$ 不是 $\mathcal{T}$ 的[[MK329][根本型]]，根据[[MK331][局部排斥引理]]可得 $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma$

根据[[MK338][型排斥定理]]有 $\mathcal{T}$ 的[[MK221][可数模型]] $\mathcal{M}$ [[MK326][排斥]] $\Gamma$ ，即对于任意 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\not\vDash\Gamma$

假设 $\mathcal{N}$ 与 $\mathcal{M}$ [[MK274][同构]]，则根据存在同构映射 $e$

满足任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 有 $\left<\mathcal{N},\mu\right>\vDash\phi$ 的充要条件为 $\left<\mathcal{M},\mu\cdot e\right>\vDash\phi$ 显然有 $\left<\mathcal{M},\mu\cdot e\right>\vDash\Gamma$

与 $\mathcal{M}$ [[MK326][排斥]] $\Gamma$ 矛盾，故假设不成立， $\mathcal{N}$ 与 $\mathcal{M}$ 均为 $\mathcal{T}$ 的[[MK221][可数模型]]且不[[MK274][同构]]

****** （2）证（1）

对于任意两个 $\mathcal{T}$ 的[[MK221][可数模型]] $\mathcal{M}_1=\left<M_1,I_1\right>,\mathcal{M}_2=\left<M_2,I_2\right>$ 显然 $M_1,M_2$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]

由于 $\mathcal{T}$ [[MK264][完全]]，故根据[[MK266][引理1]]可得对于任意 $\mathcal{L}_\mathcal{A}$ 下的[[MK144][语句]] $\theta$ ， $T\vdash\theta$ 和 $T\vdash(\lnot\theta)$ 有且仅有一个成立

又根据 $\mathcal{M}_1\vDash T,\mathcal{M}_2\vDash T$ 以及[[MK257][完备性]]易证 $\mathcal{M}_1\vDash\theta \leftrightarrow T\vdash\theta\leftrightarrow \mathcal{M}_1\vDash\theta$

即 $\left\{\theta\big|\mathcal{M}_1\vDash\theta\land\theta\in\Theta\right\}=\left\{\theta\big|\mathcal{M}_2\vDash\theta\land\theta\in\Theta\right\}$ 其中 $\Theta$ 是 $\mathcal{L}_\mathcal{A}$ 下所有[[MK144][语句]]集合

对于任意 $n\in\mathbb{N}$ 以及 $\left<a_1,...,a_n\right>\in M^n$ 根据[[MK330][引理2]]可得存在[[MK322][类型]] $\Gamma(x_1,...,x_n)$

满足 $\Gamma=\left\{\phi\big|\phi\in\mathcal{K}_n\land\mathcal{M}\vDash\phi[a_1,...,a_n]\right\}$ 显然 $T\subset\Gamma$ 故根据条件（2）可得 $\Gamma$ 是 $\mathcal{T}$ 的[[MK329][根本型]]

即对于任意 $n\in\mathbb{N}$ 以及 $\left<a_1,...,a_n\right>\in M^n$ 均有 $\Gamma=\left\{\phi(x_1,...,x_n)\big|\mathcal{M}\vDash\phi[a_1,...,a_n]\land \phi\in\mathcal{L}_\mathcal{A}\right\}$

是 $\mathcal{T}$ 的[[MK329][根本型]]，故可得 $\mathcal{M}$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK369][基本结构]]，同理可证 $\mathcal{N}$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK369][基本结构]]

根据[[MK390][引理6]]以及上述结论可得存在[[~/文档/note/离散数学/lssx.org::MK181][双射]] $f:M\to N$ 对于任意 $n\in\mathbb{N}$ 均存在[[MK322][类型]] $\Gamma_n(x_1,...,x_{z_n})$ 满足：

（1） $\mathcal{M}\vDash\Gamma_n[a_{i_1},...,a_{i_{z_n}}]$ 以及 $\mathcal{N}\vDash\Gamma_n[f(a_{i_1}),...,f(a_{i_{z_n}})]$

（2） $\{a_1,...,a_n\}\subset\{a_{i_1},...,a_{i_{z_n}}\}$ 且 $\{b_1,...,b_n\}\subset\{f(a_{i_1}),...,f(a_{i_{z_n}})\}$

进一步根据[[MK388][引理5]]可得 $f$ 是 $\mathcal{M}_1$ 到 $\mathcal{M}_2$ 的[[MK274][同构函数]]，故 $\mathcal{M}_1,\mathcal{M}_2$ [[MK274][同构]] 

**** [[MK369][基本模型]]存在定理

[[MK220][一阶可数理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]且只有[[MK221][无限模型]]则有：

（1） $\mathcal{T}$ 有一个[[~/文档/note/离散数学/lssx.org::MK89][可数]]的[[MK369][基本模型]]的充要条件是 $\mathcal{T}$ 是一个[[MK370][根本型理论]]

（2） $\mathcal{T}$ 的一个[[~/文档/note/离散数学/lssx.org::MK89][可数]]的 $\mathcal{M}$ 是[[MK369][基本模型]]的充要条件是 $\mathcal{M}$ 是任意一个 $\mathcal{T}$ 的[[MK221][模型]]的[[MK301][同质嵌入]]

***** 证明

****** 证明（1）

******* 充分

设 $\mathcal{M}=\left<M,I\right>$ 是 $\mathcal{T}$ 的[[~/文档/note/离散数学/lssx.org::MK89][可数]]的[[MK369][基本模型]]，对于任意 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 满足 $T\cup\{\phi\}$ [[MK222][一致]]

根据[[MK371][引理3]]可得 $T\cup\{(\exists x_1(...(\exists x_n\phi)...))\}$ [[MK222][一致]]，显然 $(\exists x_1(...(\exists x_n\phi)...))$ 是[[MK144][语句]]

则由于 $\mathcal{T}$ 是[[MK264][完全的]]可得 $T\vdash(\exists x_1(...(\exists x_n\phi)...))$ 根据[[MK256][完备性]]可得 $\mathcal{M}\vDash(\exists x_1(...(\exists x_n\phi)...))$

根据[[MK168][局部确定]]以及[[MK172][存在量词]]易证存在 $\left<a_1,...,a_n\right>\in M^n$ 满足 $\mathcal{M}\vDash\phi[a_1,...,a_n]$ 

根据[[MK330][引理2]]可得存在唯一[[MK322][类型]] $\Gamma(x_1,...,x_n)$ 满足 $\mathcal{M}\vDash\Gamma[a_1,...,a_n]$

由于 $\mathcal{M}$ 是 $\mathcal{T}$ 的[[MK221][模型]]，故根据[[MK169][推论]]易证 $\mathcal{M}\vDash T[a_1,...,a_n]$ 显然有 $\mathcal{M}\vDash (\Gamma\cup T)[a_1,...,a_n]$

根据[[MK255][完备性]]可得 $\Gamma\cup T$ [[MK222][一致]]，由于 $T$ 中[[MK129][表达式]]不含[[MK140][自由变元]]，故均为[[MK322][关于 $x_1,...,x_n$ 的表达式]]

且 $\Gamma$ 是[[MK322][关于 $x_1,...,x_n$ 的表达式]]是[[MK223][极大一致]]的，故显然 $T\subset\Gamma$

定义 $T'=\left\{\theta\big|\theta\in\Theta\land\mathcal{M}\vDash\theta\right\}$ 其中 $\Theta$ 是 $\mathcal{L}_\mathcal{A}$ 所有[[MK144][语句]]集合，则有[[MK220][一阶理论]] $\mathcal{T}' =\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T',T'^*\right>$

由于 $\mathcal{M}$ 是 $\mathcal{L}_\mathcal{A}$ [[MK369][基本模型]]，故 $\Gamma$ 是 $\mathcal{T}$ 的[[MK329][根本型]]。

即存在 $\varphi\in\Gamma$ 满足 $\Gamma=\left\{\psi(x_1,...,x_n)\big|((\psi\in\mathcal{L}_\mathcal{A})\land(T'\vdash(\varphi\to\psi)))\right\}$

显然 $T\subset T'$ 且 $\mathcal{M}\vDash T'$ 则根据[[MK255][完备性]]可得 $T'\cup T= T'$ [[MK222][一致]]

定义 $\Gamma'=\left\{\psi(x_1,...,x_n)\big|((\psi\in\mathcal{L}_\mathcal{A})\land(T\vdash(\varphi\to\psi)))\right\}$ 

故对于任意 $\psi\in\Gamma$ 由于 $T'\vdash(\varphi\to\psi)$ 且 $T$ [[MK264][完全]]

故根据[[MK372][引理7]]可得 $T\vdash(\varphi\to\psi)$ 即 $\psi\in\Gamma'$ ，故有 $\Gamma\subset\Gamma'$

又由于 $T\subset T'$ 故对于任意 $\psi'\in\Gamma'$ 满足 $T\vdash(\varphi\to\psi')$ 均有 $T'\vdash(\varphi\to\psi')$ 即 $\phi'\in\Gamma$ ，故有 $\Gamma'\subset\Gamma$

根据[[~/文档/note/离散数学/lssx.org::MK16][自反性]]可得 $\Gamma=\Gamma'$ 即 $\Gamma=\left\{\psi(x_1,...,x_n)\big|((\psi\in\mathcal{L}_\mathcal{A})\land(T\vdash(\varphi\to\psi)))\right\}$

又由于 $T\subset\Gamma$ 且 $\Gamma$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK322][类型]]，故可得 $\Gamma$ 是 $\mathcal{T}$ 的[[MK329][根本型]]

综上所述，对于任意 $\phi$ 满足 $T\cup\{\phi\}$ [[MK222][一致]]均有 $\mathcal{T}$ 的[[MK329][根本型]] $\Gamma$ 满足 $T\cup\{\phi\}\subset\Gamma$

即 $\mathcal{T}$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK370][根本型理论]]

******* 必要

******** 定义 $\Gamma_n$ <<MK375>>

若 $\mathcal{T}$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK370][根本型理论]]，对于任意 $n\in\mathbb{N}$ 定义 $\Gamma'_n$ 满足：

（1） 任意 $\varphi\in\Gamma'_n$ 存在 $\phi$ 满足 $\varphi=(\lnot\phi)$

（2） 存在 $\mathcal{T}$ 的[[MK329][根本型]] $\Gamma(x_1,...,x_n)$ 满足 $\Gamma=\left\{\psi(x_1,...,x_n)\big|((\psi\in\mathcal{L}_\mathcal{A})\land(T\vdash(\phi\to\psi)))\right\}$ 

即 $\Gamma'_n$ 是所有[[MK322][关于 $x_1,...,x_n$ ]]的[[MK329][判定式]]的否定的集合，定义 $\Gamma_n=\Gamma'_n\cup T$

******** 对于任意 $n\in\mathbb{N}$ 均有 $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma_n$

对于任意 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 满足 $T\cup\{\phi\}$ [[MK222][一致]]，必然存在[[MK329][根本型]] $\Gamma(x_1,...,x_n)\supset T$ 满足 $\phi\in\Gamma$

则有 $T\vdash(\varphi\to\phi)$ 其中 $\varphi\in\Gamma$ 是 $\Gamma$ 的[[MK329][判定式]]，根据[[MK322][类型]]可得 $\Gamma$ [[MK222][一致]]，则根据[[MK255][完备性]]可得

存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 及其[[MK154][赋值]]满足 $\left<\mathcal{M},v\right>\vDash\Gamma$ 则有 $\left<\mathcal{M},v\right>\vDash\varphi$ 及 $\left<\mathcal{M},v\right>\vDash\phi$

根据[[MK170][逻辑与]]可得 $\left<\mathcal{M},v\right>\vDash(\varphi\land\phi)$ 根据[[MK179][替换定理]]以及[[MK168][德摩根律]]可得 $\left<\mathcal{M},v\right>\vDash(\phi\land(\lnot(\lnot\varphi)))$

又根据[[MK174][引理]]可得 $\left<\mathcal{M},v\right>\vDash(\exists x_1(...(\exists x_n(\phi\land\lnot(\lnot\varphi)))...))$ 

又由于 $\left<\mathcal{M},v\right>\vDash\Gamma\supset T$ 故可得 $\left<\mathcal{M},v\right>\vDash T\cup\{(\exists x_1(...(\exists x_n(\phi\land\lnot(\lnot\varphi)))...))\}$

又根据[[MK255][完备性]]有 $T\cup\{(\exists x_1(...(\exists x_n(\phi\land\lnot(\lnot\varphi)))...))\}$ [[MK222][一致]]，即 $(\lnot\varphi)$ 在 $\mathcal{T}$ 与 $\phi$ [[MK324][冲突]]

显然 $\varphi$ 是[[MK322][关于 $x_1,...,x_n$ ]]的[[MK329][判定式]]，故有 $(\lnot\varphi)\in\Gamma'_n\subset\Gamma_n$

综上所述，任意 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 满足 $T\cup\{\phi\}$ [[MK222][一致]]均有 $(\lnot\varphi)\in\Gamma_n$ 在 $\mathcal{T}$ 与 $\phi$ [[MK324][冲突]]

即 $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma_n$ 

******** 定义[[MK221][可数模型]] $\mathcal{M}$ 并证明是[[MK369][基本模型]]

根据[[MK375][定义]]以及上一步证明有对于任意 $n\in\mathbb{N}$ 均有 $T\subset\Gamma_n$ 以及 $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma_n$

根据[[MK374][多重排斥定理]]可得存在 $\mathcal{T}$ 的[[MK221][可数模型]] $\mathcal{M}=\left<M,I\right>$ [[MK326][排斥]]所有 $\Gamma_n,n\in\mathbb{N}$

即对于任意一组 $\left<a_1,...,a_n\right>\in M^n$ 均有 $\phi\in\Gamma_n$ 满足 $\mathcal{M}\not\vDash\phi[a_1,...,a_n]$ 

显然有 $\mathcal{M}\vDash T$ 故可得 $\phi\not\in T$ 即 $\phi\in\Gamma'_n$ 是一个[[MK322][关于 $x_1,...,x_n$ ]]的[[MK329][根本型]] $\Gamma$ 的[[MK329][判定式]]的否定

即 $\Gamma=\left\{\psi(x_1,...,x_n)\big|((\psi\in\mathcal{L}_\mathcal{A})\land(T\vdash(\varphi\to\psi)))\right\}$ 且 $\phi=(\lnot\varphi)$

故有 $\mathcal{M}\not\vDash(\lnot\varphi)[a_1,...,a_n]$ 根据[[MK158][满足]]可得 $\mathcal{M}\vDash\varphi[a_1,...,a_n]$

则定义 $K=\left\{\psi(x_1,...,x_n)\big|\mathcal{M}\vDash\psi[a_1,...,a_n]\land\psi\in\mathcal{L}_\mathcal{A}\right\}$

则对于任意 $\psi\in\Gamma$ 均有 $T\vdash(\varphi\to\psi)$ 由于 $\mathcal{M}\vDash T$ 即对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash T$ 

故根据[[MK257][完备性]]可得对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash (\varphi\to\phi)$ 则易证 $\mathcal{M}\vDash(\varphi\to\phi)[a_1,...,a_n]$  

根据[[MK158][满足]]以及 $\mathcal{M}\vDash\varphi[a_1,...,a_n]$ 易证 $\mathcal{M}\vDash\phi[a_1,...,a_n]$ 即对于任意 $\psi\in\Gamma$ 可得 $\psi\in K$ 

故有 $\Gamma\subset K$ 对于任意 $\psi\in K$ 显然是[[MK322][关于 $x_1,...,x_n$ 的表达式]]，且由于 $\mathcal{M}\vDash K[a_1,...,a_n]$ 以及 $\Gamma\subset K$

可得 $\mathcal{M}\vDash\Gamma\cup\{\psi\}$ 根据[[MK255][完备性]] $\Gamma\cup\{\psi\}$ [[MK222][一致]]，根据 $\Gamma$ 是[[MK322][关于 $x_1,...,x_n$ 的表达式]]是[[MK223][极大一致]]的

可得 $\psi\in\Gamma$ ，即对于任意 $\psi\in K$ 可得 $\psi\in\Gamma$ 即 $K\subset\Gamma$ 根据[[~/文档/note/离散数学/lssx.org::MK16][自反性]]可得 $K=\Gamma$

总上所述，对于任意 $n\in\mathbb{N}$ 以及任意一组 $\left<a_1,...,a_n\right>\in M^n$

均有 $\Gamma=\left\{\phi(x_1,...,x_n)\big|\mathcal{M}\vDash\phi[a_1,...,a_n]\land \phi\in\mathcal{L}_\mathcal{A}\right\}$ 是 $\mathcal{T}$ 的[[MK329][根本型]]

即 $\mathcal{M}$ 是 $\mathcal{T}$ 的一个[[~/文档/note/离散数学/lssx.org::MK89][可数]]的[[MK369][基本模型]]

****** 证明（2）

******* 充分性

对于任意 $\mathcal{N}=\left<N,J\right>$ 是 $\mathcal{T}$ 的[[MK221][模型]]，根据条件必为[[MK221][无限模型]]

由于 $\mathcal{M}=\left<M,I\right>$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]，故可定义排序 $M=\{a_1,a_2,...\}$ 

******** 构建[[~/文档/note/离散数学/lssx.org::MK176][单射]] $f$ <<MK378>>

根据下列证明可得对于任意 $n\in\mathbb{N}$ 均有 [[~/文档/note/离散数学/lssx.org::MK175][函数]] $f_n$ 与[[MK322][类型]] $\Gamma_n(x_1,...,x_n)$ 满足：

（1） $\mathcal{M}\vDash\Gamma_n[a_1,...,a_n],\mathcal{N}\vDash\Gamma_n[f_n(a_1),...,f_n(a_n)]$

（2） $\Gamma_n$ 是[[MK329][根本型]]

（3） $f_n$ 是 $\{a_1,...,a_n\}$ 到 $N$ 的[[~/文档/note/离散数学/lssx.org::MK176][单射]]

则定义 $f=\bigcup_{n\in\mathbb{N}}f_n$ 显然亦为[[~/文档/note/离散数学/lssx.org::MK176][单射]]且满足对于任意 $n\in\mathbb{N}$

均有 $\mathcal{M}\vDash\Gamma_n[a_1,...,a_n],\mathcal{N}\vDash\Gamma_n[f(a_1),...,f(a_n)]$

********* $n=1$

根据[[MK267][引理3]]可得对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 有

（1） $T\vdash\theta$ 的充要条件为存在 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 有 $\mathcal{M}\vDash\theta$

（2） 存在 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 有 $\mathcal{M}\vDash\theta$ ，则对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}'$ 均有 $\mathcal{M}'\vDash\theta$ 

根据[[MK330][引理2]]可得存在[[MK322][类型]] $\Gamma_1(x_1)$ 满足 $\mathcal{M}\vDash\Gamma_1[a_1]$ 由于 $\mathcal{M}$ 是[[MK369][基本模型]]，故 $\Gamma_1(x_1)$ 是[[MK329][根本型]]

即存在 $\phi(x_1)\in\Gamma_1(x_1)$ 满足 $\Gamma_1(x_1)=\left\{\psi(x_1)\big|T\vdash(\phi\to\psi)\right\}$ 则对于任意 $\mathcal{M}$ 的[[MK154][赋值]] $v$

满足 $v(x_1)=a_1$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$ 即有 $\mathcal{M}\vDash(\exists x_1\phi)$ 由于 $\mathcal{M}\vDash T$ 故有 $\mathcal{M}\vDash T\cup\{(\exists x_1\phi)\}$

根据[[MK255][完备性]]可得 $T\cup\{(\exists x_1\phi)\}$ [[MK222][一致]]，根据[[MK270][引理6]]可得 $T\vdash(\exists x_1\phi)$

又根据[[MK257][完备性]]以及 $\mathcal{N}\vDash T$ 有 $\mathcal{N}\vDash(\exists x_1\phi)$ 

根据[[MK158][满足]]以及[[MK168][局部确定]]易证存在 $b_{p_1}\in N$ 满足 $\mathcal{N}\vDash\phi[b_1]$ ，根据[[MK377][引理3]]有 $\mathcal{N}\vDash\Gamma_1[b_1]$

定义 $f_1=\{\left<a_1,b_1\right>\}$ 显然满足：

（1） $\mathcal{M}\vDash\Gamma_1[a_1],\mathcal{N}\vDash\Gamma_1[f_1(a_1)]$

（2） $\Gamma_1$ 是[[MK329][根本型]]

（3） $f_1$ 是 $\{a_1\}$ 到 $N$ 的[[~/文档/note/离散数学/lssx.org::MK176][单射]]，且 $f_{n-1}\subset f_n$

显然

********* 归纳假设

对于任意 $n\leq k$ [[~/文档/note/离散数学/lssx.org::MK175][函数]] $f_n$ 与[[MK322][类型]] $\Gamma_n(x_1,...,x_n)$ 满足：

（1） $\mathcal{M}\vDash\Gamma_n[a_1,...,a_n],\mathcal{N}\vDash\Gamma_n[f_n(a_1),...,f_n(a_n)]$

（2） $\Gamma_n$ 是[[MK329][根本型]]

（3） $f_n$ 是 $\{a_1,...,a_n\}$ 到 $N$ 的[[~/文档/note/离散数学/lssx.org::MK176][单射]]，且 $f_{n-1}\subset f_n$

********* $n=k+1$

取 $\left<a_1,...,a_n\right>\in M^n$ 则根据[[MK330][引理2]]可得存在[[MK322][类型]] $\Gamma_n(x_1,...,x_n)$ 满足 $\mathcal{M}\vDash\Gamma_n[a_1,...,a_n]$

由于 $\mathcal{M}$ 是[[MK369][基本模型]]，故 $\Gamma_n$ 是[[MK329][根本型]]即存在 $\phi\in\Gamma_n$ 满足 $\Gamma_n=\left\{\psi(x_1,...x_n)\big|T\vdash(\phi\to\psi)\right\}$ 

根据[[MK158][满足]]显然有 $\mathcal{M}\vDash(\exists x_n\phi)[a_1,...,a_{n-1}]$ 则显然有 $(\exists x_n\phi)\in\Gamma_{n-1}$

根据归纳假设有 $\mathcal{N}\vDash\Gamma[f_{n-1}(a_1),...,f_{n-1}(a_{n-1})]$ 故可得 $\mathcal{N}\vDash(\exists x_n\phi)[f_{n-1}(a_1),...,f_{n-1}(a_{n-1})]$

则根据[[MK158][满足]]以及[[MK168][局部确定]]可得存在 $b_n$ 使得 $\mathcal{N}\vDash\phi[f_{n-1}(a_1),...,f_{n-1}(a_{n-1}),b_n]$

则定义 $f_n=f_{n-1}\cup\{\left<a_n,b_n\right>\}$ 则有 $\mathcal{N}\vDash\phi[f_n(a_1),...,f_n(a_n)]$

根据[[MK377][引理3]]有 $\mathcal{N}\vDash\Gamma_n[b_1,...,b_n]$ 即满足 $\mathcal{M}\vDash\Gamma_n[a_1,...,a_n],\mathcal{N}\vDash\Gamma_n[f_n(a_1),...,f_n(a_n)]$

显然 $\Gamma_n$ 亦为[[MK329][根本型]]

显然 $\mathcal{M}\vDash((\lnot(x_1\hat{=}x_n))\land...\land(\lnot(x_{n-1}\hat{ =}x_n)))[a_1,...,a_n]$

故易证 $((\lnot(x_1\hat{ =}x_n))\land...\land(\lnot(x_{n-1}\hat{ =}x_n)))\in\Gamma_n$

则根据 $\mathcal{N}\vDash\Gamma_n[f_n(a_1),...,f_n(a_n)]$ 可得 $\mathcal{N}\vDash((\lnot(x_1\hat{=}x_n))\land...\land(\lnot(x_{n-1}\hat{ =}x_n)))[f_n(a_1),...,f_n(a_n)]$

根据[[MK158][满足]]以及[[MK170][逻辑与]]易证有对于任意 $1\leq i\leq n+1$ 均有 $f_n(a_i)\ne f_n(a_n)$

又根据归纳假设 $f_{n-1}$ 是 $\{a_1,...,a_{n-1}\}$ 到 $N$ 的[[~/文档/note/离散数学/lssx.org::MK176][单射]]，则显然 $f_n$ 是 $\{a_1,...,a_n\}$ 到 $N$ 的[[~/文档/note/离散数学/lssx.org::MK176][单射]]

且有 $f_{n-1}\subset f_n$

******** 定义 $\phi'$

对于任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 以及[[MK129][表达式]] $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 若有 $\left<\mathcal{M},v\right>\vDash\phi$ ，则定义 $v(x_i)=a_{k_i}$

设 $\phi$ 中所有的[[MK107][变元符号]]集合均在 $\{x_1,...,x_m\}$ 中，则取 $k=\max(\{k_1,...,k_n,m\})$

则若 $\phi[p]=x_i\in\{x_1,...,x_n\}$ 且是[[MK141][自由出现]]，则替换 $\phi[p]$ 为 $x_{k_i}$

若 $\phi[p]=x_i$ 为[[MK107][变元符号]]且不是[[MK141][自由出现]]，则替换 $x_i=x_{k+i}$

其余不替换，则定义 $\phi$ 经过替换后为 $\phi'$ 显然仍为[[MK129][表达式]]

******** 证明结论

根据上一步 $\left<\mathcal{M},v\right>\vDash\phi$ 可得定义 $v'(x_{k_i})=a_{k_i}$ 则根据[[MK176][替换定理]] $\left<\mathcal{M},v'\right>\vDash\phi'$

根据上一步定义可得 $\phi'$ 中所有[[MK140][自由变元]] $x_i$ 均有 $1\leq i\leq k$ ，故 $\phi'$ 是[[MK322][关于 $x_1,...,x_k$ 的表达式]]

且显然有 $\mathcal{M}\vDash\phi'[a_1,...,a_k]$ 根据[[MK378][ $f$ 定义]]可得 $\mathcal{M}\vDash\Gamma_k[a_1,...,a_k]$ 且 $\Gamma_k$ 是[[MK329][根本型]]

根据[[MK380][引理4]]可得有 $\phi'\in\Gamma_k$ 根据[[MK378][ $f$ 定义]]有 $\mathcal{N}\vDash\Gamma_k[f(a_1),...,f(a_n)]$ 即有 $\mathcal{N}\vDash\phi'[f(a_1),...,f(a_n)]$

则定义 $\mathcal{N}$ [[MK154][赋值]] $\eta'$ 满足 $\eta'(x_i)=f(a_i)$ 故可得 $\left<\mathcal{N},\eta'\right>\vDash\phi'$

根据上一步定义可得 $\phi'$ 中的[[MK140][自由变元]]均在 $\{x_{k_1},...,x_{k_n}\}$ 中，则定义 $\eta(x_i)=f(a_{k_i})$

根据[[MK176][替换定理]] $\left<\mathcal{N},\eta\right>\vDash\phi$ 显然 $f(v(x_i))=f(a_{k_i})=\eta(x_i)$ 则根据[[MK168][局部确定]] $\left<\mathcal{N},v\cdot f\right>\vDash\phi$

若有 $\left<\mathcal{N},v\cdot f\right>\vDash\phi$ 则类似可证 $\left<\mathcal{M},v\right>\vDash\phi$ 即 $f$ 是 $\mathcal{M}$ 到 $\mathcal{N}$ 的[[MK301][同质嵌入映射]]

******* 必要性

设有 $\mathcal{T}$ 的[[MK221][无限模型]] $\mathcal{M}=\left<M,I\right>$ 是任意一个 $\mathcal{T}$ 的[[MK221][模型]]的[[MK301][同质嵌入]]

******** $\mathcal{M}$ 是[[MK221][可数模型]]

假设 $M$ 不[[~/文档/note/离散数学/lssx.org::MK89][可数]]，则根据 $\mathcal{L}_{\mathcal{A}}$ 是[[MK151][可数语言]]以及[[MK294][同质缩小]]均存在 $\mathcal{N}=\left<N,J\right>$ 是 $\mathcal{M}$ 的[[MK287][同质子结构]]且 $N$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]

故有 $\mathcal{N}\vDash T$ ，则根据条件 $\mathcal{M}$ 也是 $\mathcal{N}$ 的[[MK301][同质嵌入]]，即存在 $e$ 是 $\mathcal{M}$ 到 $\mathcal{N}$ 的[[MK301][同质嵌入映射]]

根据[[MK302][引理]]可得 $e$ 是[[MK300][嵌入映射]]，则 $e$ 是 $M$ 到 $N$ 的[[~/文档/note/离散数学/lssx.org::MK176][单射]]，根据[[~/文档/note/离散数学/lssx.org::MK29][势定义]]有 $|M|\leq|N|$

又根据 $N\subset M$ 以及[[~/文档/note/离散数学/lssx.org::MK33][定理5]]有 $|N|\leq|M|$ ，根据[[~/文档/note/离散数学/lssx.org::MK34][伯恩斯坦定理]]有 $|N|=|M|$ 即 $M$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]

矛盾，故假设不成立 $M$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数]]集

******** 证明结论

对于任意 $n\in\mathbb{N}$ 任意 $\left<a_1,...,a_n\right>\in M^n$ 根据[[MK330][引理2]]可得唯一[[MK322][类型]] $\Gamma(x_1,...,x_n)$

满足 $\Gamma=\left\{\phi\big|\phi\in\mathcal{K}_n\land\mathcal{M}\vDash\phi[a_1,...,a_n]\right\}$ 。假设 $\Gamma$ 不是 $\mathcal{T}$ 的[[MK329][根本型]]，则根据[[MK331][引理]]可得 $\mathcal{T}$ [[MK325][局部排斥]] $\Gamma$

根据[[MK338][型排斥定理]]可得有 $\mathcal{T}$ 的[[MK221][可数模型]] $\mathcal{N}=\left<N,I\right>$ [[MK326][排斥]] $\Gamma$

根据条件 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK301][同质嵌入]]，则有[[MK301][同质嵌入映射]] $e$

则定义 $\mathcal{M}$ [[MK154][赋值]] $v$ 满足 $v(x_i)=a_i$ ，则有 $\left<\mathcal{M},v\right>\vDash\Gamma$ 由于 $e$ 是[[MK301][同质嵌入映射]]，故有 $\left<\mathcal{N},v\cdot e\right>\vDash\Gamma$

即根据[[MK168][局部确定]] $\mathcal{N}\vDash\Gamma[e(a_1),...,e(a_n)]$ 与 $\mathcal{N}$ [[MK326][排斥]] $\Gamma$ 矛盾，故假设不成立， $\Gamma$ 是 $\mathcal{T}$ 的[[MK329][根本型]]

综上所述，对于任意 $n\in\mathbb{N}$ 任意 $\left<a_1,...,a_n\right>\in M^n$ 均有 $\Gamma=\left\{\phi\big|\phi\in\mathcal{K}_n\land\mathcal{M}\vDash\phi[a_1,...,a_n]\right\}$

是 $\mathcal{T}$ 的[[MK329][根本型]]，即 $\mathcal{M}$ 是[[MK369][基本模型]]

**** [[MK369][基本结构]]唯一性

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 的任意两个[[MK281][同样]]的[[MK369][基本结构]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 若 $M,N$ 均[[~/文档/note/离散数学/lssx.org::MK89][可数]]

则 $\mathcal{M},\mathcal{N}$ [[MK274][同构]]

***** 证明

定义 $\mathcal{L}_\mathcal{A}$ 下所有[[MK144][语句]]集合为 $\Theta$ ，则根据 $\mathcal{M},\mathcal{N}$ [[MK281][同样]]可得 $\left\{\theta\big|\mathcal{M}\vDash\theta\land\theta\in\Theta\right\}=\left\{\theta\big|\mathcal{N}\vDash\theta\land\theta\in\Theta\right\}$

又由于 $M,N$ 均[[~/文档/note/离散数学/lssx.org::MK89][可数]]以及 $\mathcal{M},\mathcal{N}$ 均为 $\mathcal{L}_\mathcal{A}$ 的[[MK369][基本结构]]

则根据[[MK390][引理6]]可得存在[[~/文档/note/离散数学/lssx.org::MK181][双射]] $f:M\to N$ 对于任意 $n\in\mathbb{N}$ 均存在[[MK322][类型]] $\Gamma_n(x_1,...,x_{z_n})$ 满足：

（1） $\mathcal{M}\vDash\Gamma_n[a_{i_1},...,a_{i_{z_n}}]$ 以及 $\mathcal{N}\vDash\Gamma_n[f(a_{i_1}),...,f(a_{i_{z_n}})]$

（2） $\{a_1,...,a_n\}\subset\{a_{i_1},...,a_{i_{z_n}}\}$ 且 $\{b_1,...,b_n\}\subset\{f(a_{i_1}),...,f(a_{i_{z_n}})\}$

又根据 $M,N$ 均[[~/文档/note/离散数学/lssx.org::MK89][可数]]以及[[MK388][引理5]]可得 $\mathcal{M},\mathcal{N}$ [[MK274][同构]]

**** [[MK394][可数饱和模型]]存在性定理<<MK495>>

[[MK220][一阶可数理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]且只有[[MK221][无限模型]]，则 $\mathcal{T}$ 存在一个[[MK221][可数]]且[[MK394][饱和]]模型

的充要条件是对于任意 $n\in\mathbb{N}\land n\geq1$ ， $\mathcal{T}$ 有 [[~/文档/note/离散数学/lssx.org::MK93][至多可数]]个[[MK322][ $n$ 元类型]]包含 $T$

***** 证明

****** 充分

设 $\mathcal{T}$ 有 $|\mathbb{N}|$ [[MK394][饱和]]模型 $\mathcal{M}=\left<M,I\right>$ 则根据[[MK400][引理8]]可得任意 $\mathcal{T}$ 的个[[MK322][ $n$ 元类型]]均被 $\mathcal{M}$ [[MK323][实现]]

又根据[[MK399][引理7]]可得对于任意 $n\in\mathbb{N}$ 均有 $\mathcal{M}$ 所[[MK323][实现]]的[[MK322][ $n$ 元类型]]集合是[[~/文档/note/离散数学/lssx.org::MK93][至多可数]]集

****** 必要

******* 存在 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][可数结构]] $\mathcal{M}=\left<M.I\right>$ 满足 $\mathcal{M}\vDash T$

由于 $\mathcal{T}$ 是[[MK264][完全的]]，则根据[[MK373][引理8]]可得 $T$ [[MK222][一致]]，则根据[[MK255][完备性]]可得存在 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][结构]] $\mathcal{M}'=\left<M',I'\right>$

满足 $\mathcal{M}'\vDash T$ 由于 $\mathcal{T}$ 是[[MK220][一阶可数理论]]，故 $\mathcal{L}_\mathcal{A}$ 是[[MK151][可数语言]]，又由于 $\mathcal{T}$ 只有[[MK221][无限模型]]，故 $M'$ 是[[~/文档/note/离散数学/lssx.org::MK83][无限集]]

根据[[MK294][同质缩小]]可得存在 $\mathcal{L}_\mathcal{A}$ 下的[[MK153][可数结构]] $\mathcal{M}=\left<M.I\right>$ 满足 $\mathcal{M}\vDash T$

******* 定义[[MK153][可数结构]] $\mathcal{M}_\infty$ 满足 $\mathcal{M}$ 是其[[MK301][同质嵌入]]<<MK430>>

定义 $\mathcal{M}_0=\mathcal{M}$ 根据[[MK425][引理13]]以及数学归纳法可得存在 $\left\{\mathcal{M}_i=\left<M_i,I_i\right>\big|i\in\mathbb{N}\right\}$ 满足：

（1） $\mathcal{M}_i\prec\mathcal{M}_{i+1}$ 设嵌入函数为 $e_{i(i+1)}$

（2） 对于任意 $X\subset M_{i-1}\land |X|<|\mathbb{N}|$ [[MK406][常元扩展]]后的[[MK220][理论]] $\mathcal{T}_X$

     的任意[[MK322][ $1$ 元类型]] $\Gamma(x_1)\supset\text{Th}((\mathcal{M}_{i-1},c_x)_{x\in X})$ 定义 $I_{i,X}=J\cup\left\{\left<c_x,e_{(i-1)i}(x)\right>\big|x\in X\right\}$

     以及 $\mathcal{M}_{i,X}=\left<M_{i},I_{i,X}\right>$ 则有 $\mathcal{M}_{i+1,X}$ [[MK323][实现]] $\Gamma$

（3） $M_i$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]

根据[[MK243][推论2]]可得存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}_\infty=\left<M_\infty, I_\infty\right>$ 以及[[~/文档/note/离散数学/lssx.org::MK175][函数]] $\left\{e_{i\infty}\big|i<\infty\right\}$ 满足

（1） 任意 $e_{i\infty}:M_i\to M_\infty$ 是 $\mathcal{M}_i$ 到 $\mathcal{M}_\infty$ 的[[MK301][同质嵌入映射]]

（2） 任意 $i<n<\infty$ 均有 $e_{i\infty}=e_{in}\cdot e_{n\infty}$

显然 $e_{0\infty}$ 亦为 $\mathcal{M}_0$ 到 $\mathcal{M}_\infty$ 的[[MK301][同质嵌入映射]]，故 $\mathcal{M}$ 是 $\mathcal{M}_\infty$ 的[[MK301][同质嵌入]]

又根据[[MK426][证明过程]]可知 $M_\infty$ 是构建在 $N=\bigcup_{n\in\mathbb{N}}(M_n\times \{n\})$ 上的[[~/文档/note/离散数学/lssx.org::MK133][等价类]]

由于 $M_i$ 均[[~/文档/note/离散数学/lssx.org::MK89][可数]]，故根据[[~/文档/note/离散数学/lssx.org::MK87][定理4]]可得 $N$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]，又根据[[~/文档/note/离散数学/lssx.org::MK331][定理3]]可得 $|M_\infty|\leq|N|$ 易证 $M_\infty$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]

故 $\mathcal{M}_\infty$ 是义[[MK153][可数结构]]

******* 证明 $\mathcal{M}_\infty$ 是[[MK394][饱和模型]]

******** 取 $X\subset M_\infty$ 

由于 $M_\infty$ [[~/文档/note/离散数学/lssx.org::MK89][可数]]，则对于任意 $X\subset M_\infty$ 满足 $|X|<|M_\infty|$ 有 $X$ 有限

即可排序 $X=\{[\left<a_1,i_1\right>]_\sim,...,[\left<a_n,i_n\right>]_\sim\}$ 根据[[MK426][定义]]可得有 $a_j\in M_{i_j}$

则对于任意 $k\geq k^*=\max(k_1,...,k_n)+1$ 

******** 定义 $X'$ 

显然有 $e_{i_j(k+1)}(a_j)=e_{k(k+1)}(e_{i_jk}(a_j))$ 则根据[[MK426][定义]]有 $\left<a_j,i_j\right>\sim\left<e_{i_jk}(a_j),k\right>$

根据[[~/文档/note/离散数学/lssx.org::MK134][定理1]]有 $[\left<a_j,i_j\right>]_\sim=[\left<e_{i_jk}(a_j),k\right>]_\sim$ ，即有 $X=\left\{[\left<e_{i_1k}(a_1),k\right>]_\sim,...,[\left<e_{i_nk}(a_n),k\right>]_\sim\right\}$

定义 $X'=\{e_{i_1k}(a_1),...,e_{i_1k}(a_n)\}$ 则根据[[MK430][之前证明]]有 $e_{i_j\infty}(a_j)=e_{k\infty}(e_{i_jk}(a_j)) =[\left<a_j,i_j\right>]_\sim$

且 $e_{k\infty}$ 是[[MK301][同质嵌入映射]]，则根据[[MK302][引理1]]可得是[[~/文档/note/离散数学/lssx.org::MK176][单射]]，故易证 $e_{i_jk}(a_j)=e^{-1}_{k\infty}\left([\left<a_j,i_j\right>]_\sim\right)$

******** 任意 $k\geq k^*$ 定义 $\mathcal{M}'_k$

定义 $I'_{k}=I_k\cup\left\{\left<c_{z_j},e^{-1}_{k\infty}(z_j)\right>\big|z_j\in X\right\}$ 定义 $\mathcal{M}'_k=\left<M_k,I'_k\right>$

显然 $(\mathcal{M} _\infty,c_{z_j})_{z_j\in X},\mathcal{M}'_k$ 均为 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下的[[MK154][结构]]

******** 任意 $k\geq k^*$ 任意[[MK144][语句]] $(\mathcal{M}_\infty,c_x)_{x\in X}\vDash\theta$ 的充要条件是 $\mathcal{M}'_k\vDash\theta$

对于任意[[MK144][语句]] $\theta\in\text{Th}((\mathcal{M}_\infty,c_{z_j})_{z_j\in X})$ 其充要条件为 $(\mathcal{M}_\infty,c_{z_j})_{z_j\in X}\vDash\theta$

显然 $\mathcal{M}_\infty$ 是 $(\mathcal{M}_\infty,c_{z_j})_{z_j\in X}$ 在 $\mathcal{L}_\mathcal{A}$ 下的[[MK295][裁剪结构]]，则根据[[MK429][引理14]]其充要条件为 $\mathcal{L}_\mathcal{A}$ 下 $\mathcal{M}_\infty\vDash\mu(\theta)$

根据上一步有 $e_{k\infty}$ 是 $\mathcal{M}_k$ 到 $\mathcal{M}_\infty$ 的[[MK301][同质嵌入映射]]，则根据[[MK169][推论]]易证其充要条件为 $\mathcal{M}_k\vDash\theta$

同样 $\mathcal{M}_k$ 是 $\mathcal{M}'_ k$ 在 $\mathcal{L}_\mathcal{A}$ 下的[[MK295][裁剪结构]]，根据[[MK429][引理14]]其充要条件为 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下 $\mathcal{M}'_k\vDash\theta$

综上所述，对于任意[[MK144][语句]] $\theta\in\mathcal{L}_{\mathcal{A}_{C_X}}$ 有 $(\mathcal{M}_\infty,c_{z_j})_{z_j\in X}\vDash\theta$ 的充要条件是 $\mathcal{M}'_k\vDash\theta$

******** 任意[[MK322][ $1$ 元类型]] $\Gamma(x_1)\supset\text{Th}((\mathcal{M} _\infty,c_{z_j})_{z_j\in X})$ 被 $\mathcal{M}'_{k^*+1}$ [[MK323][实现]]

根据[[~/文档/note/离散数学/lssx.org::MK16][自反性]]易证 $\text{Th}((\mathcal{M}_\infty,c_{z_j})_{z_j\in X})=\text{Th}(\mathcal{M}'_k)$ ，则任取 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下的[[MK322][ $1$ 元类型]] $\Gamma(x_1)\supset\text{Th}((\mathcal{M} _\infty,c_{z_j})_{z_j\in X})$

可得 $\Gamma(x_1)\supset\text{Th}(\mathcal{M}'_{k^*})$ ，则定义 $I'_{k^*+1}=I_{k^*+1}\cup\left\{\left<c_x,e_{k^*(k^*+1)}\left(e^{-1}_{k\infty}(z_j)\right)\right>\big|z_j\in X\right\}$

以及 $\mathcal{M}'_{k^*+1}=\left<M_{k^*+1},I'_{k^*+1}\right>$ ，显然 $\mathcal{M}'_{k^*+1}$ 亦为 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下的[[MK154][结构]]

由于 $e_{k^*(k^*+1)}$ 是 $\mathcal{M}_{k^*}$ 到 $\mathcal{M}_{k^*+1}$ 的[[MK301][同质嵌入映射]]，故根据[[MK430][定义]]可得 $\mathcal{M}'_{k^*+1}$ [[MK323][实现]] $\Gamma$

即存在 $\mathcal{M}'_{k^*+1}$ 的[[MK154][赋值]] $v$ 满足 $\left<\mathcal{M}'_{k^*+1},v\right>\vDash\Gamma$

******** $(\mathcal{M}_\infty,c_{z_j})_{z_j\in X}$ [[MK323][实现]] $\Gamma$

定义：
（1） $\mathcal{M}_{k^*+1}$ 的[[MK154][赋值]] $u(x_j)=\begin{cases}v(x_j)&j=1\\I'_ k(c_{z_j})&2\leq j\leq n+2\end{cases}$

（2） $(\mathcal{M}_\infty,c_{z_j})_{z_j\in X}$ 的[[MK154][赋值]] $\delta$ 满足 $\delta(x_1)=e_{(k^*+1)\infty}(u(x_1))$

则对于任意 $\phi\in\Gamma$ 显然 $\mathcal{M}_{k^*+1}$ 是 $\mathcal{M}'_ {k^*+1}$ 在 $\mathcal{L}_\mathcal{A}$ 下的[[MK295][裁剪结构]]

则根据 $\left<\mathcal{M}'_{k^*+1},v\right>\vDash\Gamma$ 以及[[MK429][引理14]]可得 $\mathcal{L} _\mathcal{A}$ 下 $\left<\mathcal{M}_{k^*+1},u\right>\vDash\mu(\phi)$ 。

又根据 $e_{k\infty}$ 是 $\mathcal{M}_k$ 到 $\mathcal{M}_\infty$ 的[[MK301][同质嵌入映射]]可得 $\left<\mathcal{M}_{\infty},u\cdot e_{(k^*+1)\infty}\right>\vDash\mu(\phi)$

由于 $\phi\in\Gamma$ 故 $\phi$ 中只含[[MK140][自由变元]] $x_1$ ，由于 $|X|=n$ 则 $\mu(\phi)$ 中只含[[MK140][自由变元]] $x_1,...,x_{n+1}$

任取 $(\mathcal{M}_\infty,c_{z_j})_{z_j\in X}$ 的[[MK154][赋值]] $\delta$ 满足 $\delta(x_1)=e_{(k^*+1)\infty}(u(x_1))$

根据[[MK406][常元扩展]]可得 $(\mathcal{M}_\infty,c_{z_j})_{z_j\in X}=\left<M_\infty,I_{X,\infty}\right>$ 其中 $I_{X,\infty}=I_\infty\cup\left\{\left<c_{z_j},z_j\right>\big|z_j\in X\right\}$

显然对于任意 $2\leq j\leq n+2$

有 $e_{(k^*+1)\infty}(u(x_j))=e_{(k^*+1)\infty}(I'_{k^*}(c_{a_j}))=e_{(k^*+1)\infty}\left(e_{k^*(k^*+1)}\left(e^{-1}_{k^*\infty}(z_j)\right)\right)$

根据[[MK430][之前证明]]有 $e_{(k^*+1)\infty}\left(e_{k^*(k^*+1)}\left(e^{-1}_{k^*\infty}(z_j)\right)\right)=e_{k^*\infty}\left(e^{-1}_{k^*\infty}(z_j)\right)=z_j$

即有 $e_{(k^*+1)\infty}(u(x_j))=I_{X,\infty}(c_{z_j})$

则 $u\cdot e_{(k^*+1)\infty}$ 满足 $u\cdot e_{(k^*+1)\infty}(x_j)=\begin{cases}\delta(x_j)&j=1\\I_{X,\infty}(c_{z_j})&2\leq j\leq n+2\end{cases}$ 

且由于 $\mathcal{M}_\infty$ 是 $(\mathcal{M}_\infty,c_{z_j})_{z_j\in X}$ 在 $\mathcal{L}_\mathcal{A}$ 下的[[MK295][裁剪结构]]，故根据[[MK429][引理14]]可得 $\left<(\mathcal{M}_\infty,c_{z_j})_{z_j\in X},\delta\right>\vDash\phi$

综上所述，对于任意 $\phi\in\Gamma$ 均有 $\left<(\mathcal{M}_\infty,c_{z_j})_{z_j\in X},\delta\right>\vDash\phi$ 即 $(\mathcal{M}_\infty,c_{z_j})_{z_j\in X}$ [[MK323][实现]] $\Gamma$

**** [[MK394][可数饱和结构]]唯一性<<MK438>>

[[MK151][一阶语言]] $\mathcal{L}_\mathcal{A}$ 的任意两个的[[MK394][可数饱和结构]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 若[[MK281][同样]]，则 $\mathcal{M},\mathcal{N}$ [[MK274][同构]]

*注：对于不可数 $\mathcal{L}_\mathcal{A}$ 亦成立*

***** 证明

****** 定义[[~/文档/note/离散数学/lssx.org::MK175][映射]] $e$ <<MK436>>

由于均为[[MK394][可数饱和结构]]，故可定义 $M=\left\{m_i\big|i\in\mathbb{N}\right\},N=\left\{n_i\big|i\in\mathbb{N}\right\}$

定义 $D=\left\{d_i\big|i\in\mathbb{N}\right\}$ 为不在 $\mathcal{A}$ 中的[[MK108][常元符号]]，则根据以下证明以及数学归纳法

可得对于任意 $k\in\mathbb{N}$ 定义 $D_k=\{d_1,...,d_{2k}\}$ ，[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}\cup D_k}$ 及其[[MK153][结构]] $\mathcal{M}_k=\left<M,I_k\right>,\mathcal{N}_k=\left<N,J_k\right>$

满足：

（1） $I_k=I\cup\left\{\left<d_i,m^*_i\right>\big|1\leq i\leq 2k\right\},J_k=J\cup\left\{\left<d_i,n^*_i\right>\big|1\leq i\leq 2k\right\}$

（2） $\{m_1,...,m_k\}\subset\{m^*_1,...,m^*_{2k}\},\{n_1,...,n_k\}\subset\{n^*_1,...,n^*_{2k}\}$

（3） 对于任意 $1\leq i<j\leq 2k$ 均有 $m^*_i\ne m^*_j,n^*_i\ne n^*_j$

（4） $\mathcal{L}_{\mathcal{A}\cup D_k}$ 下 $\text{Th}(\mathcal{N}_k)=\text{Th}(\mathcal{M}_k)$

则定义 $e:M\to N$ 对于任意 $m_i\in M$ 若存在 $d_j\in D$ 满足对于任意 $k\geq 2i$ 均有 $I_k(d_j)=m^*_j=m_i$

则定义 $e(m_i)=n^*_j$

根据条件（2）有 $m_i\in\{m^*_1,...m^*_{2i}\}$ 设 $m_i=m^*_j,1\leq j\leq 2i$ 则根据（1）可得 $d_j$ 存在

假设存在 $\{d_{j_1},d_{j_2}\}\subset D,j_1\ne j_2$ 满足 $I_k(d_{j_1})=m_i,I_k(d_{j_2})=m_i$ 则根据（1）有 $m^*_{j_1}=m_i=m^*_{j_2}$

由于 $j_1\ne j_2$ 故与（3）冲突，故假设不成立

综上所述，存在唯一 $d_j$ 满足对于任意 $k\geq 2i$ 均有 $I_k(d_j)=m^*_j=m_i$

即对于任意 $m_i\in M$ 存在唯一 $n^*_j$ 满足 $e(m_i)=n^*_j$ ，即 $e$ 是[[~/文档/note/离散数学/lssx.org::MK175][映射]] 

******* $k=1$

******** 定义 $m^*_1,\Gamma'_1$ 证明存在 $n^*_1\in N$ 使得 $\mathcal{N}\vDash\Gamma'_1[n^*_1]$

定义 $m^*_1=m_1$ 以及 $\Gamma=\left\{\phi(x_1)\big|\mathcal{M}\vDash\phi[m^*_1]\right\}$ 当 $X'_1=\varnothing\subset M$ 时易证：

（1） $\mathcal{L}_{\mathcal{A}_{C_{X'_1}}}=\mathcal{L}_{\mathcal{A}}$

（2） $(\mathcal{M},c_x)_{x\in X'_1}=\mathcal{M}$

（3） 显然有 $\text{Th}((\mathcal{M},c_x)_{x\in X'_1})=\text{Th}(\mathcal{M})\subset\Gamma$

由于 $\mathcal{M},\mathcal{N}$ [[MK281][同样]]，故有 $\text{Th}(\mathcal{M})=\text{Th}(\mathcal{N})$ ，即有 $\text{Th}(\mathcal{N})\subset\Gamma$ 则同理当 $Y'_1=\varnothing\subset N$ 时有：

（1） $\mathcal{L}_{\mathcal{A}_{C_{Y'_1}}}=\mathcal{L}_{\mathcal{A}}$

（2） $(\mathcal{N},c_y)_{y\in Y'_1}=\mathcal{N}$

（3） 显然有 $\text{Th}((\mathcal{N},c_y)_{y\in Y'_1})=\text{Th}(\mathcal{N})\subset\Gamma$

根据 $\mathcal{N}$ [[MK394][饱和]]可得 $(\mathcal{N},c_y)_{y\in Y'_1}$ [[MK323][实现]] $\Gamma'_1$ ，即存在 $n^*_1$ 满足 $(\mathcal{N},c_y)_{y\in Y'_1}\vDash\Gamma'[n^*_1]$ 即 $\mathcal{N}\vDash\Gamma[n^*_1]$

******** 定义 $\mathcal{L}_{\mathcal{A}\cup D'_1},\mathcal{M}'_1,\mathcal{N}'_1$ 证明 $\text{Th}(\mathcal{N}'_1)=\text{Th}(\mathcal{M}'_1)$ <<MK432>>

定义 $D'_1=\{d_1\}$ 定义[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}\cup D'_1}$ 及其[[MK153][结构]] $\mathcal{M}'_1=\left<M,I'_1\right>,\mathcal{N}'_1=\left<N,J'_1\right>$

其中 $I'_1=I\cup\{\left<d_1,m^*_1\right>\},J'_1=J\cup\{\left<d_1,n^*_1\right>\}$ 显然 $\mathcal{M},\mathcal{N}$ 分别是 $\mathcal{M}'_1,\mathcal{N}'_1$ 的[[MK295][裁剪结构]]

对于任意[[MK144][语句]] $\theta\in\mathcal{L}_{\mathcal{A}\cup D'_1}$ 满足 $\mathcal{M}'_1\vDash\theta$ 根据[[MK429][引理14]]可得其充要条件是 $\left<\mathcal{M},v\right>\vDash\mu(\theta)$ 其中 $v(x_1)=m^*_1$

即 $\mathcal{M}\vDash\mu(\theta)[m^*_1]$ 则有 $\mu(\theta)\in\Gamma$ 即有 $\mathcal{N}\vDash\mu(\theta)[n^*_1]$ 同理可证充要条件是 $\mathcal{N}'_1\vDash\theta$

综上所述，对于任意[[MK144][语句]] $\theta\in\mathcal{L}_{\mathcal{A}\cup D'_1}$ ， $\mathcal{M}_1\vDash\theta$ 的充要条件是 $\mathcal{N}'_1\vDash\theta$ ，即 $\mathcal{M}'_1,\mathcal{N}'_1$ [[MK281][同样]]

******** 定义 $n^*_2,\Gamma_1$ 证明存在 $m^*_2\in M$ 使得 $\mathcal{M}'_0\vDash\Gamma_1[m^*_2]$ <<MK433>>

定义 $n^*_2$ 为 $N-\{n^*_1\}$ 中下标最小的元素，定义 $\Gamma_1=\left\{\phi(x_1)\big|\mathcal{N}'_1\vDash\phi[n^*_2]\right\}$

根据[[MK330][引理2]]可得 $\Gamma_1$ 是 $\mathcal{L}_{\mathcal{A}\cup D'_1}$ 下的[[MK322][ $1$ 元类型]]且显然有 $\text{Th}(\mathcal{N}'_1)\subset\Gamma_1$

根据上一步证明可得 $\text{Th}(\mathcal{M}'_1)\subset\Gamma_1$ ，又由于 $\mathcal{M}$ [[MK394][饱和]]，则易证 $\mathcal{M}'_1$ [[MK323][实现]] $\Gamma_1$

即存在 $m^*_2\in M$ 使得 $\mathcal{M}'_1\vDash\Gamma_1[m^*_2]$

******** 证明 $m^*_2\ne m^*_1$ <<MK434>>

由于 $n^*_2\in N-\{n^*_1\}$ 故 $n^*_1\ne n^*_1$ 则根据[[MK158][满足]]可得 $\mathcal{N}'_1\vDash(\lnot(d_1\hat{=}x_1))[n^*_2]$ 则有 $(\lnot(d_1\hat{ =}x_1))\in\Gamma_1$

又根据上一步证明有 $\mathcal{M}'_1\vDash(\lnot(d_1\hat{=}x_1))[m^*_2]$ 根据[[MK158][满足]]易证 $m^*_1=I'_1(d_1)\ne m^*_2$

******** 定义 $\mathcal{L}_{\mathcal{A}\cup D_1},\mathcal{M}_1,\mathcal{N}_1$ 证明 $\text{Th}(\mathcal{N}_1)=\text{Th}(\mathcal{M}_1)$ <<MK435>>

定义 $D_1=\{d_1,d_2\}$ 定义[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}\cup D_1}$ 及其[[MK153][结构]] $\mathcal{M}_1=\left<M,I_1\right>,\mathcal{N}_1=\left<N,J_1\right>$

其中 $I_1=I'_1\cup\{\left<d_2,m^*_2\right>\},J_1=J'_1\cup\{\left<d_2,n^*_2\right>\}$ 显然 $\mathcal{M}'_1,\mathcal{N}'_1$ 分别是 $\mathcal{M}_1,\mathcal{N}_1$ 的[[MK295][裁剪结构]]

[[MK432][同理可证]] $\text{Th}(\mathcal{N}_1)=\text{Th}(\mathcal{M}_1)$

******* 归纳假设

对于任意 $k<K$ 定义 $D_k=\{d_1,...,d_{2k}\}$ ，[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}\cup D_k}$ 及其[[MK153][结构]] $\mathcal{M}_k=\left<M,I_k\right>,\mathcal{N}_k=\left<N,J_k\right>$

满足：

（1） $I_k=I\cup\left\{\left<d_i,m^*_i\right>\big|1\leq i\leq 2k\right\},J_k=J\cup\left\{\left<d_i,n^*_i\right>\big|1\leq i\leq 2k\right\}$

（2） $\{m_1,...,m_k\}\subset\{m^*_1,...,m^*_{2k}\},\{n_1,...,n_k\}\subset\{n^*_1,...,n^*_{2k}\}$

（3） 对于任意 $1\leq i<j\leq 2k$ 均有 $m^*_i\ne m^*_j,n^*_i\ne n^*_j$

（4） $\mathcal{L}_{\mathcal{A}\cup D_k}$ 下 $\text{Th}(\mathcal{N}_k)=\text{Th}(\mathcal{M}_k)$

******* $k=K+1$

******** 正向取

定义 $m^*_{2K+1}$ 为 $M-\{m^*_1,...,m^*_{2K}\}$ 中下标最小的元素并定义 $\Gamma'_{K+1}=\left\{\phi(x_1)\big|\mathcal{M}_K\vDash\phi[m^*_{2K+1}]\right\}$

[[MK433][同理]]可得存在 $n^*_{2K+1}\in N$ 满足 $\mathcal{N}_K\vDash\Gamma'_{K+1}[n^*_{2K+1}]$ 。定义 $D'_{K+1}=\{d_1,...,d_{2K},d_{2K+1}\}$

定义[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}\cup D'_{K+1}}$ 及其[[MK153][结构]] $\mathcal{M}'_{K+1}=\left<M,I'_{K+1}\right>,\mathcal{N}'_{K+1}=\left<N,J'_{K+1}\right>$

其中 $I'_{K+1}=I_K\cup\{\left<d_{2K+1},m^*_{2K+1}\right>\},J'_{K+1}=J_K\cup\{\left<d_{2K+1},n^*_{2K+1}\right>\}$ 则：

（1） 根据归纳假设（1）可得 $I'_{K+1}=I\cup\left\{\left<d_i,m^*_i\right>\big|1\leq i\leq 2K+1\right\}$

     以及 $J'_{K+1}=J\cup\left\{\left<d_i,n^*_i\right>\big|1\leq i\leq 2K+1\right\}$

（2） 根据归纳假设 $\{m_1,...,m_K\}\subset\{m^*_1,...,m^*_{2K}\}$ ，则若 $m_{K+1}\in M-\{m^*_1,...,m^*_{2k}\}$

     则显然最小下标为 $K+1$ ，否则最小下标必大于 $K+1$

     综上所述，即有 $\{m_1,...,m_{K+1}\}\subset\{m^*_1,...,m^*_{2K+1}\}$ 

（3） 对于任意 $1\leq i\leq 2K$ 由于 $m^*_{2K+1}\in M-\{m^*_1,...,m^*_{2k}\}$ 则有 $m^*_i\ne m^*_{2K+1}$

     [[MK434][同理]]可证 $n^*_i\ne n^*_{2K+1}$ ，则易证对于任意 $1\leq i<j\leq 2K+1$ 均有 $m^*_i\ne m^*_j,n^*_i\ne n^*_j$

（4） [[MK435][同理]]可证 $\mathcal{L}_{\mathcal{A}\cup D'_{K+1}}$ 下 $\text{Th}(\mathcal{N}'_{K+1})=\text{Th}(\mathcal{M}'_{K+1})$

******** 反向取

定义 $n^*_{2K+1}$ 为 $N-\{n^*_1,...,n^*_{2K+1}\}$ 中下标最小的元素素并定义 $\Gamma_{K+1}=\left\{\phi(x_1)\big|\mathcal{N}_K\vDash\phi[n^*_{2K+2}]\right\}$

则跟上一步同理可证存在 $m^*_{2K+2}\in M$ 且可定义 $D_{K+1}=\{d_1,...,d_{2K+2}\}$

[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}\cup D_{K+1}}$ 及其[[MK153][结构]] $\mathcal{M}_{K+1}=\left<M,I_{K+1}\right>,\mathcal{N}_{K+1}=\left<N,J_{K+1}\right>$ 满足：

（1） $I_{K+1}=I\cup\left\{\left<d_i,m^*_i\right>\big|1\leq i\leq 2K+2\right\},J_{K+1}=J\cup\left\{\left<d_i,n^*_i\right>\big|1\leq i\leq 2K+2\right\}$

（2） $\{m_1,...,m_{K+1}\}\subset\{m^*_1,...,m^*_{2K+2}\},\{n_1,...,n_{K+1}\}\subset\{n^*_1,...,n^*_{2K+2}\}$

（3） 对于任意 $1\leq i<j\leq 2K+2$ 均有 $m^*_i\ne m^*_j,n^*_i\ne n^*_j$

（4） $\mathcal{L}_{\mathcal{A}\cup D_{K+1}}$ 下 $\text{Th}(\mathcal{N}_{K+1})=\text{Th}(\mathcal{M}_{K+1})$

****** $e$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]

对于任意 $n_i\in N$ 根据上一步（2）有 $n_i\in\{n^*_1,...,n^*_{2i}\}$ 设 $n_i=n^*_j,1\leq j\leq 2i$

则根据上一步（1）可得对于任意 $k\geq 2i$ 均有 $I_{k}(d_j)=m^*_j,J_k(d_j)=n^*_j=n_i$ 即 $e^{m^*_j}=n_i$

故可得 $e$ 是[[~/文档/note/离散数学/lssx.org::MK179][满射]]

对于任意 $\{m_i,m_j\}\subset M,i\ne j$ 取 $z=\max(i,j)$ 则根据上一步（2）有 $\{m_i,m_j\}\subset\{m^*_1,...,m^*_{2z}\}$

由于上一步（3），故必有 $i'\ne j'$ 满足 $m_i=m^*_{i'},m_j=m^*_{j'}$ ，则有 $e(m_i)=n^*_{i'},e(m_j)=n^*_{j'}$

由于 $i'\ne j'$ ，根据上一步（3）可得 $n^*_{i'}\ne n^*_{j'}$ ，即 $e$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

综上所述 $e$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]

****** 证明结论

对于任意 $\phi(x_1,...,x_p)\in\mathcal{L}_\mathcal{A}$ 任意 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash\phi$ 定义 $v(x_i)=m_{j_i}$ 取 $k=\max(j_1,...,j_p)$

根据[[MK436][之前证明]]取 $D_k=\{d_1,...,d_{2k}\}$ [[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}\cup D_k}$ 及其[[MK153][结构]] $\mathcal{M}_k=\left<M,I_k\right>,\mathcal{N}_k=\left<N,J_k\right>$

其中 $I_k=I\cup\left\{\left<d_i,m^*_i\right>\big|1\leq i\leq 2k\right\},J_k=J\cup\left\{\left<d_i,n^*_i\right>\big|1\leq i\leq 2k\right\}$

根据[[MK436][之前证明]]（2）可得存在 $j'_1,...j'_n$ 满足 $I_k(d_{j'_i})=m^*_{j'_i}=m_{j_i}, J_k(d_{j'_i})=n^*_{j'_i}$

[[MK431][类似可证]] $\mathcal{M},\mathcal{N}$ 分别是 $\mathcal{M}_k,\mathcal{N}_k$ 的[[MK295][裁剪结构]]，则根据[[MK296][定理1]]可得 $\mathcal{L}_\mathcal{A}$ 下 $\left<\mathcal{M},v\right>\vDash\phi$

的充要条件是 $\mathcal{L}_{\mathcal{A}\cup D_k}$ 下 $\left<\mathcal{M}_k,v\right>\vDash\phi$ 由于 $I_k(d_{j'_i})=v(x_i)$ 故根据[[MK176][替换定理]]

可得 $\left<\mathcal{M}_k,v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M}_k,v\right>\vDash\phi\left(\left<x_1,...,x_p\right>,\left<d_{j'_1},...,d_{j'_p}\right>\right)$ 由于 $\phi$ 是[[MK322][关于 $x_1,...,x_p$ 的表达式]]

故可得 $\phi\left(\left<x_1,...,x_p\right>,\left<d_{j'_1},...,d_{j'_p}\right>\right)$ 不含[[MK140][自由变元]]，即为[[MK144][语句]]。根据[[MK436][之前证明]]（4）

可得充要条件是 $\mathcal{N}_k\vDash\phi\left(\left<x_1,...,x_p\right>,\left<d_{j'_1},...,d_{j'_p}\right>\right)$ 又根据 $e(v(x_i))=n^*_{j'_i}=J_k(d_{j'_i})$

故根据[[MK176][替换定理]]可得充要条件是 $\left<\mathcal{N}_k,v\cdot e\right>\vDash\phi$ ，根据[[MK296][定理1]]， $\mathcal{N}$ 是 $\mathcal{N}_k$ 的[[MK295][裁剪结构]]以及 $\phi\in\mathcal{L}_\mathcal{A}$ 

可得 $\mathcal{L}_{\mathcal{A}\cup D_k}$ 下 $\left<\mathcal{N}_k,v\cdot e\right>\vDash\phi$ 的充要条件是 $\mathcal{L}_\mathcal{A}$ 下 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$

综上所述，对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 以及 $\mathcal{M}$ 的[[MK154][赋值]] $v$ ， $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N},v\cdot e\right>\vDash\phi$

又根据上一步证明有 $e$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]，则根据[[MK280][定理2]]可得 $e$ 是[[MK274][同构函数]]，即 $\mathcal{M},\mathcal{N}$ [[MK274][同构]]
 
***** 推论

[[MK220][一阶可数理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 是[[MK264][完全的]]且只有[[MK221][无限模型]]，则 $\mathcal{T}$ 是 $|\mathbb{N}|$ [[MK437][等势同构理论]]的充要条件是

$\mathcal{T}$ 的每一个[[MK221][可数模型]]均是[[MK394][可数饱和]]的

****** 证明

******* 充分

由于 $\mathcal{T}$ 是[[MK264][完全的]]且只有[[MK221][无限模型]]以及是 $|\mathbb{N}|$ [[MK437][等势同构理论]]，则根据[[MK441][有限类型空间定理]]，[[MK440][根本型定理]]可得对于任意 $n\in\mathbb{N}$

仅有[[~/文档/note/离散数学/lssx.org::MK82][有限]]个包含 $T$ 的[[MK322][类型]] $\Gamma(x_1,...,x_n)\supset T$

同理根据[[MK495][存在性定理]]可得 $\mathcal{T}$ 存在一个[[MK221][可数]]且[[MK394][饱和]]模型 $\mathcal{M}$ ，又由于任意 $\mathcal{T}$ 的[[MK221][可数模型]]均与 $\mathcal{M}$ [[MK274][同构]]

则根据[[MK443][引理16]]可得任意 $\mathcal{T}$ 的[[MK221][可数模型]]均是[[MK394][可数饱和]]的

******* 必要

任取 $\mathcal{T}$ 的两个[[MK221][可数模型]] $\mathcal{M}_1,\mathcal{M}_2$ ，对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 若有 $\mathcal{M}_1\vDash\theta$ 则显然 $\mathcal{M}_1\vDash T\cup\{\theta\}$

由于 $\mathcal{T}$ 是[[MK264][完全的]]则根据[[MK270][引理6]]可得 $T\vdash\theta$ 则根据[[MK257][完备性]]以及 $\mathcal{M}_2\vDash T$ 可得有 $\mathcal{M}_2\vDash\theta$

同理可证若 $\mathcal{M}_2\vDash\theta$ 则有 $\mathcal{M}_1\vDash\theta$ ，即任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 有 $\mathcal{M}_2\vDash\theta$ 的充要条件是 $\mathcal{M}_1\vDash\theta$

即 $\mathcal{M}_1,\mathcal{M}_2$ [[MK281][同样]]，又有 $\mathcal{M}_1,\mathcal{M}_2$ 均是[[MK394][可数饱和模型]]，故根据[[MK438][唯一性]]可得 $\mathcal{M}_1,\mathcal{M}_2$ [[MK274][同构]]

** 量词消去

*** 定义

**** [[MK129][表达式]]在[[MK220][一阶理论]]下等价<<MK396>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]，则对于任意 $\{\phi,\psi\}\subset\mathcal{L}_\mathcal{A}$ 若有 $T\vdash(\phi\leftrightarrow\psi)$

则称 $\phi,\psi$ 在 $\mathcal{T}$ 下等价，其中 $(\phi\leftrightarrow\psi)$ 是 $((\phi\to\psi)\land(\psi\to\phi))$ 的简写

**** 适合量词消去<<MK397>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]，对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 存在不带[[MK106][量词符号]]的 $\psi\in\mathcal{L}_\mathcal{A}$

满足 $\psi$ 与 $\phi$ 在 $\mathcal{T}$ 下[[MK396][等价]]，则称 $\mathcal{T}$ 适合量词消去

**** 极小结构<<MK460>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]，若存在 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]] $\mathcal{M}$ 满足对于任意其他 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{N}$ 

有 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK300][嵌入]]，则称 $\mathcal{M}$ 是 $\mathcal{T}$ 的极小结构

*** 引理

**** 引理1<<MK449>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]，对于任意 $\{\phi,\psi\}\subset\mathcal{L}_\mathcal{A}$ 若对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$

均有 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\psi$ 则有 $T\vdash(\phi\leftrightarrow\psi)$  

***** 证明

显然有 $\left<\mathcal{M},v\right>\vDash(\phi\to\psi),\left<\mathcal{M},v\right>\vDash(\psi\to\phi)$ ，根据[[MK170][逻辑与]]可得 $\left<\mathcal{M},v\right>\vDash((\phi\to\psi)\land(\psi\to\phi))$

即 $\left<\mathcal{M},v\right>\vDash(\phi\leftrightarrow\psi)$ 。综上所述，对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash(\phi\leftrightarrow\psi)$

则根据[[MK257][完备性]]可得 $T\vdash(\phi\leftrightarrow\psi)$

**** 引理2<<MK488>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]，对于任意 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 以下命题等价：

（1） $T\vdash(\forall x_1(...(\forall x_n\phi)...))$

（2） $T\vdash\phi$

***** 证明

****** （1）证（2）

若有 $T\vdash(\forall x_1(...(\forall x_n\phi)...))$ 根据[[MK199][推论]]有限次使用[[MK197][特化公理]]可得 $T\vdash\phi$

****** （2）证（1）

若有 $T\vdash\phi$ 则根据[[MK257][完备性]]可得对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$

由于 $v$ 的任意性以及[[MK158][满足]]易证 $\mathcal{M}\vDash(\forall x_1(...(\forall x_n\phi)...))$ 又根据 $\mathcal{M}$ 的任意性以及[[MK257][完备性]]可得 $T\vdash(\forall x_1(...(\forall x_n\phi)...))$

**** 引理3<<MK502>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ [[MK397][适合量词消去]]，对于任意 $\mathcal{L}_\mathcal{A}$ 的[[MK406][常元扩张]]语言 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 其中 $C_X$ 为扩张的[[MK108][常元符号]]

其扩张[[MK220][一阶理论]] $\mathcal{T}_{C_X}=\left<\mathcal{L}_{\mathcal{A}_{C_X}},\mathbb{L}_{\mathcal{A}_{C_X}},T,T^*\right>$ 亦[[MK397][适合量词消去]]

***** 证明

对于任意 $\phi\in\mathcal{L}_{\mathcal{A}_{C_X}}$ 设其总所有的[[MK107][变元符号]]为 $x_1,...,x_n$ ，其中在 $C_X$ 中的[[MK108][常元符号]]为 $c_1,...,c_m$

则定义 $\phi'=\phi(\left<c_{a_1},...,c_{a_m}\right>\cong\left<x_{n+1},...,x_{n+m}\right>)$

即将 $\phi$ 中所有 $C_X$ 中的[[MK108][常元符号]]做[[MK411][替换]]为 $\phi$ 中未出现过的[[MK107][变元符号]]，则显然必为[[MK140][自由变元]]

显然 $\phi'\in\mathcal{L}_\mathcal{A}$ 由于 $\mathcal{T}$ [[MK397][适合量词消去]]，则存在 $\psi'\in\mathcal{L}_\mathcal{A}$ 使得 $T\vdash(\phi'\leftrightarrow\psi')$

对于任意 $\mathcal{T}_{C_X}$ 的[[MK221][模型]] $\mathcal{M}_X=\left<M,I_X\right>$ 定义 $I=I_X-\left\{\left<c,I_X(c)\right>\big|c\in C_X\right\}$ 显然 $\mathcal{M}=\left<M,I\right>$ 是 $\mathcal{L}_\mathcal{A}$ 的[[MK153][结构]]

则根据[[MK501][引理3]]可得 $\mathcal{M}$ 是 $\mathcal{T}$ 的[[MK221][模型]]，根据[[MK257][完备性]]可得 $\mathcal{M}\vDash(\phi'\leftrightarrow\psi')$

对于任意 $\mathcal{M}_X$ 的[[MK154][赋值]] $v$ 显然亦为 $\mathcal{M}$ 的[[MK154][赋值]]，则有 $\left<\mathcal{M},v\right>\vDash(\phi'\leftrightarrow\psi')$

由于 $(\phi'\leftrightarrow\psi')\in\mathcal{L}_\mathcal{A}$ 则根据[[MK501][引理3]]可得 $\left<\mathcal{M}_X,v\right>\vDash(\phi'\leftrightarrow\psi')$ 假设 $(\phi'\leftrightarrow\psi')$ 中所有[[MK140][自由变元]]均在 $x_1,...,x_k$ 中

则对于任意 $\mathcal{M}_X$ 的[[MK154][赋值]] $\mu$ 满足对于任意 $n+1\leq i\leq n+m$ 均有 $\mu(x_i)=I_X(c_{a_1})$ 亦有 $\left<\mathcal{M}_X,\mu\right>\vDash(\phi'\leftrightarrow\psi')$

则根据[[MK168][局部确定]]以及[[MK176][替换定理]]可得 $\left<\mathcal{M}_X,\mu\right>\vDash(\phi\leftrightarrow\psi)$ 显然 $(\phi\leftrightarrow\psi)$ 中不含任意 $x_i,n+1\leq i\leq n+m$ 的有[[MK140][自由变元]] 

又由于 $\mu$ 的定义，结合[[MK168][局部确定]]可得对于任意 $\mathcal{M}_X$ 的[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M}_X,v\right>\vDash(\phi\leftrightarrow\psi)$

又根据 $\mathcal{M}_X$ 的任意性，根据[[MK257][完备性]]可得在 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 下亦有 $T\vdash(\phi\leftrightarrow\psi)$

*** 定理

**** 定理1（等价替换）<<MK392>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]，对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 满足：

（1） 存在[[MK139][子表达式]] $\phi_1,...,\phi_n$

（2） 存在 $\theta_1,...,\theta_n$ 为 $\mathcal{L}_\mathcal{A}$ 的[[MK129][表达式]]

（3） 对于任意 $1\leq i \leq n$ 有 $T\vdash(\phi_i\leftrightarrow\theta_i)$

（4） 定义 $\theta$ 为 $\phi$ 中任取 $1$ 个 $\phi_i$ 替换为 $\theta_i$ 后的表达式，替换不重叠

则 $T\vdash(\phi\leftrightarrow\psi)$

***** 证明 

由于替换不重叠，故可定义 $\psi_1,...,\psi_n$ 为依次替换 $\phi_1,...,\phi_n$ 后的[[MK115][符号串]]，则有 $\psi_n=\theta$

定义 $\psi_0=\phi$ ，则对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 根据[[MK257][完备性]]

可得 $\left<\mathcal{M},v\right>\vDash\phi_i$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\theta_i$ 则根据[[MK179][替换定理]]

可得 $\left<\mathcal{M},v\right>\vDash\psi_i$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\psi_{i+1}$

则显然易证 $\left<\mathcal{M},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\theta$ 根据[[MK158][满足]]易证 $\left<\mathcal{M},v\right>\vDash(\phi\to\theta)$ 以及 $\left<\mathcal{M},v\right>\vDash(\theta\to\phi)$  

根据[[MK170][逻辑与]]可得 $\left<\mathcal{M},v\right>\vDash((\phi\to\theta)\land(\theta\to\phi))$ 

综上所述，对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 有 $\left<\mathcal{M},v\right>\vDash((\phi\to\theta)\land(\theta\to\phi))$

根据足 $T$ [[MK222][一致]]以及[[MK257][完备性]]可得 $T\vdash(\phi\leftrightarrow\psi)$

**** 定理2<<MK444>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]，则以下命题等价：

（1） $\mathcal{T}$ [[MK397][适合量词消去]]

（2） 任意不含[[MK106][量词]]的[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 均存在不含[[MK106][量词]]的[[MK129][表达式]] $\psi$ 满足 $T\vdash((\forall x_i \phi)\leftrightarrow\psi)$

***** 证明

****** 充分<<MK445>>

若 $\mathcal{T}$ [[MK397][适合量词消去]]，由于 $(\forall x_i \phi)\in\mathcal{L}_\mathcal{A}$ 则存在不带[[MK106][量词符号]]的 $\psi\in\mathcal{L}_\mathcal{A}$

满足足 $\psi$ 与 $\phi$ 在 $\mathcal{T}$ 下[[MK396][等价]]，即 $T\vdash((\forall x_i \phi)\leftrightarrow\psi)$

****** 必要<<MK446>>

对于任意[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ ，定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数。

则根据以下证明以及数学归纳法可得 $\mathcal{T}$ [[MK397][适合量词消去]]

******* $z(\phi)=1$ 时

根据[[MK132][可读性]]可得必为[[MK129][原始表达式]]，故 $\phi$ 不含[[MK106][量词]]，则根据[[MK197][自蕴含]]显然 $T\vdash((\phi\to\phi)\land(\phi\to\phi))=(\phi\leftrightarrow\phi)$

******* 归纳假设

对于任意 $1<z(\phi)<n$ 均存在不含[[MK106][量词]]的 $\psi\in\mathcal{L}_\mathcal{A}$ 满足 $T\vdash(\phi\leftrightarrow\psi)$

******* $z(\phi)=n$ 时

根据[[MK132][可读性]]原理有且仅有以下情况

******** $\phi=(\lnot\psi)$ 时

显然 $z(\psi)<n$ ，则根据归纳假设存在不含[[MK106][量词]]的 $\psi'\in\mathcal{L}_\mathcal{A}$ 满足 $T\vdash(\psi\leftrightarrow\psi')$

根据[[MK392][等价替换]]可得 $T\vdash((\lnot\psi)\leftrightarrow(\lnot\psi'))$ 显然 $(\lnot\psi')$ 亦不含[[MK106][量词]]

******** $\phi=(\psi_1\to\psi_2)$ 时

显然 $z(\psi_1)<n,z(\psi_2)<n$ ，根据归纳假设存在不含[[MK106][量词]]的 $\{\psi'_1,\psi'_2\}\subset\mathcal{L} _\mathcal{A}$

满足 $T\vdash(\psi_1\leftrightarrow\psi'_1),T\vdash(\psi_2\leftrightarrow\psi'_2)$

根据[[MK392][等价替换]]可得 $T\vdash((\psi_1\to\psi_2)\leftrightarrow(\psi'_1\to\psi'_2))$ 显然 $(\psi'_1\to\psi'_2)$ 亦不含[[MK106][量词]]

******** $\phi=(\forall x_i\psi)$ 时

显然 $z(\psi)<n$ ，则根据归纳假设存在不含[[MK106][量词]]的 $\psi'\in\mathcal{L}_\mathcal{A}$ 满足 $T\vdash(\psi\leftrightarrow\psi')$

根据[[MK392][等价替换]]可得 $T\vdash((\forall x_i\psi)\leftrightarrow(\forall x_i\psi'))$ 又由于 $\psi'$ 不含[[MK106][量词]]，根据条件（2）

可得存在 $\psi''\in\mathcal{L}_\mathcal{A}$ 满足 $T\vdash((\forall x_i\psi')\leftrightarrow\psi'')$ 则根据[[MK393][引理4]]易证 $T\vdash((\forall x_i\psi)\leftrightarrow\psi'')$

***** 推论<<MK459>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]，则以下命题等价：

（1） $\mathcal{T}$ [[MK397][适合量词消去]]

（2） 任意不含[[MK106][量词]]的[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 均存在不含[[MK106][量词]]的[[MK129][表达式]] $\psi$ 满足 $T\vdash((\exists x_i \phi)\leftrightarrow\psi)$

****** 证明

******* 充分

[[MK445][同理可证]]

******* 必要

对于不含[[MK106][量词]]的[[MK129][表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 根据[[MK182][量词转换]]以及[[MK257][完备性]]易证 $T\vdash((\forall x_i\phi)\leftrightarrow(\lnot(\exists x_i(\lnot\phi))))$

根据条件（2）可得均存在不含[[MK106][量词]]的[[MK129][表达式]] $\psi$ 满足 $T\vdash((\exists x_i(\lnot\phi))\leftrightarrow\psi)$

根据[[MK392][等价替换]]可得 $T\vdash((\forall x_i\phi)\leftrightarrow(\lnot\psi))$ 显然 $(\lnot\psi)$ 不含[[MK106][量词]]

综上所述，条件（2）可推出[[MK444][定理2]]中的条件（2），则根据[[MK444][定理2]]可证 $\mathcal{T}$ [[MK397][适合量词消去]]

**** 定理3<<MK484>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]，若有：

（1） $\mathcal{T}$ 存在[[MK460][极小结构]]

（2） $\mathcal{T}$ [[MK397][适合量词消去]]

则 $\mathcal{T}$ 是[[MK264][完全理论]]

***** 证明

任取[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ ，任取 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ ，

根据条件（1）存在 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}_0=\left<M_0,I_0\right>$ 是[[MK460][极小结构]]

根据条件（2）可得存在不带[[MK106][量词]]的 $\psi$ 满足 $T\vdash(\theta\leftrightarrow\psi)$ ，根据[[MK312][定理]]可得存在 $\mathcal{M}',\mathcal{N}'$ 分别是 $\mathcal{M},\mathcal{N}$ 的[[MK282][子结构]]

且与 $\mathcal{M}_0$ [[MK274][同构]]，定义[[MK274][同构映射]]分别为 $e_1,e_2$ 。根据[[MK274][引理]]可得其[[~/文档/note/离散数学/lssx.org::MK188][逆函数]] $e^{-1}_1,e^{-1}_2$ 亦为 $\mathcal{M}',\mathcal{N}'$ 到 $\mathcal{M}_0$ 的[[MK274][同构映射]]

对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 若有 $\mathcal{M}\vDash\theta$ ，则对于任意 $\mathcal{M}_0$ 的[[MK154][赋值]] $\mu$ 有 $\mu\cdot e^{-1}_1$ 是 $\mathcal{M}$ 的[[MK154][赋值]]，又由于 $e_1$ 是 $M'$ 到 $M_0$ 的映射

故可得 $e_1^{-1}:M_0\to M'$ 故有 $\mu\cdot e^{-1}_1$ 亦为 $\mathcal{M}'$ 的[[MK154][赋值]]。

又由于 $\mathcal{M}\vDash\theta$ 的充要条件是对于任意 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash\theta$ ，故有 $\left<\mathcal{M},\mu\cdot e^{-1}_1\right>\vDash\theta$

根据 $T\vdash(\theta\leftrightarrow\psi)$ 以及[[MK257][完备性]]可得 $\left<\mathcal{M},\mu\cdot e^{-1}_1\right>\vDash(\theta\leftrightarrow\psi)$ 根据[[MK158][满足]]有 $\left<\mathcal{M},\mu\cdot e^{-1}_1\right>\vDash\psi$ 

由于 $\psi$ 不带[[MK106][量词]]，则根据[[MK461][推论]]可得 $\left<\mathcal{M}',\mu\cdot e^{-1}_1\right>\vDash\psi$ ，又根据[[MK276][定理1]]可得 $\left<\mathcal{M}_0,\mu\cdot e^{-1}_1\cdot e_1\right>\vDash\psi$ 即 $\left<\mathcal{M}_0,\mu\right>\vDash\psi$ 。

综上所述，对于任意 $\mathcal{M}_0$ 的[[MK154][赋值]] $\mu$ 均有 $\left<\mathcal{M}_0,\mu\right>\vDash\psi$

又根据[[MK276][定理1]]可得 $\left<\mathcal{N}',\mu\cdot e_2\right>\vDash\psi$ 根据[[MK461][推论]]可得 $\left<\mathcal{N},\mu\cdot e_2\right>\vDash\psi$

根据 $T\vdash(\theta\leftrightarrow\psi)$ 以及[[MK257][完备性]]可得 $\left<\mathcal{N},\mu\cdot e_2\right>\vDash\theta$ ，根据 $\theta$ 是[[MK144][语句]]以及[[MK169][推论]]可得 $\mathcal{N}\vDash\theta$

若有 $\mathcal{N}\vDash\theta$ 同理亦可证 $\mathcal{M}\vDash\theta$

综上所述，对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ ，任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M},\mathcal{N}$ 有 $\mathcal{M}\vDash\theta$ 的充要条件是 $\mathcal{N}\vDash\theta$  

即对于任意[[MK144][语句]] $\theta\in\mathcal{L}_\mathcal{A}$ 若 $T\vdash\theta$ 则根据[[MK257][完备性]]对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 有 $\mathcal{M}\vDash\theta$ 

根据[[MK158][满足]]可得 $\mathcal{M}\not\vDash(\lnot\theta)$ ，则根据[[MK257][完备性]]以及 $\mathcal{M}$ 任意性可得 $T\not\vdash(\lnot\theta)$

若 $T\vdash(\lnot\theta)$ 则同理可证 $T\not\vdash\theta$ 。

综上所述， $T\vdash\theta$ 与 $T\vdash(\lnot\theta)$ 有且仅有一个成立，则根据[[MK266][引理1]]可得 $\mathcal{T}$ 是[[MK264][完全理论]]

**** 定理4<<MK483>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]，对于任意 $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 则以下命题等价

（1） 存在不含[[MK106][量词]]的 $\psi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 与 $\phi$ [[MK396][等价]]

（2） 对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$ 若有[[MK282][子结构]] $\mathcal{M}'=\left<M',I'\right>,\mathcal{N}' =\left<N',J'\right>$ [[MK274][同构]]

     设同构映射为 $e$ 则对于任意 $\left<a_1,...,a_n\right>\in (M')^n$ 有 $\mathcal{M}\vDash\phi[a_1,...,a_n]$

     的充要条件是 $\mathcal{N}\vDash\phi[e(a_1),...,e(a_n)]$

***** 证明

****** 充分

若存在不含[[MK106][量词]]的 $\psi\in\mathcal{L}_\mathcal{A}$ 与 $\phi$ [[MK396][等价]]则有 $T\vdash(\phi\leftrightarrow\psi)$ 则对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$

若有 $\mathcal{M}\vDash\phi[a_1,...,a_n]$ 则根据[[MK257][完备性]]以及[[MK168][局部确定]]可得 $\mathcal{M}\vDash\psi[a_1,...,a_n]$

由于不含[[MK106][量词]]且 $\mathcal{M}'$ 是 $\mathcal{M}$ 的[[MK282][子结构]]，结合 $\left<a_1,a_2,...,a_n\right>\in (M')^n$ 根据[[MK461][推论]]可得 $\mathcal{M}'\vDash\phi[a_1,...,a_n]$ 

由于 $\mathcal{M}',\mathcal{N}'$ [[MK274][同构]]，根据[[MK276][定理1]]以及[[MK168][局部确定]]可得 $\mathcal{N}'\vDash\phi[a_1,...,a_n]$ 又根据[[MK461][推论]]可得 $\mathcal{N}\vDash\phi[a_1,...,a_n]$

若有 $\mathcal{N}\vDash\phi[a_1,...,a_n]$ 则同理可证 $\mathcal{M}\vDash\phi[a_1,...,a_n]$ ，即条件（2）成立

****** 必要

对于任意 $\phi\in\mathcal{L}_\mathcal{A}$ 根据以下步骤均可找到不含[[MK106][量词]]的 $\psi\in\mathcal{L}_\mathcal{A}$ 满足 $T\vdash(\phi\leftrightarrow\psi)$

******* $T\vdash\phi$

根据[[MK197][恒等律]] $T\vdash(x_1\hat{=}x_1)$ 则易证 $T\vdash(\phi\leftrightarrow(x_1\hat{ =}x_1))$

******* $T\vdash(\lnot\phi)$

任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 根据[[MK257][完备性]]有 $\left<\mathcal{M},v\right>\vDash(\lnot\phi)$ 根据[[158][满足]]可得 $\left<\mathcal{M},v\right>\not\vDash\phi$

显然亦有 $\left<\mathcal{M},v\right>\not\vDash(\lnot(x_1\hat{=}x_1))$ 即有 $\left<\mathcal{M},v\right>\vDash((\phi\to(\lnot(x_1\hat{ =}x_1)))\land((\lnot(x_1\hat{ =}x_1))\to\phi))=(\phi\leftrightarrow(\lnot(x_1\hat{ =}x_1)))$

即对于任意 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash(\phi\leftrightarrow(\lnot(x_1\hat{ =}x_1)))$ 根据[[MK257][完备性]]有 $T\vdash(\phi\leftrightarrow(\lnot(x_1\hat{ =}x_1)))$ 

******* 两者均不是

******** 定义 $\Gamma$ 证明 $T\cup\Gamma$ [[MK222][一致]]且非空<<MK463>>

对于任意 $\psi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 若满足 $T\vdash(\phi\to\psi)$ 且 $\psi$ 不含[[MK106][量词]]，则 $\psi\in\Gamma$ 否则 $\psi\not\in\Gamma$

由于 $T\not\vdash\phi$ 根据[[MK213][归谬定理]]可得 $T\cup\{\phi\}$ [[MK222][一致]]，根据[[MK211][演绎定理]]可得对于任意 $\psi\in\Gamma$ 有 $T\cup\{\phi\}\vdash\psi$

由于 $T\cup\{\phi\}$ [[MK222][一致]]则根据[[MK255][完备性]]可得存在[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 使得 $\left<\mathcal{M},v\right>\vDash T\cup\{\phi\}$

根据[[MK257][完备性]]可得亦有 $\left<\mathcal{M},v\right>\vDash \Gamma$ 即 $\left<\mathcal{M},v\right>\vDash T\cup\Gamma\cup\{\phi\}$ 根据[[MK255][完备性]]可得 $T\cup\Gamma\cup\{\phi\}$ [[MK222][一致]]

即 $T\cup\Gamma$ [[MK222][一致]]。

由于 $T\cup\{\phi\}$ [[MK222][一致]]且根据[[MK197][恒等律]] $T\cup\{\phi\}\vdash(x_1\hat{=}x_1)$ ，故根据[[MK211][演绎定理]] $T\vdash(\phi\to(x_1\hat{ =}x_1))$

则显然 $(x_1\hat{=}x_1)\in\Gamma$ ，故 $\Gamma$ 非空

******** 定义 $\mathcal{L}_{\mathcal{A}\cup D},\phi^*,\Gamma^*$ 且 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $T\cup\Gamma^*$ [[MK222][一致]]<<MK464>>

定义 $D=\{d_1,...,d_n\}$ 是[[MK108][常元符号]]且 $D\cap\mathcal{A}=\varnothing$ ，则有[[MK151][一阶语言]] $\mathcal{L}_{\mathcal{A}\cup D}$ 是 $\mathcal{L}_{\mathcal{A}}$ 的[[MK152][扩展语言]]

根据[[MK463][上一步]]可得 $T\cup\Gamma\cup\{\phi\}$ [[MK222][一致]]，则有 $\mathcal{L}_{\mathcal{A}}$ 下[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及[[MK154][赋值]] $v$ 使 $\left<\mathcal{M},v\right>\vDash T\cup\Gamma\cup\{\phi\}$

定义 $I_D=I\cup\left\{\left<d_i,v(x_i)\right>\big|1\leq i\leq n\right\}$ 则显然 $\mathcal{M}_D=\left<M,I_D\right>$ 是 $\mathcal{L}_{\mathcal{A}\cup D}$ 下的[[MK153][结构]]

且 $\mathcal{M}_D$ 是 $\mathcal{M}$ 的[[MK295][扩充结构]]，根据[[MK296][定理1]]可得 $v$ 亦为 $\mathcal{M}_D$ 的[[MK154][赋值]]且有 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $\left<\mathcal{M}_D,v\right>\vDash T\cup\Gamma\cup\{\phi\}$

定义 $\Gamma^*=\left\{\psi\left(\left<x_1,...,x_n\right>,\left<d_1,...,d_n}\right>\right)\big|\psi\in\Gamma\right\},\phi^*=\phi\left(\left<x_1,...,x_n\right>,\left<d_1,...,d_n}\right>\right)$

根据 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $\left<\mathcal{M}_D,v\right>\vDash T\cup\Gamma\cup\{\phi\}$ ， $I_D(d_i)=v(x_i)$ 以及[[MK176][替换定理]]可得 $\mathcal{M}_D\vDash T\cup\Gamma^*\cup\{\phi^*\}$

根据[[MK255][完备性]]可得 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $T\cup\Gamma^*\cup\{\phi^*\}$ [[MK222][一致]]

********* 性质1<<MK471>>

若 $\mathcal{L}_{\mathcal{A}\cup D}$ 下有 $T\vdash\phi$ 且 $\phi$ 中 $x_1,...,x_n$ [[MK150][可替换]] $d_1,...,d_n$

则有 $\mathcal{L}_\mathcal{A}$ 下 $T\vdash\phi(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)$

********** 证明

对于任意 $\mathcal{L}_\mathcal{A}$ 下 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 使得 $\left<\mathcal{M},v\right>\vDash T$

则定义 $I_D=I\cup\left\{\left<d_i,v(x_i)\right>\big|1\leq i\leq n\right\}$ 以及 $\mathcal{M}_D=\left<M,I_D\right>$

显然 $\mathcal{M}_D$ 是 $\mathcal{L}_{\mathcal{A}\cup D}$ 下的[[MK153][结构]]。显然 $\mathcal{L}_{\mathcal{A}\cup D}$ 是 $\mathcal{L}_{\mathcal{A}}$ 的[[MK152][扩展语言]]

则可得 $\mathcal{M}_D$ 是 $\mathcal{M}$ 的[[MK295][扩充结构]]，根据[[MK296][定理1]]可得 $v$ 亦为 $\mathcal{M}_D$ 的[[MK154][赋值]]且有 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $\left<\mathcal{M}_D,v\right>\vDash T$

根据 $\mathcal{L}_{\mathcal{A}\cup D}$ 下有 $T\vdash\phi$ 以及[[MK257][完备性]]可得 $\left<\mathcal{M}_D,v\right>\vDash\phi$

由于 $I_D(d_i)=v(x_i)$ 且 $x_1,...,x_n$ [[MK150][可替换]] $d_1,...,d_n$ ，则根据[[MK176][替换定理]]

可得 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $\left<\mathcal{M}_D,v\right>\vDash\phi(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)$ 显然 $\phi(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)\in\mathcal{L}_\mathcal{A}$

又根据[[MK296][定理1]]可得 $\mathcal{L}_{\mathcal{A}}$ 下 $\left<\mathcal{M},v\right>\vDash\phi(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)$

综上所述，对于任意 $\mathcal{L}_\mathcal{A}$ 下 $\mathcal{T}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 若有 $\left<\mathcal{M},v\right>\vDash T$

则有 $\left<\mathcal{M},v\right>\vDash\phi(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)$ ，则根据[[MK257][完备性]]

可得 $T\vdash\phi(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)$

********* 性质2<<MK479>>

$\mathcal{L}_{\mathcal{A}\cup D}$ 下 $T\not\vdash\phi^*$

********** 证明

假设 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $T\vdash\phi^*$

根据 $\phi^*=\phi\left(\left<x_1,...,x_n\right>,\left<d_1,...,d_n}\right>\right)$ 以及 $\phi\in\mathcal{L}_\mathcal{A}$ 可得 $d_i$ 不在 $\phi$ 中出现

故可得 $\phi^*$ 中任意 $d_i$ 的位置均为 $\phi$ 中 $x_i$ 的[[MK141][自由出现]]，

故 $\phi^*$ 中 $x_1,...,x_n$ [[MK150][可替换]] $d_1,...,d_n$ 且 $\phi=\phi^*\left(\left<d_1,...,d_n}\right>,\left<x_1,...,x_n\right>\right)$

则根据[[MK471][性质1]]可得 $\mathcal{L}_\mathcal{A}$ 下 $T\vdash\phi$ ，显然与本标题两者均不是矛盾，故假设不成立

即 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $T\not\vdash\phi^*$ 

******** $T\cup\Gamma^*\vdash\phi^*$

假设 $T\cup\Gamma^*\not\vdash\phi^*$ 则根据[[MK213][归谬定理]]可得 $T\cup\Gamma^*\cup\{(\lnot\phi^*)\}$ [[MK222][一致]]，根据[[MK255][完备性]]可得 $\mathcal{L}_{\mathcal{A}\cup D}$ 下

存在[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 及其[[MK154][赋值]] $v$ 使得 $\left<\mathcal{M},v\right>\vDash T\cup\Gamma^*\cup\{(\lnot\phi^*)\}$

由于均为[[MK144][语句]]，则根据[[MK169][推论]]得可 $\mathcal{M}\vDash T\cup\Gamma^*\cup\{(\lnot\phi^*)\}$ 则由以下证明：

（1） 根据[[MK478][以下证明]]可得 $\mathcal{L}_{\mathcal{A}}$ 的[[MK153][结构]] $\mathcal{M}_\mathcal{A}=\left<M,I_\mathcal{A}\right>,\mathcal{N}_\mathcal{A}=\left<N,J_\mathcal{A}\right>,\mathcal{K}_\mathcal{A}=\left<K,L_\mathcal{A}\right>,\mathcal{K}'_\mathcal{A}=\left<K',L' _\mathcal{A}\right>$

（2） $\mathcal{K}_\mathcal{A},\mathcal{K}'_ \mathcal{A}$ [[MK274][同构]]，同构映射为 $e$

（3） 存在 $\left<a_1,...,a_n\right>\in K^n$ 满足 $\mathcal{M}_\mathcal{A}\vDash(\lnot\phi)[a_1,...,a_n],\mathcal{N}_\mathcal{A}\vDash\phi[e(a_1),...,e(a_n)]$

显然与条件（2）矛盾，故假设不成立，即 $T\cup\Gamma^*\vdash\phi^*$

********* 定义 $\mathcal{K}=\left<K,L\right>$

定义 $F,C$ 分别为 $\mathcal{A}\cup D$ 中所有的[[MK109][函数符号]]和[[MK108][常元符号]]，根据[[MK112][符号假定]]定义 $\pi_F:F\to\mathbb{N}$

********** 定义 $K$ <<MK465>>

对于任意 $i\in\mathbb{N}$ 定义 $K_{i+1}=K_i\cup\left\{I(f)(a_1,...,a_{\pi_F(f)})\big|f\in F\land \{a_1,...,a_{\pi_F}\}\subset K_i\right\}$

定义 $K_0=\left\{I(c)\big|c\in C\right\}$ ，定义 $K=\bigcup_{i\in\mathbb{N}}K_i$

********** 定义 $L$

（1） 对于任意 $c\in\mathcal{A}\cup D$ 是[[MK108][常元符号]]，定义 $L(c)=I(c)$ 显然 $I(c)\in K_0\subset K$

（2） 对于任意 $f\in\mathcal{A}\cup D$ 是[[MK109][函数符号]]，对于任意 $\left<a_1,...,a_{\pi_F(f)}\right>\subset K^{{\pi_F(f)}}$

     根据上一步定义对于任意 $a_i$ 存在 $K_{j_i}$ 满足 $a_i\in K_{j_i}$ ，定义 $i^*=\max(j_1,...,j_{\pi_F(f)})$

     显然有 $\left\{a_1,...,a_{\pi_F(f)}\right\}\subset K_{i^*}$ 且 $I(f)(a_1,...,a_{\pi_F(f)})\in K_{i^*+1}\subset K$

     则可定义 $L(f)(a_1,...,a_{\pi_F(f)})=I(f)(a_1,...,a_{\pi_F(f)})\in K$

（3） 对于任意 $p\in\mathcal{A}\cup D$ 是[[MK110][谓词符号]]，定义 $L(p)=I(p)\cap K$

********** $\mathcal{K}$ 是 $\mathcal{M}$ 的[[MK282][子结构]]<<MK472>>

显然 $K_0=\left\{I(c)\big|c\in C\right\}\subset M$ ，若 $K_i\subset M$ 则任意[[MK109][函数符号]] $f$

对于任意 $\left<a_1,...,a_{\pi_F(f)}\right>\subset K_i^{{\pi_F(f)}}$ 有 $\left<a_1,...,a_{\pi_F(f)}\right>\subset M^{{\pi_F(f)}}$

则有 $I(f)(a_1,...,a_{\pi_F(f)})\in M$ ，即 $K_{i+1}\subset M$ 则易证 $K\subset M$

又根据上一步 $L$ 的定义易证 $\mathcal{K}$ 是 $\mathcal{M}$ 的[[MK282][子结构]]

********* [[MK406][常元扩展]]，定义 $\Theta$ <<MK473>>

根据 $K$ 在 $\mathcal{L}_{\mathcal{A}\cup D}$ 下[[MK406][常元扩展]]，并定义 $\mathcal{L}_{\mathcal{A}\cup D\cup C_K}$ 下的[[MK129][表达式]]集合 $\Theta$ 满足：

（1） 任意 $\theta\in\Theta$ 是[[MK144][语句]]

（2） 任意 $\theta\in\Theta$ 或 $(\lnot\theta)\in\Theta$ 满足 $\theta$ 是[[MK129][原始表达式]]

（3） 任意 $\theta\in\Theta$ 满足 $(\mathcal{K},c_a)_{a\in K}\vDash\theta$

********** 性质1<<MK466>>

任意[[MK108][常元符号]] $c\in\mathcal{A}\cup D\cup C_K$ 均有[[MK117][项]] $\tau$ 满足：

（1） $(\mathcal{K},c_a)_{a\in K}\vDash(c\hat{=}\tau)$

（2） $\tau$ 中的[[MK108][常元符号]]均在 $\mathcal{A}\cup D$ 中，不包含[[MK107][变元符号]]

*********** 证明

根据[[MK406][常元扩展]]易证 $(\mathcal{K},c_a)_{a\in K}=\left<K,L_K\right>$ 是 $\mathcal{L}_{\mathcal{A}\cup D\cup C_K}$ 的[[MK153][结构]]

则任意 $c\in\mathcal{A}\cup D\cup C_K$ 均有 $L_K(c)\in K$ ，根据[[MK465][ $K$ 定义]]可得存在 $i\in\mathbb{N}$

满足 $L_K(c)\in K_i$

************ $i=0$

即 $L_K(c)\in K_0$ ，则根据[[MK465][ $K_0$ 定义]]存在 $\mathcal{A}\cup D$ 中[[MK108][常元]] $c'$ 满足 $L_K(c')=L_K(c)$

即有 $(\mathcal{K},c_a)_{a\in K}\vDash(c'\hat{=}c)$ ，显然 $\tau=c'$ 满足条件

************ 归纳假设

对于任意 $i<n$ 均有[[MK117][项]] $\tau$ 满足

（1） $(\mathcal{K},c_a)_{a\in K}\vDash(c\hat{=}\tau)$

（2） $\tau$ 中的[[MK108][常元符号]]均在 $\mathcal{A}\cup D$ 中，不包含[[MK107][变元符号]]

************ $i=n$

即 $L_K(c)\in K_n$ 则根据[[MK465][ $K_n$ 定义]]存在[[MK109][函数符号]] $f\in\mathcal{A}$ 以及 $\left<a_1,...,a_z\right>\in K^z_{n-1}$

满足 $L_K(c)=L_K(f)(a_1,...,a_z)$ 根据归纳假设对于任意[[MK108][常元符号]] $c_{a_i}$ 满足 $L_K(c_{a_i})=a_i\in K_{n-1}$

均存在 $\tau_i$ 满足条件，根据 $\mathcal{K}\vDash(c_{a_i}\hat{=}\tau_i)$ 以及[[MK158][满足]]有 $L_K(c_{a_i}) =\overline{L_K}(\tau_i)$ 

则显然 $L_K(c)=L_K(f)(a_1,...,a_z)=L_K(f)(\overline{L_K}(\tau_1),...,\overline{L_K}(\tau_z))$

根据[[MK158][满足]]可得 $(\mathcal{K},c_a)_{a\in K}\vDash(c\hat{=}f(\tau_1,...,\tau_z))$ ，由于 $\tau_i$ 中的[[MK108][常元符号]]均在 $\mathcal{A}\cup D$ 中，不包含[[MK107][变元符号]]

显然 $f(\tau_1,...,\tau_z)$ 亦满足条件

********** 性质2<<MK470>>

对于任意 $T\cup\Theta$ 的[[MK196][证明]] $\langle\phi_1,...,\phi_n\rangle$ 定义 $\phi'_i$ 为将 $\phi_i$ 中所有不在 $\mathcal{A}\cup D$ 中的[[MK108][常元符号]] $c$

替换为[[MK117][项]] $\tau$ 后的[[MK115][符号串]]，$c$ 与 $\tau$ 的关系满足：

（1） $(\mathcal{K},c_a)_{a\in K}\vDash(c\hat{=}\tau)$

（2） $\tau$ 中的[[MK108][常元符号]]均在 $\mathcal{A}\cup D$ 中，不包含[[MK107][变元符号]]

则有

（1） 若 $\phi_i\in\Theta$ 则有 $\phi'_i\in\Theta$

（2） $\left<\phi'_1,...,\phi'_n\right>$ 亦是 $T\cup\Theta$ 的[[MK196][证明]]

*********** 证明

************ 证明（1）

若 $\phi_1\in\Theta$ ，则根据[[MK466][性质1]]可得对于任意 $\phi_1$ 中的[[MK108][常元符号]] $c$ 均有[[MK117][项]] $\tau$

（1） $(\mathcal{K},c_a)_{a\in K}\vDash(c\hat{=}\tau)$

（2） $\tau$ 中的[[MK108][常元符号]]均在 $\mathcal{A}\cup D$ 中，不包含[[MK107][变元符号]]

根据定义 $\phi'_1$ 为将 $\phi_1$ 中的[[MK108][常元符号]] $c_1,...,c_k$ 替换为满足上述条件的 $\tau_1,...,\tau_k$ 后的[[MK115][符号串]]

由于 $\phi_1\in\Theta$ 故是[[MK129][原始表达式]]，故不含[[MK106][量词]]，则 $c_1,...,c_k$ 替换为 $\tau_1,...,\tau_k$ 后不会有[[MK141][受限出现]]

即 $c_1,...,c_k$ [[MK150][可替换]]为 $\tau_1,...,\tau_k$ ，且 $c_i$ 为[[MK108][常元符号]]，不可能包含[[MK141][受限出现]]

则根据[[MK467][推论]]可得 $(\mathcal{K},c_a)_{a\in K}\vDash\phi'_1$ ，又由于 $\phi_1$ 是[[MK129][原始表达式]]，显然 $\phi'_1$ 亦为[[MK129][原始表达式]]

则根据 $\Theta$ 定义可得 $\phi'_1\in\Theta$

************ 证明（2）

由于 $n<\infty$ 则根据下列证明以及数学归纳法可证

************* $n=1$ <<MK469>>

即[[MK196][证明]]为 $\langle\phi_1\rangle$ ，则显然 $\phi_1\in T\cup\Theta$ 或 $\phi_1\in\mathbb{L}$ 是[[MK197][逻辑公理]]

若 $\phi_1\in T$ ，由于 $T\subset\mathcal{L}_\mathcal{A}$ 显然 $\phi$ 中任意[[MK108][常元符号]]均在 $\mathcal{A}$ 中，故 $\phi'_1=\phi_1$

若 $\phi_1\in\mathbb{L}$ ，根据[[MK146][项替换定理]]可得 $\phi'_i$ 亦为[[MK129][表达式]]，则[[MK468][类似可证]] $\phi'_1\in\mathbb{L}$

若 $\phi_1\in\Theta$ ，则根据结论（1）可得 $\phi'_1\in\Theta$

综上所述，若 $\left<\phi_1\right>$ 是 $T\cup\Theta$ 的[[MK196][证明]]，则 $\left<\phi'_1\right>$ 亦是 $T\cup\Theta$ 的[[MK196][证明]]

************* 归纳假设

对于任意 $n<N$ ，若 $\left<\phi_1,...,\phi_n\right>$ 是 $T\cup\Theta$ 的[[MK196][证明]]则 $\left<\phi'_1,...,\phi'_n\right>$ 亦是 $T\cup\Theta$ 的[[MK196][证明]]

************* $n=N$

若 $\left<\phi_1,...,\phi_n\right>$ 是 $T\cup\Theta$ 的[[MK196][证明]]，则显然 $n-1<n$ ，故 $\left<\phi'_1,...,\phi'_{n-1}\right>$ 亦是 $T\cup\Theta$ 的[[MK196][证明]]

若 $\phi_n\in T\cup\mathbb{L}\cup\Theta$ 则[[MK469][同理可证]] $\phi'_n\in T\cup\mathbb{L}\cup\Theta$

若存在 $i<n,j<n$ 满足 $\phi_j=(\phi_i\to\phi_n)$ 则显然 $\phi'_j=(\phi'_i\to\phi'_n)$ 

综上所述，不论那种情况 $\left<\phi'_1,...,\phi'_{n}\right>$ 是 $T\cup\Theta$ 的[[MK196][证明]]

********* $T\cup\Theta\cup\{\phi^*\}$ [[MK222][一致]]

假设 $T\cup\Theta\cup\{\phi^*\}$ 不[[MK222][一致]]，则根据一下步骤可推出存在 $\theta_{i^*}$ 满足 $\mathcal{K}\vDash(\lnot\theta_{i^*}),\mathcal{K}\vDash\theta_{i^*}$ 矛盾

故假设不成立，即 $T\cup\Theta\cup\{\phi^*\}$ [[MK222][一致]]

********** 存在 $\mathcal{L}_{\mathcal{A}\cup D}$ 下的[[MK196][证明]] $\left<\phi'_1,...,\phi'_m\right>$ 满足 $\phi'_m=(\lnot\phi^*)$

根据[[MK213][归谬定理]]可得 $T\cup\Theta\vdash(\lnot\phi^*)$ ，根据[[MK196][证明]]可得存在满足条件的序列 $\left<\phi_1,...,\phi_m\right>$

其中 $\phi_m=(\lnot\phi^*)$ 。又根据[[MK470][性质2]]可得存在 $\left<\phi'_1,...,\phi'_m\right>$ 亦为 $T\cup\Theta$ 的[[MK196][证明]]且满足：

（1） $\phi'_i$ 中所有不在 $\mathcal{A}\cup D$ 中的[[MK108][常元符号]] $c$ 均替换为[[MK117][项]] $\tau$ 

（2） $\tau$ 中的[[MK108][常元符号]]均在 $\mathcal{A}\cup D$ 中，不包含[[MK107][变元符号]]

显然 $\left<\phi'_1,...,\phi'_m\right>$ 不含 $\mathcal{A}\cup D$ 以外的[[MK108][常元符号]]且 $T\subset\mathcal{L}_{\mathcal{A}\cup D}$ ，故 $\left<\phi'_1,...,\phi'_m\right>$ 为 $\mathcal{L}_{\mathcal{A}\cup D}$ 下的[[MK196][证明]]

由于 $\phi^*\in\mathcal{L}_{\mathcal{A}\cup D}$ 显然 $(\lnot\phi^*)$ 不含任意不在 $\mathcal{A}\cup D$ 中的[[MK108][常元符号]]，即 $\phi'_m=\phi_m=(\lnot\phi^*)$

********** $\mathcal{L}_{\mathcal{A}\cup D}$ 下存在 $\{\theta_1,...,\theta_k\}\subset\Theta$ 满足 $T\vdash\left(\phi^*\to\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)\right)$ <<MK480>>

根据[[MK464][之前证明]]可得 $T\cup\{\phi^*\}$ [[MK222][一致]]，则可得 $\Theta\cap\{\phi_1,...,\phi_m\}\ne\varnothing$

则根据[[MK470][性质2]]可得 $\Theta\cap\{\phi'_1,...,\phi'_m\}\ne\varnothing$ 定义 $\{\theta_1,...,\theta_k\}=\Theta\cap\{\phi'_1,...,\phi'_m\}$

易证 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $T\cup \{\theta_1,...,\theta_k\}\vdash(\lnot\phi^*)$ 根据[[MK201][逻辑与]]易证 $T\cup\left\{\left(\bigwedge_{i=1}^k \theta_i\right)\right\}\vdash(\lnot\phi^*)$

根据[[MK211][演绎定理]] $T\vdash\left(\left(\bigwedge_{i=1}^k \theta_i\right)\to(\lnot\phi^*)\right)$ 根据[[MK198][推论（8）]] $T\vdash\left((\lnot(\lnot\phi^*))\to\left(\lnot\left(\bigwedge_{i=1}^k \theta_i\right)\right)\right)$

根据[[MK219][替换定理]]，[[MK186][德摩根律]]以及[[MK462][双重否定]]易证 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $T\vdash\left(\phi^*\to\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)\right)$

********** $\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)\in\Gamma^*$ 

由于 $D\cap\mathcal{A}=\varnothing$ 且 $\phi^*=\phi\left(\left<x_1,...,x_n\right>,\left<d_1,...,d_n}\right>\right)$

故 $\phi^*$ 中 $d_i$ 的出现必为 $x_i$ 的[[MK141][自由出现]]，故可得 $\phi^*$ 中 $x_1,...,x_n$ [[MK150][可替换]] $d_1,...,d_n$

又由于 $\theta_i\in\Theta$ 是[[MK129][原始表达式]]，故不含[[MK106][量词]]，则替换后不会有[[MK141][受限出现]]

故显然 $\theta_i$ 中 $x_1,...,x_n$ [[MK150][可替换]] $d_1,...,d_n$ 。

综上所述 $\left(\phi^*\to\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)\right)$ 中 $x_1,...,x_n$ [[MK150][可替换]] $d_1,...,d_n$

根据[[MK471][性质]]可得 $\mathcal{L}_\mathcal{A}$ 下 $T\vdash\left(\phi^*\to\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)\right)(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)$

即 $\mathcal{L}_\mathcal{A}$ 下 $T\vdash\left(\phi\to\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)\right)$

且 $\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)$ 不含[[MK106][量词]]

则根据[[MK463][ $\Gamma$ 定义]]可得 $\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)\in\Gamma$

又根据[[MK464][ $\Gamma^*$ 定义]]可得 $\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)(\left<x_1,...,x_n\right>,\left<d_1,...,d_n\right>)\in\Gamma^*$

显然 $\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)(\left<x_1,...,x_n\right>,\left<d_1,...,d_n\right>)=\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)$

故有 $\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)\in\Gamma^*$

********** 推出矛盾

由于 $\theta_i\in\Theta$ 是[[MK129][原始表达式]]，显然 $\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)$ 不含[[MK106][量词]]

由于 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $\mathcal{M}\vDash\Gamma^*$ ，故有 $\mathcal{M}\vDash\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)$ 根据[[MK472][之前证明]]可得 $\mathcal{K}$ 是 $\mathcal{M}$ 的[[MK282][子结构]]

结合[[MK461][推论]]可得 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $\mathcal{K}\vDash\left(\bigvee_{i=1}^k (\lnot\theta_i)\right)$ 根据[[MK171][逻辑或]]易证存在 $1\leq i^*\leq k$ 满足 $\mathcal{K}\vDash(\lnot\theta_{i^*})$ 

又由于 $\theta_{i^*}\in\Theta$ ，则根据[[MK473][ $\Theta$ 定义]]可得 $\mathcal{L}_{\mathcal{A}\cup D\cup C_K}$ 下 $(\mathcal{K},c_a)_{a\in K}\vDash\theta_{i^*}$

显然 $\mathcal{K}$ 是 $(\mathcal{K},c_a)_{a\in K}$ 的[[MK295][裁剪结构]]，且 $\theta_{i^*}\in\mathcal{L}_{\mathcal{A}\cup D}$ 故根据[[MK296][定理1]] $\mathcal{K}\vDash\theta_{i^*}$ 显然矛盾

********* 定义 $\mathcal{N}$ 以及 $\mathcal{K}'$ <<MK476>>

根据上一步可得 $T\cup\Theta\cup\{\phi^*\}$ [[MK222][一致]]，则根据[[MK255][完备性]]以及[[MK169][推论]]得可 $\mathcal{L}_{\mathcal{A}\cup D\cup C_K}$ 下存在

[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 满足 $\mathcal{N}\vDash T\cup\Theta\cup\{\phi^*\}$ ，则定义

（1） $K'=\left\{J(c_a)\big|c_a\in C_K\right\}$

（2） $L'$ 为：

     （a） 对于任意 $c\in\mathcal{A}\cup D\cup C_K$ 是[[MK108][常元符号]]，有 $L'(c)=J(c)$

     （b） 对于任意 $f\in\mathcal{A}\cup D\cup C_K$ 是[[MK109][函数符号]]且 $\pi_F(f)=z$ ，对于任意 $\left<a_1,...,a_z\right>\subset (K')^z$

          有 $L'(f)(a_1,...,a_z)=J(a_1,...,a_z)$

     （c） 对于任意 $p\in\mathcal{A}\cup D\cup C_K$ 是[[MK110][谓词符号]] $\pi_P(p)=z$ 有 $L'(p)=J(p)\cap (K')^n$

根据以下证明可得 $\mathcal{K}'=\left<K',L'\right>$ 是[[MK153][结构]]，则显然 $\mathcal{K}'$ 是 $\mathcal{N}$ 的[[MK282][子结构]]

********** $\mathcal{K}'=\left<K',L'\right>$ 是[[MK153][结构]]

对于任意[[MK108][常元符号]]若 $c\in\mathcal{A}\cup D$ 根据[[MK465][定义]]有 $a\in K$ 满足 $L(c)=a$ ，则显然有 $L_D(c_a)=a=L_D(c)$

即有 $(\mathcal{K},c_a)_{a\in K}=(c\hat{=}c_a)$ ，故根据[[MK476][ $\Theta$ 定义]]可得 $(c\hat{ =}c_a)\in\Theta$ 即 $\mathcal{N}\vDash(c\hat{ =}c_a)$

根据[[MK158][满足]] $J(c)=J(c_a)\in K'$

又由于 $L'(c)=J(c)$ 即 $L'(c)\in K$ 。若 $c\in C_K$ 则有 $L'(c)=J(c)\in K$

综上所述，对于任意[[MK108][常元符号]] $c\in\mathcal{A}\cup D\cup C_K$ 均有 $L'(c)\in K$

对于任意 $f\in\mathcal{A}\cup D\cup C_K$ 是[[MK109][函数符号]]且 $\pi_F(f)=z$ ，以及任意 $\left<b_1,...,b_z\right>\subset (K')^z$

根据定义必有 $\{c_{a_1},...,c_{a_z}\}\subset C_K$ 满足 $J(c_{a_i})=a_i$ ，根据[[MK465][定义]]有 $L(c_{a_i})\in K$

由于 $\mathcal{K}$ 是[[MK153][结构]]，故可得 $L(f)(L(c_{a_1}),...,L(c_{a_z}))=a\in K$

则显然有 $L_D(c_a)=a=L(f)(L(c_{a_1}),...,L(c_{a_z}))$ 即 $(\mathcal{K},c_a)_{a\in K}=(f(c_{a_1},...,c_{a_z})\hat{=}c_a)$

故根据[[MK476][ $\Theta$ 定义]]可得 $(f(c_{a_1},...,c_{a_z})\hat{=}c_a)\in\Theta$ 即 $\mathcal{N}\vDash(f(c_{a_1},...,c_{a_z})\hat{ =}c_a)$

根据[[MK158][满足]] $J(f)(b_1,...,b_z)=J(c_a)\in K'$ 即 $L'(f)(b_1,...,b_z)\in K'$

综上所述，对于任意 $f\in\mathcal{A}\cup D\cup C_K$ 以及 $\left<b_1,...,b_z\right>\subset (K')^z$ 均有 $L'(f)(b_1,...,b_z)\in K'$

结合上述两条可得 $\mathcal{K}'=\left<K',L'\right>$ 是[[MK153][结构]]

********** $\mathcal{K}'\vDash\Theta$ <<MK475>>

根据[[MK473][ $\Theta$ 定义]]可得任意 $\theta\in\Theta$ 是[[MK129][原始表达式]]，根据上一步证明显然 $\mathcal{K}'$ 是 $\mathcal{N}$ 的[[MK282][子结构]]

根据 $\mathcal{N}\vDash \Theta$ 以及[[MK284][特征定理]]可得 $\mathcal{K}'\vDash\Theta$

********* 定义 $\mathcal{M},\mathcal{N},\mathcal{K},\mathcal{K}'$ 在 $\mathcal{L}_\mathcal{A}$ 上的[[MK295][裁剪结构]]<<MK478>>

显然 $\mathcal{L}_{\mathcal{A}\cup D\cup C_K}$ 以及 $\mathcal{L}_{\mathcal{A}\cup D}$ 是 $\mathcal{L}_{\mathcal{A}}$ 的[[MK152][扩充语言]]，则根据[[MK299][定理2]]可得 $\mathcal{M},\mathcal{N},\mathcal{K},\mathcal{K}'$ 在 $\mathcal{L}_\mathcal{A}$

上存在[[MK295][裁剪结构]] $\mathcal{M}_\mathcal{A}=\left<M,I_\mathcal{A}\right>,\mathcal{N}_\mathcal{A}=\left<N,J_\mathcal{A}\right>,\mathcal{K}_\mathcal{A}=\left<K,L_\mathcal{A}\right>,\mathcal{K}'_\mathcal{A}=\left<K',L' _\mathcal{A}\right>$

根据[[MK474][引理2]]可得 $\mathcal{K}_\mathcal{A},\mathcal{K}'_ \mathcal{A}$ 分别是 $\mathcal{M}_\mathcal{A},\mathcal{N}_\mathcal{A}$ 的[[MK282][子结构]]，显然易证 $\mathcal{K}_\mathcal{A}$ 亦是 $(\mathcal{K},c_a)_{a\in K}$ 的[[MK295][裁剪结构]]

********* $\mathcal{K}_\mathcal{A},\mathcal{K}'_ \mathcal{A}$ [[MK274][同构]]

根据[[MK406][常元扩展]]以及 $(\mathcal{K},c_a)_{a\in K}$ 定义可得存在[[~/文档/note/离散数学/lssx.org::MK181][双射函数]] $e_1:K\to C_K$ 

********** 定义 $e$ 并证明是[[~/文档/note/离散数学/lssx.org::MK181][双射]]<<MK477>>

根据[[MK476][ $K'$ 定义]]可得对于任意 $c_a\in C_K$ 均有 $J(c_a)\in K'$ 则定义 $e:K\to K'$ 满足对于任意 $a\in K$

有 $e(a)=J(e_1(a))$ 显然根据[[MK476][ $K'$ 定义]]易证 $e$ 是[[~/文档/note/离散数学/lssx.org::MK179][满射]]。

对于任意 $a\ne b,\{a,b\}\subset K$ 根据[[MK158][满足]]可得 $(\mathcal{K},c_a)_{a\in K}\vDash(\lnot(e_1(a)\hat{=}e_1(b)))$

根据[[MK473][ $\Theta$ 定义]]可得 $(\lnot(e_1(a)\hat{=}e_1(b)))\in\Theta$ ，又根据[[MK475][之前证明]]可得 $\mathcal{K}'\vDash(\lnot(e_1(a)\hat{ =}e_1(b)))$

根据[[MK158][满足]] $L'(e_1(a))\ne L'(e_1(b))$ 根据[[MK476][ $K'$ 定义]]显然 $J(e_1(a))\ne J(e_1(b))$ 即 $e(a)\ne e(b)$

综上所述，对于任意 $a\ne b,\{a,b\}\subset K$ 均有 $e(a)\ne e(b)$ ，故 $e$ 是[[~/文档/note/离散数学/lssx.org::MK176][单射]]

故可得 $e$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]

********** 证明结论

对于任意[[MK129][原始表达式]] $\phi(x_1,...,x_z)\in\mathcal{L}_\mathcal{A}$ 以及 $\mathcal{K}_\mathcal{A}$ 的[[MK154][赋值]] $v$ 满足 $\mathcal{L}_{\mathcal{A}}$ 下 $\left<\mathcal{K}_\mathcal{A},v\right>\vDash\phi$

则根据[[MK296][定理1]]可得 $\mathcal{L}_{\mathcal{A}\cup D\cup C_K}$ 下有 $\left<(\mathcal{K},c_a)_{a\in K},v\right>\vDash\phi$ ，显然有 $L_K(e_1(v(x_i)))=v(x_i)$

又由于 $\phi$ 是[[MK129][原始表达式]]，故不含[[MK106][量词]]，则任意[[MK107][变元符号]]在 $\phi$ 中均为[[MK140][自由出现]]

则根据[[MK176][替换定理]]以及[[MK169][推论]]可得 $\mathcal{L}_{\mathcal{A}\cup D\cup C_K}$ 下 $(\mathcal{K},c_a)_{a\in K}\vDash\phi\left(\left<x_1,...,x_z\right>,\left<e_1(v(x_1)),...,e_1(v(x_z))\right>\right)$

根据[[MK473][ $\Theta$ 定义]] $\phi\left(\left<x_1,...,x_z\right>,\left<e_1(v(x_1)),...,e_1(v(x_z))\right>\right)\in\Theta$

根据[[MK475][之前证明]] $\mathcal{L}_{\mathcal{A}\cup D\cup C_K}$ 下 $\mathcal{K}'\vDash\phi\left(\left<x_1,...,x_z\right>,\left<e_1(v(x_1)),...,e_1(v(x_z))\right>\right)$

根据上一步 $e$ 的定义显然有 $L'(e_1(v(x_1)))=J(e_1(v(x_1)))=e(v(x_1))$

故同样根据[[MK176][替换定理]]以及[[MK169][推论]] $\mathcal{L}_{\mathcal{A}\cup D\cup C_K}$ 下 $\left<\mathcal{K}',e\cdot v\right>\vDash\phi$ ，即根据[[MK296][定理1]] $\mathcal{L}_{\mathcal{A}}$ 下 $\left<\mathcal{K}'_\mathcal{A},e\cdot v\right>\vDash\phi$

综上所述，对于任意[[MK129][原始表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 以及 $\mathcal{K}_\mathcal{A}$ 的[[MK154][赋值]] $v$ 若有 $\left<\mathcal{K}_\mathcal{A},v\right>\vDash\phi$ 则有 $\left<\mathcal{K}'_\mathcal{A},e\cdot v\right>\vDash\phi$

同理可证 若有 $\left<\mathcal{K}'_\mathcal{A},e\cdot v\right>\vDash\phi$ 则有 $\left<\mathcal{K} _\mathcal{A},v\right>\vDash\phi$ 

即对于任意[[MK129][原始表达式]] $\phi\in\mathcal{L}_\mathcal{A}$ 以及 $\mathcal{K}_\mathcal{A}$ 的[[MK154][赋值]] $v$ ， $\left<\mathcal{K}_\mathcal{A},v\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{K}'_\mathcal{A},e\cdot v\right>\vDash\phi$

结合上一步 $e$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射]]以及[[MK280][定理2]]可得 $\mathcal{K}_\mathcal{A},\mathcal{K}'_ \mathcal{A}$ [[MK274][同构]]

********* 存在 $\left<a_1,...,a_n\right>\in K^n$ 满足 $\mathcal{M}_\mathcal{A}\vDash(\lnot\phi)[a_1,...,a_n],\mathcal{N}_\mathcal{A}\vDash\phi[e(a_1),...,e(a_n)]$

显然 $\mathcal{L}_{\mathcal{A}\cup D}$ 下有 $\mathcal{M}\vDash(\lnot\phi^*)$ 以及根据[[MK476][ $\mathcal{N}$ 定义]] $\mathcal{L}_{\mathcal{A}\cup D\cup C_K}$ 下有 $\mathcal{N}\vDash\phi^*$

根据[[MK464][ $\phi^*$ 定义]]以及[[MK176][替换定理]]易证 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $\mathcal{M}\vDash(\lnot\phi)[I(d_1),...,I(d_n)]$

以及 $\mathcal{L}_{\mathcal{A}\cup D\cup C_K}$ 下 $\mathcal{N}\vDash\phi[J(d_1),...,J(d_n)]$

又根据[[MK465][ $K$ 定义]]可得 $\mathcal{M}\vDash(\lnot\phi)[L(d_1),...,L(d_n)]$ ，定义 $a_i=L(d_i)$ 故有 $\mathcal{M}\vDash(\lnot\phi)[a_1,...,a_n]$

显然根据上一步 $e_1$ 定义以及[[MK477][ $e$ 定义]]有 $e_1(a_i)=d_i$ ，则进一步易证 $J(d_i)=J(e_1(a_i))=e(a_i)$

故可得 $\mathcal{N}\vDash\phi[e(a_1),...,e(a_n)]$

又根据[[MK296][定理1]]以及[[MK169][推论]]可得 $\mathcal{L}_{\mathcal{A}}$ 下 $\mathcal{M}_\mathcal{A}\vDash(\lnot\phi)[a_1,...,a_n],\mathcal{N}_\mathcal{A}\vDash\phi[e(a_1),...,e(a_n)]$

******** 证明结论

由于 $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $T\cup\Gamma^*\vdash\phi^*$ ，则根据[[MK196][证明]]可得存在满足条件的序列 $\left<\phi_1,...,\phi_m\right>$

根据[[MK479][性质2]]可得 $T\not\vdash\phi^*$ 故易证 $\Gamma^*\cap\{\phi_1,...,\phi_m\}\ne\varnothing$ 则定义 $\{\theta^*_1,...,\theta^*_k\}=\Gamma^*\cap\{\phi_1,...,\phi_m\}$

则[[MK480][同理可证]] $\mathcal{L}_{\mathcal{A}\cup D}$ 下 $T\vdash\left(\left(\bigwedge_{i=1}^k \theta^*_i\right)\to\phi^*\right)$

又根据[[MK471][性质1]] $\mathcal{L}_\mathcal{A}$ 下 $T\vdash\left(\left(\bigwedge_{i=1}^k \theta^*_i\right)\to\phi^*\right)(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)$ 显然有

\begin{aligned}
&\left(\left(\bigwedge_{i=1}^k \theta^*_i\right)\to\phi^*\right)(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)\\
=&\left(\left(\bigwedge_{i=1}^k \theta^*_i(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)\right)\to\phi^*(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)\right)
\end{aligned}

根据[[MK479][性质2]]的证明易证 $\phi=\phi^*\left(\left<d_1,...,d_n}\right>,\left<x_1,...,x_n\right>\right)$

以及 $\theta^*_i(\left<d_1,...,d_n\right>,\left<x_1,...,x_n\right>)=\theta_i\in\Gamma$ 故有 $T\vdash\left(\left(\bigwedge_{i=1}^k \theta_i\right)\to\phi\right)$

由于 $\theta_i\in\Gamma$ 故根据[[MK463][ $\Gamma$ 定义]]可得 $T\vdash\left(\phi\to\theta_i\right)$ 根据[[MK211][演绎定理]] $T\cup\{\phi\}\vdash\theta_i$

根据[[MK201][逻辑与]]易证 $T\cup\{\phi\}\vdash\left(\bigwedge_{i=1}^k \theta_i\right)$ 又根据[[MK211][演绎定理]] $T\vdash\left(\phi\to\left(\bigwedge_{i=1}^k \theta_i\right)\right)$

即在 $\mathcal{L}_\mathcal{A}$ 下有 $T\vdash\left(\left(\bigwedge_{i=1}^k \theta_i\right)\to\phi\right)$ 以及 $T\vdash\left(\phi\to\left(\bigwedge_{i=1}^k \theta_i\right)\right)$

则根据[[MK201][逻辑与]]以及[[MK396][定义]]可得 $T\vdash\left(\phi\leftrightarrow\left(\bigwedge_{i=1}^k \theta_i\right)\right)$

又根据[[MK463][ $\Gamma$ 定义]]可得 $\theta_i$ 不含[[MK106][量词]]，则显然 $\left(\bigwedge_{i=1}^k \theta_i\right)$ 亦不含[[MK106][量词]]

**** 定理5<<MK487>>

[[MK220][一阶理论]] $\mathcal{T}=\left<\mathcal{L}_\mathcal{A},\mathbb{L}_\mathcal{A},T,T^*\right>$ 满足 $T$ [[MK222][一致]]且 $\mathcal{T}$ [[MK397][适合量词消去]]，则 $\mathcal{T}$ 是[[MK485][模型完全]]的

***** 证明

对于任意 $\mathcal{N}$ [[MK154][赋值]] $v:X\to N$ 以及[[MK129][表达式]] $\phi(x_1,...,x_n)\in\mathcal{L}_\mathcal{A}$ 若有 $\left<\mathcal{M},v\right>\vDash\phi$ 根据 $\mathcal{T}$ [[MK397][适合量词消去]]可得存在 $\psi\in\mathcal{L}_\mathcal{A}$

满足 $T\vdash(\phi\leftrightarrow\psi)$ 且 $\psi$ 不带[[MK106][量词]]。根据[[MK257][完备性]]可得 $\left<\mathcal{M},v\right>\vDash(\phi\leftrightarrow\psi)$ 根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\vDash\psi$ 又根据[[MK461][推论]]可得 $\left<\mathcal{N},v\right>\vDash\psi$

同理根据 $T\vdash(\phi\leftrightarrow\psi)$ 以及[[MK257][完备性]]可得 $\left<\mathcal{N},v\right>\vDash(\phi\leftrightarrow\psi)$ ，则根据[[MK158][满足]]可得 $\left<\mathcal{N},v\right>\vDash\phi$ 

同理可证若 $\left<\mathcal{N},v\right>\vDash\phi$ 则有 $\left<\mathcal{M},v\right>\vDash\phi$

综上所述可得 $\mathcal{N}$ 是 $\mathcal{M}$ 的[[MK287][同质子结构]]

* 一阶逻辑例子

** 自然数序理论

*** 语言

除[[MK105][固定符号]]外仅有一个[[MK110][谓词符号]] $p_<$ 用于表示小于关系，则定义 $\mathcal{A}_<=\{p_<\}$

进一步有 $\mathcal{L}_{\mathcal{A}_<}$ 是自然数序理论的[[MK151][语言]]

*** 公理

（1） 反自反 $(\forall x_1(\lnot(p_<(x_1,x_1))))$

（2） 传递性 $(\forall x_1(\forall x_2(\forall x_3((p_<(x_1,x_2)\land p_<(x_2,x_3))\to p_<(x_1,x_3)))))$

（3） 三歧性 $(\forall x_1(\forall x_2(p_<(x_1,x_2)\lor p_<(x_2,x_1)\lor (x_1\hat{=}x_2))))$

（4） 最小元 $(\exists x_1(\forall x_2p_<(x_1,x_2)))$

（5） 存在最大小于 $x_1$ 的元素 $(\forall x_1((\exists x_2 p_<(x_2,x_1))\to(\exists x_2(\forall x_3(p_<(x_3,x_1)\to(p_<(x_3,x_2)\lor(x_2\hat{=}x_3)))))))$

（6） 存在最小大于 $x_1$ 的元素 $(\forall x_1((\exists x_2 p_<(x_1,x_2))\to(\exists x_2(\forall x_3(p_<(x_1,x_3)\to(p_<(x_2,x_3)\lor(x_2\hat{=}x_3)))))))$

** 无端点线性稠密序

*** 语言<<MK354>>

除[[MK105][固定符号]]外仅有一个[[MK110][谓词符号]] $p_<$ 用于表示小于关系，则定义 $\mathcal{A}_<=\{p_<\}$

进一步有 $\mathcal{L}_{\mathcal{A}_<}$ 是无断点线性稠密序的[[MK151][语言]]

*** 公理<<MK355>>

若满足以下非逻辑公理，则为 *线性序*

（1） $(\forall x_1(\lnot p_<(x_1,x_1)))$

（2） $(\forall x_1(\forall x_2(\forall x_3((p_<(x_1,x_2)\land p_<(x_2,x_3))\to p_<(x_1,x_3)))))$

（3） $(\forall x_1(\forall x_2((\lnot(x_1\hat{=}x_2))\to(p_<(x_1,x_2)\lor p_<(x_2,x_1)))))$

若进一步满足以下非逻辑公理，则为 *无端点线性序*

（4） $(\forall x_1(\exists x_2 p_<(x_1,x_2)))$

（5） $(\forall x_1(\exists x_2 p_<(x_2,x_1)))$

若满足以下非逻辑公理，则为 *无端点线性稠密序*

（6） $(\forall x_1(\forall x_2(p_<(x_1,x_2)\to(\exists x_3(p_<(x_1,x_3)\land p_<(x_3,x_2))))))$

*** [[MK220][一阶理论]]<<MK356>>

定义[[MK355][公理]]集合为 $T_{\text{odl}}$ ，由于 $T_{\text{odl}}$ 均皆为[[MK144][语句]]，进一步定义[[MK220][一阶理论]] $\mathcal{T}_{\text{odl}}=\left<\mathcal{L}_{\mathcal{A}_<},\mathbb{L}\cap\mathcal{L}_{\mathcal{A}_<},T_{\text{odl}},T^*_{\text{odl}}\right>$ 

*** 引理

**** 引理1<<MK357>>

[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 存在 $\mathcal{M}=\left<A,\{\left<p_<,\lessdot\right>\}\right>$ 是[[MK355][无端点线性稠密序]]

则对于任意 $F\subset A$ 为[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，存在 $a\in F$ 满足对于任意 $x\in F$ 且 $x\ne a$ 均有 $x\lessdot a$

***** 证明

任取 $x_0\in F$ 定义 $F_0=F-x_0$ 以及 $\overline{F}_0=\{x_0\}$

进一步定义 $x^*_0=x_0$ ，由于 $F$ 是[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，故必然存在 $n$ 使得 $\overline{F}_n=F$

进一步根据数学归纳法可得存在 $x^*_n\in A$ 使得对于任意 $x\in\overline{F}_n$ 均有 $x\lessdot x^*_n$

****** $\overline{F}_1$ 以及 $x^*_1$

则任取 $x_1\in F_1$ ，定义 $F_1=F_0-x_1$ 以及 $\overline{F}_1=\overline{F}_0\cup\{x_1\}$ 根据[[MK355][公理（3）]]可得 $x^*_0\prec x_1$ 或 $x_1\prec x^*_0$

必有一个成立，则若 $x_1\prec x^*_0$ 则定义 $x^*_1=x^*_0$ 反之则定义 $x^*_1=x_1$

根据[[MK355][公理（2）]]易证对于任意 $x\in\overline{F}_1$ 且 $x\ne x^*_1$ 均有 $x\lessdot x^*_1$

****** 归纳假设

对于任意 $i<n$ 可得对于任意 $x\in\overline{F}_i$ 且 $x\ne x^*_1$ 均有 $x\lessdot x^*_i$

****** $\overline{F}_n$ 以及 $x^*_n$

根据定义显然有 $\overline{F}_n=\overline{F}_{n-1}\cup\{x_n\}$ ，若 $x^*_{n-1}\lessdot x_n$ 则有 $x^*_n=x_n$

则对于任意 $x\in\overline{F}_n$ 且 $x\ne x^*_n$ 可得 $x\in\overline{F}_{n-1}$ ，根据归纳假设有 $x\lessdot x^*_{n-1}$ 根据[[MK355][公理（2）]]有 $x\lessdot x^*_n$

若 $x_n\lessdot x^*_{n-1}$ 则有 $x^*_n=x^*_{n-1}$ 则对于任意 $x\in\overline{F}_n$ 若 $x\in\overline{F}_{n-1}$ 则根据归纳假设 $x\lessdot x^*_n$

若 $x=x_n$ 则根据假设有 $x\lessdot x^*_n$

***** 推论<<MK358>>

[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 存在 $\mathcal{M}=\left<A,\{\left<p_<,\lessdot\right>\}\right>$ 是[[MK355][线性稠密序]]

则对于任意 $F\subset A$ 为[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，存在 $a\in F$ 满足对于任意 $x\in F$ 且 $x\ne a$  均有 $a\lessdot x$

****** 证明

根据[[MK357][引理1]]证明同理可证

**** 引理2<<MK359>>

[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 存在 $\mathcal{M}=\left<A,\{\left<p_<,\lessdot\right>\}\right>$ 是[[MK355][线性序]] $\mathcal{N}=\left<B,\{\left<p_<,\prec\right>\}\right>$ 是[[MK355][线性稠密序]]

若 $F\subset A,E\subset B$ 均为[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，其定义[[MK274][子结构]]为 $\mathcal{F}=\left<F,\{\left<p_<,\lessdot\cap F^2\right>\}\right>,\mathcal{E}=\left<E,\{\left<p_<,\prec\cap E^2\right>\}\right>$

且存在 $h:F\to E$ 是 $\mathcal{F}$ 到 $\mathcal{E}$ 的[[MK274][同构映射]]，则对于任意 $a\in A-F$ 存在 $b\in B-E$

使得 $h'=h\cup\{\left<a,b\right>\}$ 是[[MK274][子结构]] $\mathcal{F}' =\left<F\cup\{a\},\{\left<p_<,\lessdot\cap(F\cup\{a\})^2\right>\}\right>$

到 $\mathcal{E}'=\left<E\cup\{b\},\{\left<p_<,\prec\cap(E\cup\{b\})^2\right>\}\right>$ 的[[MK274][同构映射]]

***** 证明

****** 若 $\forall x\in F$ 均有 $x\lessdot a$ 

任取 $y_0\in E$ 根据[[MK357][引理1]]可得存在 $x'\in E$ 使得对于任意 $x\in B$ 且 $x\ne x'$ 均有 $x\prec x'$

又根据[[MK355][公里（4）]]可得存在 $b\in B$ 使得 $x'\prec b$ 则根据[[MK355][公里（2）]]易证对于任意 $x\in B$ 均有 $x\prec b$

由于 $h$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]显然 $h'$ 亦为[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]，对于任意 $\{x_1,x_2\}\subset F\cup\{a\}$ 满足 $x_1\lessdot x_2$

若 $\{x_1,x_2\}\subset F$ 则 $h(x_1)=h'(x_1),h(x_2)=h'(x_2)$ 由于 $h$ 是[[MK274][同构映射]]，故有 $h'(x_1)\prec h'(x_2)$

由于 $x_1\lessdot x_2$ 显然 $x_1\ne a$ 故若 $x_2=a$ 根据[[MK355][公里（1）]]可得 $x_1\ne a$ 即 $x_1\in F$

故有 $h'(x_2)=b$ 以及 $h'(x_1)=h(x_1)\in E$ 则根据 $b$ 定义可得 $h'(x_1)\prec h'(x_2)$

根据[[MK354][语言]]定义可得 $h'$ 为 $\mathcal{F}'$ 到 $\mathcal{E}'$ 的[[MK274][同构映射]]

****** 若 $\forall x\in F$ 均有 $a\lessdot x$

根据上一步以及[[MK358][推论]]以及上一步证明同理可证

****** 若非上述情况

根据 $a\in A-F$ 可得对于任意 $x\in F$ 均有 $a\ne x$ 进一步根据[[MK355][公里（3）]]可得 $x\lessdot a\lor a\lessdot x$

故定义 $F_1=\left\{x\big|x\lessdot a\land x\in F\right\},F_2=\left\{x\big|a\lessdot x\land x\in F\right\}$

进一步定义 $E_1=\left\{h(x)\big|x\in F_1\right\},E_2=\left\{h(x)\big|x\in F_2\right\}$ 则根据[[MK357][引理1]]以及[[MK358][推论]]

可得存在 $u\in E_1,v\in E_2$ 满足对于任意 $x\in E_1\land x\ne u,y\in E_2\land x\ne v$

均有 $x\prec u$ 以及 $v\prec y$ 则根据[[MK355][公里（6）]]存在 $b\in B$ 满足 $u\prec b \prec v$

则根据[[MK355][公里（2）]]可得对于任意 $x\in E_1,y\in E_2$ 均有 $x\prec b\prec v$ 则有 $h'=h\cup<a,b>$

由于 $h$ 是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]显然 $h'$ 亦为[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]，则对于任意 $\{x,y\}\subset F\cup\{a\}$ 满足 $x\lessdot y$

若 $\{x,y\}\subset F$ 则根据 $h$ 是[[MK274][同构映射]]有 $h'(x)=h(x)\prec h(y)=h'(y)$

若 $x=a$ 则有 $y\in F_2$ 故可得 $h'(x)\prec h'(y)$ 同理 $y=a$ 则有 $x\in F_1$ 故有 $h'(x)\prec h'(y)$

综上所述，根据[[MK354][语言]]定义可得 $h'$ 为 $\mathcal{F}'$ 到 $\mathcal{E}'$ 的[[MK274][同构映射]]

**** 引理3<<MK360>>

[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 存在[[MK153][结构]] $\mathcal{M}=\left<\mathbb{R},\{\left<p_<,<\right>\}\right>$ 即论域为 $\mathbb{R}$ 且 $p_<$ 对应为实数的小于

若 $Y\subset\mathbb{R}$ 是一个[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，对于任意两个 $\{a,b\}\subset\mathbb{R}$ 定义[[~/文档/note/离散数学/lssx.org::MK111][关系]] $\mathcal{R}$ 为若 $a\mathcal{R}b$ 则存在[[MK274][自同构映射]] $e$ 满足：

（1） $e(a)=e(b)$

（2） $\forall y\in Y\rightarrow e(y)=y$

则有：

（1） $\mathcal{R}$ 是[[~/文档/note/离散数学/lssx.org::MK132][等价关系]]

（2） 若 $a\in Y$ 则其[[~/文档/note/离散数学/lssx.org::MK133][等价类]] $[a]_\mathcal{R}=\{a\}$

     若 $a\not\in Y$ 则 $[a]_\mathcal{R}$ 为 $(-\infty,\min(Y)),(\max(Y),+\infty)$ 或者 $(b_1,b_2)$

     满足 $b_1\in Y\land b_2\in Y\land (b_1,b_2)\cap Y=\varnothing$

***** 证明

由于 $Y\subset\mathbb{R}$ 是一个[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，则有 $\min(Y)\in Y,\max(Y)\in Y$

****** 是[[~/文档/note/离散数学/lssx.org::MK132][等价关系]]

显然单位映射 $e(a)=a$ 是[[MK274][同构映射]]，故对于任意 $a\in\mathbb{R}$ 有 $a\mathcal{R}a$ 满足[[~/文档/note/离散数学/lssx.org::MK124][自反性]]

由于[[MK274][同构映射]]是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]，故根据[[MK275][引理]]可得其[[~/文档/note/离散数学/lssx.org::MK188][逆映射]]亦为[[MK274][同构映射]]，即有 $a\mathcal{R}b\rightarrow b\mathcal{R}a$ 即[[~/文档/note/离散数学/lssx.org::MK126][对称性]]

若有 $a\mathcal{R}b,b\mathcal{R}c$ 则存在满足条件的[[MK274][同构映射]] $e_1,e_2$ 则易证 $e_2\cdot e_1$ 亦为[[MK274][同构映射]]，故满足[[~/文档/note/离散数学/lssx.org::MK128][传递性]]

综上所述，关系 $\mathcal{R}$ 是[[~/文档/note/离散数学/lssx.org::MK132][等价关系]]

****** 证明[[~/文档/note/离散数学/lssx.org::MK133][等价类]]

******* 若 $a\in Y$ 

对于任意 $a\mathcal{R}b$ 则存在[[MK274][同构映射]] $e$ 使得 $e(a)=b$ 且 $\forall y\in Y\rightarrow e(y)=y$

由于 $a\in Y$ 则根据第二条有且仅有 $e(a)=a$

******* 若 $a\not\in Y$

以下仅证 $a<\min(Y)$ 的情况，其他两种情况同理可证

假设存在满足条件的[[MK274][同构映射]] $e$ 使得 $e(a)=b$ 不满足 $b<\min(Y)$

由于 $a<\min(Y)$ 故根据[[MK274][同构]]定义可得 $e(a)<e(\min(Y))$ 即 $b<e(\min(Y))$ 由于 $\min(Y)\in Y$

故有 [[(x_1\hat{=}x_{i_1})]] $e(\min(Y))=\min(Y)$ 显然与 $b<\min(Y)$ 矛盾，故假设不成立。即 $x\in[a]_\mathcal{R}\rightarrow x<\min(Y)$

对于任意 $b<\min(Y)$ 构建映射 $e(x)=\begin{cases}x&x\geq\min(Y)\\\frac{\min(Y)-b}{\min(Y)-a}(x-a)+b&x<\min(Y)\end{cases}$

易证上述分段直线函数是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]，且由于 $a,b$ 均小于 $\min(Y)$ 故 $e$ 是递增函数

则对于任意 $\{x,y\}\subset\mathbb{R}$ 满足 $x<y$ 均有 $e(x)<e(y)$ 即 $e$ 是[[MK274][同构映射]]，且对于任意 $y\in Y$ 必有 $y\geq\min(Y)$

进而有 $e(y)=y$ 即 $e$ 是满足条件的同构映射

综上所述，对于任意 $a<\min(Y)$ 可得不存在 $b\geq\min(Y)$ 满足 $b\in[a]_\mathcal{R}$ ，且对于任意 $b<\min(Y)$

均有 $b\in[a]_\mathcal{R}$ 即 $[a]_\mathcal{R}=(-\infty,\min(Y))$

**** 引理4<<MK361>>

[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 存在 $\mathcal{M}=\left<M,\{\left<p_<,\prec\right>\}\right>,\mathcal{N}=\left<N,\{\left<p_<,\prec\right>\}\right>$ 两个[[MK153][结构]]是[[MK355][无端点线性稠密序]]

且 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]，且 $A\in\text{Def}_1(\mathcal{N},M)$ 且 $A\cap M=\bigcup_{i=1}^n(a_i,b_i)_\mathcal{M}$

其中 $(a_i,b_i)_\mathcal{M}$ 是基于 $\mathcal{M}$ 上的区间，则 $A=\bigcup_{i=1}^n(a_i,b_i)_\mathcal{N}$ 其中 $(a_i,b_i)_\mathcal{N}$ 是 $\mathcal{N}$ 上的区间

***** 证明

****** 定义 $\theta$ 以及 $A^*$

若 $(a_i,b_i)_\mathcal{M}$ 是开区间，则定义 $\theta_i=(p_<(x_{i},x_{3n})\land p_<(x_{3n},x_{n+i}))$

若为闭区间，则定义 $\theta_i=((p_<(x_{i},x_{3n})\land p_<(x_{3n},x_{n+i}))\lor(x_i\hat{=}x_{i})\lor(x_{3n}\hat{ =}x_{n+i}))$

若为半开闭，则根据同理易证可写出 $\theta_i$ 表达式。

定义 $\theta=(\theta_1\lor...\lor\theta_n)$ 进而定义 $A^*$ 是 $\mathcal{N}$ 基于 $\theta$ 参数为 $v(x_i)=a_i\in M,v(x_{n+1})=b_i\in M$

变量为 $x_{3n}$ 所[[MK313][定义]]的集合，显然 $A^*=\bigcup_{i=1}^n(a_i,b_i)_\mathcal{N}$ 且 $A^*\in\text{Def}_1(\mathcal{N},M)$

根据[[MK289][推论]]可得 $\mathcal{M}$ 同样可基于 $\theta$ 定义集合 $B\in\text{Def}_1(\mathcal{M},M)$

显然满足 $B=\bigcup_{i=1}^n(a_i,b_i)_\mathcal{M}=A^*\cap M=A\cap M$

****** 定义 $A'=(A^*-A)\cup(A-A^*)$ 证明 $A'\in\text{Def}_1(\mathcal{N},M)$ 

若 $A^*\ne A$ 则 $A'=(A^*-A)\cup(A-A^*)$ 假设 $A$ 由[[MK129][表达式]] $\theta'(x_{3n},x_{4n+1},...,x_{4n+m})$ 定义

其中 $v(x_{4n+i})=c_i$ 为参数 $x_{3n}$ 为变量，则定义表达式 $\theta^*=(((\lnot\theta)\land\theta')\lor(\theta\land(\lnot\theta')))$

其中参数为 $v(x_i)=a_i\in M,v(x_{n+1})=b_i\in M,v(x_{4n+i})=c_i\in M$ 变量为 $x_{3n}$

显然[[MK158][满足]] $\theta$ 等价于 $v(x_{3n})\in A^*$ 不满足等价于 $v(x_{3n})\not\in A^*$

[[MK158][满足]] $\theta'$ 等价于 $v(x_{3n})\in A$ 不满足等价于 $v(x_{3n})\not\in A$

总上所述，[[MK158][满足]] $\theta^*$ 等价与 $v(x_{3n})\in (A^*-A)$ 或 $v(x_{3n})\in (A-A^*)$ 即 $v(x_{3n})\in A'$

即由 $\theta^*$ 可在 $\mathcal{N}$ 上[[MK313][定义]] $A'\in\text{Def}_1(\mathcal{N},M)$

****** 假设 $A'\ne\varnothing$ 证明结论

若 $A^*\ne A$ 则显然有 $A'\ne\varnothing$ 故对于任意 $x\in A'$ 假设 $x\in M$

若 $x\in A-A^*$ 则 $x\in A$ 则有 $x\in A\cap M$ 同时 $x\not\in A^*$ 即有 $x\not\in M\cap A^*$

又由于 $A\cap M=A^*\cap M$ 故矛盾，此种情况下假设 $x\in M$ 不成立

若 $x\in A^*-A$ 同理可证此种情况下假设 $x\in M$ 亦不成立

综上所述，对于任意 $x\in A'$ 假设 $x\in M$ 不成，故对于任意 $x\in A'$ 均有 $x\not\in M$ 即 $A'\cap M=\varnothing$

又由于 $\mathcal{M}$ 是 $\mathcal{N}$ 的[[MK287][同质子结构]]， $A'\ne\varnothing$ 且 $A'\in\text{Def}_1(\mathcal{N},M)$

故根据[[MK293][塔尔斯基定理]]可得 $A\cap M\ne\varnothing$ 故矛盾，则假设 $A'\ne\varnothing$ 不成立

即有 $A=A^*=\bigcup_{i=1}^n(a_i,b_i)_\mathcal{N}$

**** 引理5

[[MK354][无端点线性稠密序语言]] $\mathcal{L}_{\mathcal{A}_<}$ 上的[[MK153][结构]] $\mathcal{M}=\left<\mathbb{Q},\{\left<p_<,<\right>\}\right>$ 即论域为 $\mathbb{Q}$ 且 $p_<$ 对应为有理数的小于

则 $\mathcal{M}$ 在 $\mathcal{L}_{\mathcal{A}_<}$ 上是[[MK394][饱和模型]]

***** 证明

根据[[~/文档/note/离散数学/lssx.org::MK96][推论1]]可得 $\mathbb{Q}$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，则根据[[~/文档/note/离散数学/lssx.org::MK329][推论]]可得对于任意 $X\subset\mathbb{Q}$ 满足 $|X|<|\mathbb{Q}|$ 均有 $X$ 是[[~/文档/note/离散数学/lssx.org::MK82][有限集]]

则根据[[MK395][类型定理]]中[[MK159][证明]]可得对于任意[[MK322][ $1$ 元类型]] $\Gamma(x_1)\supset T_X$ 有且仅有一个 $\phi_i\in\Gamma$ ，其中 $\phi_i$ 满足：

（1） $\phi_0=p_<(x_1,c_{a_1}),\phi_1=p_<(x_1,c_{a_1})$

（2） $\phi_i=(p_<(a_{i-1},x_1)\land p_<(x_1,a_{i}))$ 其中 $2\leq i\leq m$

（3） $\phi_i=(x_1\hat{=}a_i)$ 其中 $m+1\leq i\leq 2m$

其中 $a_i\in X\subset\mathbb{Q}$ 故显然有对于任意 $0\leq i\leq 2m$ 均有 $\mathcal{M}_X\vDash\phi_i$

又根据[[MK389][引理2]]可得 $\mathcal{T}_X$ 是[[MK264][完全理论]]，则根据[[MK377][引理3]]可得 $\mathcal{M}_X\vDash\Gamma$

综上所述，对于任意 $X\subset\mathbb{Q}$ 满足 $|X|<|\mathbb{Q}|$ 则对于任意[[MK322][ $1$ 元类型]] $\Gamma(x_1)\supset T_X$ 均有 $\mathcal{M}_X\vDash\Gamma$

即 $\mathcal{M}$ 是[[MK394][饱和模型]]

**** 引理6

[[MK354][无端点线性稠密序语言]] $\mathcal{L}_{\mathcal{A}_<}$ 上的[[MK153][结构]] $\mathcal{M}=\left<\mathbb{R},\{\left<p_<,<\right>\}\right>$ 即论域为 $\mathbb{R}$ 且 $p_<$ 对应为有理数的小于

则 $\mathcal{M}$ 在 $\mathcal{L}_{\mathcal{A}_<}$ 上 *不是* [[MK394][饱和模型]]

***** 证明

定义 $X=\mathbb{N}$ 显然有 $|X|<|\mathbb{R}|$ 取 $C_X=\left\{c_n\big|n\in\mathbb{N}\right\}$ [[MK406][常元扩展]] 定义 $G=\left\{p_<(c_n,x_1)\big|c_n\in C_X\right\}$

显然 $G\subset\mathcal{L}_{\mathcal{A}_{C_X}}$ 任取 $G\cup\text{Th}((\mathcal{M},c_x)_{x\in X})$ 的[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $K$ 定义 $K\cap G=\{p_<(c_{n_1},x_1),...,p_<(c_{n_m},x_1)\}$

定义 $(\mathcal{M},c_x)_{x\in X}$ 的[[MK154][赋值]] $v$ 满足 $v(x_1)=\max(n_1,...,n_m)+1$ 则显然有 $\left<(\mathcal{M},c_x)_{x\in X},v\right>\vDash K\cap G$

又对于任意 $\theta\in K-G$ 根据定义有 $(\mathcal{M},c_x)_{x\in X}\vDash\theta$ 根据[[MK169][推论]]有 $\left<(\mathcal{M},c_x)_{x\in X},v\right>\vDash\theta$

则有 $\left<(\mathcal{M},c_x)_{x\in X},v\right>\vDash K$ ，根据[[MK255][完备性]]可得 $K$ [[MK222][一致]]

又根据 $G'$ 任意性以及[[MK271][紧致性]]可得 $G\cup\text{Th}((\mathcal{M},c_x)_{x\in X})$ [[MK222][一致]]

根据[[MK246][覆盖定理]]可得存在 $\mathcal{L}_{\mathcal{A}_{C_X}}$ 的[[MK322][ $1$ 元类型]] $\Gamma\supsetG\cup\text{Th}((\mathcal{M},c_x)_{x\in X})$

对于任意 $(\mathcal{M},c_x)_{x\in X}$ 的[[MK154][赋值]] $v$ 根据[[~/文档/note/实变函数/SBHS.org::MK19][阿基米德性质]]可得存在 $n^*\in\mathbb{N}$ 满足 $n^*>v(x_1)$

即 $\left<(\mathcal{M},c_x)_{x\in X},v\right>\not\vDash p_<(c_{n^*},x_1)$ ，显然 $p_<(c_{n^*},x_1)\in G$

故对于任意 $(\mathcal{M},c_x)_{x\in X}$ 的[[MK154][赋值]] $v$ 均有 $\left<(\mathcal{M},c_x)_{x\in X},v\right>\not\vDash G$ 即 $\left<(\mathcal{M},c_x)_{x\in X},v\right>\not\vDash\Gamma$

即 $(\mathcal{M},c_x)_{x\in X}$ 不[[MK323][实现]] $\Gamma$

**** 引理7（三歧性）<<MK447>>

[[MK356][一阶理论]] $\mathcal{T}_{\text{odl}}=\left<\mathcal{L}_{\mathcal{A}_<},\mathbb{L}\cap\mathcal{L}_{\mathcal{A}_<},T_{\text{odl}},T^*_{\text{odl}}\right>$ 有

\begin{aligned}
T_\text{odl}&\vdash(\forall x_1(\forall x_2((x_1\hat{=}x_2)\lor p_<(x_1,x_2)\lor p_<(x_2,x_1))))\\
T_\text{odl}&\vdash(\forall x_1(\forall x_2((x_1\hat{=}x_2)\leftrightarrow((\lnot p_<(x_1,x_2))\land (\lnot p_<(x_2,x_1))))))\\
T_\text{odl}&\vdash(\forall x_1(\forall x_2(p_<(x_1,x_2)\leftrightarrow((\lnot (x_1\hat{=}x_2))\land (\lnot p_<(x_2,x_1))))))\\
T_\text{odl}&\vdash(\forall x_1(\forall x_2(p_<(x_2,x_1)\leftrightarrow((\lnot p_<(x_1,x_2))\land (\lnot (x_1\hat{=}x_2))))))\\
\end{aligned}

***** 证明

****** 证明第一个

对于任意 $\mathcal{T}_\text{odl}$ 的[[MK221][模型]] $\mathcal{M}$ 根据[[MK355][公理（3）]]以及[[MK169][推论]]

可得 $\mathcal{M}\vDash(\forall x_1(\forall x_2((\lnot(x_1\hat{=}x_2))\to(p_<(x_1,x_2)\lor p_<(x_2,x_1)))))$

则对于任意 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash((\lnot(x_1\hat{=}x_2))\to(p_<(x_1,x_2)\lor p_<(x_2,x_1)))$

故根据[[MK158][满足]]若 $v(x_1)=v(x_2)$ 则 $\left<\mathcal{M},v\right>\vDash(x_1\hat{=}x_2)$ 否则 $\left<\mathcal{M},v\right>\vDash(p_<(x_1,x_2)\lor p_<(x_2,x_1))$

即对于任意 $v$ 均有 $\left<\mathcal{M},v\right>\vDash((x_1\hat{=}x_2)\lor p_<(x_1,x_2)\lor p_<(x_2,x_1))$

根据[[MK169][推论]] $\mathcal{M}\vDash(\forall x_1(\forall x_2((x_1\hat{=}x_2)\lor p_<(x_1,x_2)\lor p_<(x_2,x_1))))$

综上所述，对于任意 $\mathcal{T}_\text{odl}$ 的[[MK221][模型]] $\mathcal{M}$ 均有 $\mathcal{M}\vDash(\forall x_1(\forall x_2((x_1\hat{=}x_2)\lor p_<(x_1,x_2)\lor p_<(x_2,x_1))))$

根据[[MK257][完备性]] $T_\text{odl}&\vdash(\forall x_1(\forall x_2((x_1\hat{=}x_2)\lor p_<(x_1,x_2)\lor p_<(x_2,x_1))))$

****** 证明其他

仅证 $T_\text{odl}&\vdash(\forall x_1(\forall x_2(p_<(x_1,x_2)\leftrightarrow((\lnot (x_1\hat{=}x_2))\land (\lnot p_<(x_2,x_1))))))$ 其余同理可证

对于任意给定 $\mathcal{T}_\text{odl}$ 的[[MK221][模型]] $\mathcal{M}$ ，根据[[MK169][推论]]可得 $\mathcal{M}\vdash T_\text{odl}$ 。任取 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 根据以下证明

易证 $\left<\mathcal{M},v\right>\vDash(p_<(x_1,x_2)\leftrightarrow((\lnot (x_1\hat{=}x_2))\land (\lnot p_<(x_2,x_1))))$

又根据 $v$ 的任意性可得 $\mathcal{M}\vDash(\forall x_1(\forall x_2(p_<(x_1,x_2)\leftrightarrow((\lnot (x_1\hat{=}x_2))\land (\lnot p_<(x_2,x_1))))))$

根据[[MK257][完备性]] $T_\text{odl}&\vdash(\forall x_1(\forall x_2(p_<(x_1,x_2)\leftrightarrow((\lnot (x_1\hat{=}x_2))\land (\lnot p_<(x_2,x_1))))))$ 

******* 充分

若满足 $\left<\mathcal{M},v\right>\vDash p_<(x_1,x_2)$ ，则根据以下证明可得 $\left<\mathcal{M},v\right>\vDash(\lnot(x_1\hat{ =}x_2))$ 且 $\left<\mathcal{M},v\right>\vDash(\lnot p_<(x_2,x_1))$

即 $\left<\mathcal{M},v\right>\vDash((\lnot(x_1\hat{ =}x_2))\land(\lnot p_<(x_2,x_1)))$

******** 假设 $\left<\mathcal{M},v\right>\vDash(x_1\hat{=}x_2)$

则有 $v(x_1)=v(x_2)$ 根据[[MK176][替换定理]]可得 $\left<\mathcal{M},v\right>\vDash p_<(x_1,x_1)$

根据[[MK355][公理（1）]]、[[MK197][特化公理]]以及[[MK210][导出引理]]易证 $T\vdash(\lnot p_<(x_1,x_1))$

由于 $\mathcal{M}$ 是 $\mathcal{T}_\text{odl}$ 的[[MK221][模型]]，则根据[[MK257][完备性]]可得 $\left<\mathcal{M},v\right>\vDash(\lnot p_<(x_1,x_1))$ 矛盾，故假设不成立

故有 $\left<\mathcal{M},v\right>\not\vDash(x_1\hat{=}x_2)$ 即 $\left<\mathcal{M},v\right>\vDash(\lnot(x_1\hat{ =}x_2))$

******** 假设 $\left<\mathcal{M},v\right>\vDash p_<(x_2,x_1)$

根据[[MK355][公理（2）]]、[[MK197][特化公理]]、[[MK210][导出引理]]以及[[MK257][完备性]]结合 $\left<\mathcal{M},v\right>\vDash p_<(x_1,x_2)$ 易证 $\left<\mathcal{M},v\right>\vDash p_<(x_1,x_1)$

则与上一步同理可推出矛盾，故假设不成立，则易证 $\left<\mathcal{M},v\right>\vDash(\lnot p_<(x_2,x_1))$

******* 必要

若满足 $\left<\mathcal{M},v\right>\vDash((\lnot(x_1\hat{ =}x_2))\land(\lnot p_<(x_2,x_1)))$ 根据[[MK158][满足]]可得 $\left<\mathcal{M},v\right>\not\vDash(x_1\hat{ =}x_2)$ 以及 $\left<\mathcal{M},v\right>\not\vDash p_<(x_1,x_2)$

则根据本引理第一个公式以及[[MK257][完备性]] $\left<\mathcal{M},v\right>\vDash((x_1\hat{=}x_2)\lor p_<(x_1,x_2)\lor p_<(x_2,x_1))$

结合[[MK171][逻辑或]]可得 $\left<\mathcal{M},v\right>\vDash p_<(x_1,x_2)$

**** 引理8<<MK456>>

[[MK220][一阶理论]] $\mathcal{T}_{\text{odl}}=\left<\mathcal{L}_{\mathcal{A}_<},\mathbb{L}\cap\mathcal{L}_{\mathcal{A}_<},T_{\text{odl}},T^*_{\text{odl}}\right>$ 的于任意[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$

对于任意一组[[~/文档/note/离散数学/lssx.org::MK82][有限]]的[[MK107][变元符号]] $\{x_{a_1},...,x_{a_n}\}$ 均可排序 $\left<x_{a'_1},...,x_{a'_n}\right>$ 满足：

（1） $\{a_1,...,a_n\}=\{a'_1,...,a'_n\}$

（2） 任意 $1\leq i<j\leq n$ 均有 $\left<\mathcal{M},v\right>\vDash((x_{a'_i}\hat{=}x_{a'_j})\lor p_<(x_{a'_i},x_{a'_j}))$

***** 证明

根据以下证明以及数学归纳法可证

****** $n=1$

则显然 $\left<x_{a_1}\right>$ 是满足条件的排序

****** 归纳假设

假设任意 $1\leq n<N$ 均存在 $\left<x_{a'_1},...,x_{a'_n}\right>$ 满足条件

****** $n=N$

根据归纳假设 $\{x_{a_1},...,x_{a_{n-1}}\}$ 有满足条件的排序 $\left<x_{a'_1},...,x_{a'_{n-1}}\right>$

根据[[MK447][三歧性]]以及[[MK197][特化公理]]易证对于任意 $x_{a'_i}$

有 $\left<\mathcal{M},v\right>\vDash(x_{a'_i}\hat{=}x_{a_n}),\left<\mathcal{M},v\right>\vDash p_<(x_{a'_i},x_{a_n}),\left<\mathcal{M},v\right>\vDash p_<(x_{a_n},x_{a'_i})$

有且仅有一个成立，则：

若对于任意 $x_{a'_i}$ 均有 $\left<\mathcal{M},v\right>\vDash p_<(x_{a_n},x_{a'_i})$ 则定义排序为 $\left<x_{a_n},x_{a'_1},...,x_{a'_{n-1}}\right>$

若对于任意 $x_{a'_i}$ 均有 $\left<\mathcal{M},v\right>\vDash p_<(x_{a'_i},x_{a_n})$ 则定义排序为 $\left<x_{a'_1},...,x_{a'_{n-1}},x_{a_n}\right>$

否则，则取最大 $i$ 满足 $\left<\mathcal{M},v\right>\vDash p_<(x_{a'_i},x_{a_n})$ 成立并定义排序为 $\left<x_{a'_1},...,x_{a'_i},x_{a_n},x_{a'_{i+1}},...,x_{a'_{n-1}}\right>$

显然对于任意 $x_{a'_j}$ 排在 $x_{a_n}$ 左边必有 $\left<\mathcal{M},v\right>\vDash p_<(x_{a'_i},x_{a_n})$

根据归纳假设 $\left<\mathcal{M},v\right>\vDash((x_{a'_j}\hat{=}x_{a'_i})\lor p_<(x_{a'_j},x_{a'_i}))$ 根据[[MK457][引理9]]可得 $\left<\mathcal{M},v\right>\vDash p_<(x_{a'_j},x_{a_n})$

对于任意 $x_{a'_j}$ 排在 $x_{a_n}$ 右边有 $\left<\mathcal{M},v\right>\not\vDash p_<(x_{a_n},x_{a'_{i+1}})$

根据[[MK447][三歧性]]有 $\left<\mathcal{M},v\right>\vDash((x_{a_n}\hat{=}x_{a'_i})\lor p_<(x_{a_n},x_{a'_i}))$

根据归纳假设亦有 $\left<\mathcal{M},v\right>\vDash((x_{a'_i}\hat{=}x_{a'_j})\lor p_<(x_{a'_i},x_{a'_j}))$ ，则根据[[MK457][引理9]]易证 $\left<\mathcal{M},v\right>\vDash p_<(x_{a_n},x_{a'_j})$

即存在满足条件的排序

**** 引理9<<MK457>>

[[MK220][一阶理论]] $\mathcal{T}_{\text{odl}}=\left<\mathcal{L}_{\mathcal{A}_<},\mathbb{L}\cap\mathcal{L}_{\mathcal{A}_<},T_{\text{odl}},T^*_{\text{odl}}\right>$ 的于任意[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$

（1） 若有 $\left<\mathcal{M},v\right>\vDash((x_i\hat{=}x_j)\lor p_<(x_i,x_j))$ 以及 $\left<\mathcal{M},v\right>\vDash p_<(x_j,x_k)$ 则有 $\left<\mathcal{M},v\right>\vDash p_<(x_i,x_k)$

（2） 若有 $\left<\mathcal{M},v\right>\vDash((x_i\hat{=}x_j)\lor p_<(x_i,x_j))$ 以及 $\left<\mathcal{M},v\right>\vDash p_<(x_k,x_i)$ 则有 $\left<\mathcal{M},v\right>\vDash p_<(x_k,x_j)$

***** 证明

仅证（1），同理可证（2）

根据[[MK171][逻辑或]]可得 $\left<\mathcal{M},v\right>\vDash(x_i\hat{=}x_j)$ 或者 $\left<\mathcal{M},v\right>\vDash p_<(x_i,x_j)$ 
 
若 $\left<\mathcal{M},v\right>\vDash p_<(x_i,x_j)$ ，则根据[[MK355][公理（2）]]、[[MK197][特化公理]]以及[[MK257][完备性]]易证 $\left<\mathcal{M},v\right>\vDash p_<(x_i,x_k)$

若 $\left<\mathcal{M},v\right>\vDash(x_i\hat{=}x_j)$ ，则根据[[MK158][满足]]有 $v(x_i)=v(x_j)$ 则根据[[MK176][替换定理]]

可得 $\left<\mathcal{M},v\right>\vDash p_<(x_i,x_k)=p_<(x_j,x_k)(\left<x_j\right>,\left<x_i\right>)$

*** 定理

**** 康托定理<<MK362>>

[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 存在 $\mathcal{M}=\left<A,\{\left<p_<,\lessdot\right>\}\right>,\mathcal{N}=\left<B,\{\left<p_<,\prec\right>\}\right>$ 两个[[MK153][结构]]是[[MK355][无端点线性稠密序]]

若 $A,B$ 均为[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，则 $\mathcal{M}$ 与 $\mathcal{N}$ [[MK274][同构]]

***** 证明

定义 $\lessdot_i=\lessdot\cap A_i^2$ 以及 $\prec_i=\prec\cap B_i^2$ 由于可数，故存在[[~/文档/note/离散数学/lssx.org::MK181][双射]] $f:A\to\mathbb{N},g:B\to\mathbb{N}$

则根据以下证明以及数学归纳法，可得对于任意 $n\in\mathbb{N}$ 均有：

（1） $h_n$ 是 $\left<A_n,\{\left<p_<,\lessdot_n\right>\}\right>$ 到 $\left<B_n,\{\left<p_<,\prec_n\right>\}\right>$ 的[[MK274][同构函数]]

（2） $A_n\subset A,B_n\subset B$

（3） $f^{-1}(n)\in A_n,g^{-1}(n)\in B_n$

故定义 $h=\bigcup_{i=0}^\infty h_i,A'=\bigcup_{i=0}^\infty A_i,B' =\bigcup_{i=0}^\infty B_i$ 显然有 $A'\subset A,B'\subset B$

对于任意 $a\in A$ 可得有 $k=f(a)\in\mathbb{N}$ 则有 $f^{-1}(k)\in A_k\subset A'$ 即 $\forall a\in A\rightarrow a\in A'$ 即 $A'\subset A$ 

则根据[[~/文档/note/离散数学/lssx.org::MK16][自反性]]可得 $A'=A$ 同理可证 $B'=B$

根据[[~/文档/note/离散数学/lssx.org::MK184][并双射2]]可得 $h$ 亦为[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]，对于任意 $\{a,b\}\subset A$ 满足 $a\lessdot b$ 取 $n=\max(f^{-1}(a),f^{-1}(b))$

则有 $h_n$ 满足 $h_n(a),h_n(b)$ 有定义，由于 $h_n$ 是 $\left<A_n,\lessdot_n\right>$ 到 $\left<B_n,\prec_n\right>$ 的[[MK274][同构函数]]

则有 $h_n(a)\prec h_n(b)$ ，又由于 $h$ 是双射函数且 $h_n\subset h$ 故必有 $h(a)=h_n(a),h(b)=h_n(b)$

故亦有 $h(a)\prec h(b)$ 同理可证若 $\{a,b\}\subset B$ 满足 $a\prec b$ 则 $h^{-1}(a)\lessdot h^{-1}(b)$

综上所述，结合和[[MK354][语言]]定义可得 $h$ 是 $\mathcal{M}$ 与 $\mathcal{N}$ 的[[MK274][同构函数]]

****** 定义 $h_1,\left<A_1,\{\left<p_<,\lessdot_1\right>\}\right>,\left<B_1,\{\left<p_<,\prec_1\right>\}\right>$

任取 $\{f^{-1}(1),f^{-1}(2)\}\subset A,\{g^{-1}(1),g^{-1}(2)\}\subset B$ 构成 $A_1,B_1$

根据[[MK355][公理（3）]]可得 $f^{-1}(1)\lessdot f^{-1}(2),f^{-1}(2)\lessdot f^{-1}(1)$ 必有一个成立，同理 $B_0$ 中元素亦有序关系

则显然可以构造 $\left<A_1,\{\left<p_<,\lessdot_1\right>\}\right>$ 到 $\left<B_1,\{\left<p_<,\prec_1\right>\}\right>$ 的[[MK274][同构映射]] $h_1$

****** 归纳假设

对于任意 $h_i$ 满足 $0<i<n$ 满足有:

（1） 若 $i<j$ 则有 $h_i\subset h_j$

（2） $h_i$ 是 $\left<A_i,\{\left<p_<,\lessdot_i\right>\}\right>$ 到 $\left<B_i,\{\left<p_<,\prec_i\right>\}\right>$ 的[[MK274][同构函数]]

（3） $A_i\subset A,B_i\subset B$

（4） $f^{-1}(i)\in A_i,g^{-1}(i)\in B_i$

****** 定义 $h_n,\left<A_n,\{\left<p_<,\lessdot_n\right>\}\right>,\left<B_n,\{\left<p_<,\prec_n\right>\}\right>$

******* 正向取

取 $a_n=f^{-1}(n)$ 若 $a_n\in A_{n-1}$ 则由于 $h_{n-1}$ 是[[~/文档/note/离散数学/lssx.org::MK175][函数]]可得存在 $b$ 满足 $b=h_{n-1}(a_n)$

则定义 $h'_n=h_{n-1}, A'_n=A_{n-1},B'_n=B_{n-1}$ 根据归纳假设显然 $h'_n$ 是 $\left<A'_n,\{\left<p_<,\lessdot'_n\right>\}\right>$

到 $\left<B'_n,\{\left<p_<,\prec'_n\right>\}\right>$ 的[[MK274][同构函数]]且 $h_{n-1}\subset h'_n$ 以及 $a_n\in A'_n$ ，其中 $\lessdot'_n=\lessdot_{n-1},\prec'_n=\prec_{n-1}$

若 $a_n\not\in A_{n-1}$ ，则有 $a_n\in A-A_n$ ，则根据[[MK359][引理2]]可得存在 $b\in B-B_{n-1}$

定义 $A'_n=A_{n-1}\cup\{a_n\},B'_n=B_{n-1}\cup\{b\}$ ，则有 $h'_n=h_{n-1}\cup<a_n,b>$

是 $\left<A'_n,\{\left<p_<,\lessdot'_n\right>\}\right>$ 到 $\left<B'_n,\{\left<p_<\prec'_n\right>\}\right>$ 的[[MK274][同构函数]]且 $h_{n-1}\subset h'_n$ 以及 $a_n\in A'_n$

其中 $\lessdot'_n=\lessdot_{n-1}\cap A'_n^2,\prec'_n=\prec_{n-1}\cap B'_n^2$

综上所述，可得 $h_{n-1}\subset h'_n$ ， $h'$ 是 $\left<A'_n,\{\left<p_<,\lessdot'_n\right>\}\right>$ 到 $\left<B'_n,\{\left<p_<\prec'_n\right>\}\right>$ 的[[MK274][同构函数]]

以及 $a_n\in A'_n$

******* 反向取

取 $b_n=g^{-1}(n)$ 若 $b_n\in B_{n-1}$ 则由于 $h'_{n-1}$ 是[[MK274][同构函数]]故是[[~/文档/note/离散数学/lssx.org::MK181][双射函数]]，则可得存在 $a$ 满足 $a=h'_{n-1}(a)$

则定义 $h_n=h'_n, A_n=A'_n,B_n=B'_n$ 显然根据上一步证明 $h_n$ 是 $\left<A_n,\{\left<p_<,\lessdot_n\right>\}\right>$

到 $\left<B_n,\{\left<p_<,\prec_n\right>\}\right>$ 的[[MK274][同构函数]]， $h_{n-1}\subset h'_n\subset h_n$ 以及 $a_n\in A'_n\subset A_n,b_n\in B_n$

若 $b_n\not\in B_{n-1}$ ，则有 $b_n\in B-B'_n$ ，根据[[MK359][引理2]]可得存在 $a\in A-A'_n$ 

定义 $A_n=A'_n\cup\{a\},B_n=B'_n\cup\{b_n\}$ ，则有 $h_n=h'_n\cup\left<a_n,b\right>$ 是 $\left<A_n,\{\left<p_<,\lessdot_n\right>\}\right>$

到 $<B_n,<p_<,\prec_n>>$ 的[[MK274][同构函数]]， $h_{n-1}\subset h'_n\subset h_n$ 以及 $a_n\in A'_n\subset A_n,b_n\in B_n$

综上所述，结合上一步证明有 $h_{n-1}\subset h'_n\subset h_n$ ， $h_n$ 是 $\left<A_n,\{\left<p_<,\lessdot_n\right>\}\right>$

到 $\left<B_n,\{\left<p_<,\prec_n\right>\}\right>$ 的[[MK274][同构函数]]，以及 $a_n\in A_n,b_n\in B_n$

**** 实数轴区间定理<<MK363>>

[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 存在[[MK153][结构]] $\mathcal{M}=\left<\mathbb{R},\{\left<p_<,<\right>\}\right>$ 即论域为 $\mathbb{R}$ 且 $p_<$ 对应为实数的小于

则对于任意 $X\subset\mathbb{R},A\subset\mathbb{R}$ 且 $A\ne\varnothing$ 均有 $A\in\text{Def}_1(\mathcal{M},X)$ 的充要条件

是 $A$ 为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个端点在 $X$ 中的开区间以及 $X$ 中的点的并

***** 证明

****** 充分

若 $A\in\text{Def}_1(\mathcal{M},X)$ 则存在 $\phi(x_1,...x_{n+1})\in\mathcal{L}_\mathcal{A}$ 使得 $a\in A$ 的充要条件是 $\mathcal{M}\vDash\phi[a,b_1,...,b_n]$

定义 $Y=\{b_1,...,b_n\}$ 取任意[[MK274][同构映射]] $e:\mathbb{R}\to\mathbb{R}$ 满足 $\forall b\in Y\rightarrow e(b)=b$ 则根据[[MK276][定理]]可得

任意[[MK154][赋值]] $v$ 使得 $v(x_1)=a$ 能[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash\phi[v(x_1),b_1,...,b_n]$

的充要条件是 $\left<\mathcal{M},v\cdot e\right>\vDash\phi[v\cdot e(x_1),b_1,...,b_n]$ 由于 $v(x_1)=a$ 即有 $v\cdot e(x_1)=e(a)$ 

则根据[[MK168][局部确定性定理]]可得若 $\mathcal{M}\vDash\phi[a,b_1,...,b_n]$ 则有 $\mathcal{M}\vDash\phi[e(a),b_1,...,b_n]$ 即 $e(a)\in A$

故对于任意 $a\in A$ 若存在[[MK274][同构映射]] $e$ 满足 $e(a)=b$ 以及 $\forall b\in Y\rightarrow e(b)=b$ 则 $e(a)\in A$

则根据[[MK360][引理3]]可得满足该条件的元素组成等价关系，即 $[a]_\mathcal{R}\subset A$ 其中 $\mathcal{R}$ 表示满足上述条件的关系

故显然 $A=\bigcup_{a\in A}[a]_\mathcal{R}$ 。又根据[[MK360][引理3]]可得对于任意 $a\in A$ 其[[~/文档/note/离散数学/lssx.org::MK133][等价类]] $[a]_\mathcal{R}$ 仅有可能有 $Y$ 中的点

以及他们与 $\pm\infty$ 组成的开区间，又由于 $Y$ 是[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，则易证 $Y$ 中的点组成的区间亦为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个

则易证 $A$ 必为以 $Y\cup\{+\infty,-\infty\}$ 中的端点组成的有限个区间的并

****** 必要

若 $A$ 为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个端点在 $X$ 中的开区间以及 $X$ 中的点的并，定义为 $(b_2,b_3)\cup...\cup(b_n,b_{n+1})\cup\{b_{i_1},...,b_{i_m}\}$

则定义 $\phi=((p_<(x_2,x_1)\land p_<(x_1,x_3))\lor...\lor(p_<(x_n,x_1)\land p_<(x_1,x_{n+1}))\lor(x_1\hat{=}x_{i_1})\lor...\lor(x_1\hat{ =}x_{i_n}))$

显然对于任意 $a\in\mathbb{R}$ 有[[MK158][满足关系]] $\mathcal{M}\vDash\phi[a,b_1,...,b_n]$ 均在开区间 $(b_2,b_3),...,(b_n,b_{n+1})$ 内或为 $b_{i_1},...,b_{i_m}$

中的元素，故可得 $A$ 是以 $X$ 为参数在 $\mathcal{M}$ 中[[MK313][可定义]]的集合

***** 推论<<MK364>>

[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 存在[[MK153][结构]] $\mathcal{M}=\left<\mathbb{Q},\{\left<p_<,<\right>\}\right>$ 即论域为 $\mathbb{Q}$ 且 $p_<$ 对应为有理数的小于

则对于任意 $X\subset\mathbb{Q},A\subset\mathbb{Q}$ 且 $A\ne\varnothing$ 均有 $A\in\text{Def}_1(\mathcal{M},X)$ 的充要条件

是 $A$ 为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个端点在 $X$ 中的区间的并

****** 证明

显然 $\mathcal{M}=\left<\mathbb{Q},\{\left<p_<,<\right>\}\right>$ 是[[MK355][无端点线性稠密序]]，则根据[[MK365][同质子轴定理]]

可得 $\mathcal{M}$ 是 $\mathcal{N}=\left<\mathbb{R},\{\left<p_<,<\right>\}\right>$ 的[[MK287][同质子结构]]

则对于任意 $A\in\text{Def}_1(\mathcal{M},X)$ 存在[[MK129][表达式]] $\phi(x_1,...,x_{n+1})$ 满足 $a\in A$ 的充要条件是 $\mathcal{M}\vDash\phi[a,b_1,...,b_n]$

则根据[[MK289][推论2]]可得表达式 $\phi$ 以同样参数 $b_1,...,b_n$ 在 $\mathcal{N}$ 上定义的集合 $A^*$ 满足 $A=A^*\cap \mathbb{Q}$

根据[[MK363][区间定理]]可得 $A^*$ 是[[~/文档/note/离散数学/lssx.org::MK82][有限]]个端点在 $X$ 中的区间的并

则显然 $A=A^*\cap\mathbb{Q}$ 亦为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个端点在 $X$ 中定义在 $\mathbb{Q}$ 上的区间的并

**** 实数[[MK287][同质]]子轴定理<<MK365>>

[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 存在[[MK153][结构]] $\mathcal{M}=\left<\mathbb{R},\{\left<p_<,<\right>\}\right>$ 若 $X\subset\mathbb{R}$ 以及 $<_X=<\cap X^2$ 进而定义 $\mathcal{N}=\left<X,\{\left<p_<,<_X\right>\}\right>$

故有 $\mathcal{N}$ 是 $\mathcal{M}$ 的[[MK287][同质子结构]]的充要条件是 $\mathcal{N}$ 是[[MK355][无端点线性稠密序]]

***** 证明

****** 充分

定义

\begin{aligned}
\theta=&((\forall x_1(\lnot p_<(x_1,x_1)))\land\\
&((\forall x_1(\forall x_2(\forall x_3((p_<(x_1,x_2)\land p_<(x_2,x_3))\to p_<(x_1,x_3))))))\land\\
&((\forall x_1(\forall x_2((\lnot(x_1\hat{=}x_2))\to(p_<(x_1,x_2)\lor p_<(x_2,x_1))))))\land\\
&((\forall x_1(\exists x_2 p_<(x_1,x_2))))\land\\
&((\forall x_1(\exists x_2 p_<(x_2,x_1))))\land\\
&((\forall x_1(\forall x_2(p_<(x_1,x_2)\to(\exists x_3(p_<(x_1,x_3)\land p_<(x_3,x_2))))))))
\end{aligned}

即 $\theta\in\mathcal{L}_{\mathcal{A}_<}$ 是无端点线性稠密序的所有[[MK355][公理]]组成的[[MK144][语句]]，若[[MK158][满足]] $\theta$ 则[[MK153][结构]]是无端点线性稠密序

若 $\mathcal{N}\prec\mathcal{M}$ ，显然有 $\mathcal{M}\vDash\theta$ 根据[[MK287][定义]]可得 $\mathcal{N}\vDash\theta$ 故可得 $\mathcal{N}$ 是[[MK355][无端点线性稠密序]]

****** 必要

若 $\mathcal{N}$ 是[[MK355][无端点线性稠密序]]，根据[[MK363][区间定理]]可得任意非空 $A\in\text{Def}_1(\mathcal{M},X)$ 均为 $X\cup\{-\infty,+\infty\}$

中取有限个点组成的区间的并，故对于任意区间 $(a,b)$ 满足 $a\in X,b\in X$ 则根据[[MK355][公理（6）]]

可得存在 $c\in X$ 满足 $c\in(a,b)$ 若 $a=-\infty$ 或 $b=+\infty$ 则根据[[MK355][公理（4）（5）]]可得存在 $c$

满足 $c<b$ 或 $a<c$ 。综上所述，对于任意非空 $A\in\text{Def}_1(\mathcal{M},X)$ 均有 $A\cap X\ne\varnothing$

显然 $X\subset\mathbb{R}$ 且 $\mathcal{N}$ 是 $\mathcal{M}$ 的[[MK282][子结构]]，则根据[[MK293][塔尔斯基准则]]可得 $\mathcal{N}\prec\mathcal{M}$

**** 区间定理<<MK366>>

[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 存在 $\mathcal{M}=\left<M,\{\left<p_<,\lessdot\right>\}\right>$ 是[[MK355][无端点线性稠密序]]（即 $\mathcal{M}'\vDash T_{\text{odl}}$ ），则必有：

（1） $\mathcal{M}$ 与 $\left<\mathbb{Q},\{\left<p_<,<\right>\}\right>$ [[MK281][同样]]，其中 $\mathbb{Q}$ 是有理数， $<$ 是有理数上的序

（2） 对于任意 $X\subset M$ 若有 $A\ne\varnothing$ 且 $A\in\text{Def}_1(\mathcal{M},X)$ 均有 $A$ 是有限个端点在 $X$ 中的区间的并

***** 证明

****** 证明（1）

显然 $\mathcal{L}_{\mathcal{A}_<}$ 是[[MK151][可数语言]]，则根据[[MK294][同质缩小]]可得 $\mathcal{M}$ 存在的[[MK287][同质子结构]] $\mathcal{N}=\left<N,\{\left<p_<,\lessdot_N\right>\}\right>$ 其中 $N\subset M,\lessdot_N=\lessdot\cap N^2$

且 $N$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，又由于 $\mathbb{Q}$ 是[[~/文档/note/离散数学/lssx.org::MK96][可数集]]，则根据[[MK362][康托定理]]可得 $\mathcal{N}$ 与 $\left<\mathbb{Q},\{\left<p_<,<\right>\}\right>$ [[MK274][同构]]

根据[[MK279][推论]]可得 $\mathcal{N}$ 与 $\left<\mathbb{Q},\{\left<p_<,<\right>\}\right>$ [[MK281][同样]]，又根据[[MK288][推论1]]可得 $\mathcal{N}$ 与 $\mathcal{M}$ [[MK281][同样]]

综上所述， $\mathcal{N}\vDash\theta$ 的充要条件是 $\left<\mathbb{Q},\{\left<p_<,<\right>\}\right>\vDash\theta$ 即 $\mathcal{M}$ 与 $\left<\mathbb{Q},\{\left<p_<,<\right>\}\right>$ [[MK281][同样]]

****** 证明（2）

对于任意 $A\in\text{Def}_1(\mathcal{M},X)$ 存在[[MK129][表达式]] $\phi(x_1,...,x_{n+1})$ 满足 $a\in A$ 的充要条件是 $\mathcal{M}\vDash\phi[a,b_1,...,b_n]$

******* [[MK287][同质子结构]] $\mathcal{N}=\left<Y',\{\left<p_<,\lessdot_{Y'}\right>\}\right>$ 

易证存在[[~/文档/note/离散数学/lssx.org::MK89][可数集]] $Y\subset M$ 满足 $b_i\in Y$ 则根据 $\mathcal{L}_{\mathcal{A}_<}$ 是[[MK151][可数语言]]以及[[MK294][同质缩小]]可得存在 $Y'$

满足 $\mathcal{N}=\left<Y',\{\left<p_<,\lessdot_{Y'}\right>\}\right>$ 是 $\mathcal{M}$ 的[[MK287][同质子结构]]，其中 $\lessdot_{Y'}=\lessdot\cap (Y')^2$

******* $\mathcal{N}$ 是[[MK355][无端点线性稠密序]]

定义

\begin{aligned}
\theta=&((\forall x_1(\lnot p_<(x_1,x_1)))\land\\
&((\forall x_1(\forall x_2(\forall x_3((p_<(x_1,x_2)\land p_<(x_2,x_3))\to p_<(x_1,x_3))))))\land\\
&((\forall x_1(\forall x_2((\lnot(x_1\hat{=}x_2))\to(p_<(x_1,x_2)\lor p_<(x_2,x_1))))))\land\\
&((\forall x_1(\exists x_2 p_<(x_1,x_2))))\land\\
&((\forall x_1(\exists x_2 p_<(x_2,x_1))))\land\\
&((\forall x_1(\forall x_2(p_<(x_1,x_2)\to(\exists x_3(p_<(x_1,x_3)\land p_<(x_3,x_2))))))))
\end{aligned}

即 $\theta\in\mathcal{L}_{\mathcal{A}_<}$ 是无端点线性稠密序的所有[[MK355][公理]]组成的[[MK144][语句]]，若[[MK158][满足]] $\theta$ 则[[MK153][结构]]是无端点线性稠密序

若 $\mathcal{N}\prec\mathcal{M}$ ，根据条件有 $\mathcal{M}\vDash\theta$ 根据[[MK287][定义]]可得 $\mathcal{N}\vDash\theta$ 故可得 $\mathcal{N}$ 是[[MK355][无端点线性稠密序]]

******* $\mathcal{N}$ 与 $\mathcal{S}=\left<\mathbb{Q},\{\left<p_<,\right >\}\right>$ [[MK274][同构]] 

定义 $\mathcal{S}=\left<\mathbb{Q},\{\left<p_<,<\right>\}\right>$ 显然 $\mathbb{Q}$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]且 $\mathcal{S}$ 是[[MK355][无端点线性稠密序]]

又由于 $Y'$ 是[[~/文档/note/离散数学/lssx.org::MK89][可数集]]，则根据[[MK362][康托定理]]可得 $\mathcal{N}$ 与 $\mathcal{S}$ [[MK274][同构]]，定义[[MK274][同构映射]]为 $e:Y'\to\mathbb{Q}$

******* 结论

定义 $\mathcal{N}$ 上由表达式 $\phi$ ，参数 $B=\{b_1,..,b_n\}$ 变量 $x_1$ 定义的集合为 $A'\in\text{Def}_1(\mathcal{N},B)$

定义在 $\mathcal{S}$ 上由表达式 $\phi$ ，参数 $B'=\{e(b_1),..,e(b_n)\}$ 变量 $x_1$ 定义的集合为 $A''\in\text{Def}_1(\mathcal{S},B')$

根据[[MK276][定理]]可得 $\mathcal{N}\vDash\phi[a,b_1,...,b_n]$ 的充要条件是 $\mathcal{S}\vDash\phi[e(a),e(b_1),...,e(b_n)]$

根据[[MK313][可定义]]有 $e(a)\in A''$ 的充要条件为 $\mathcal{S}\vDash\phi[e(a),e(b_1),...,e(b_n)]$

以及 $a\in A'$ 的充要条件为 $\mathcal{N}\vDash\phi[a,b_1,...,b_n]$ ，即 $a\in A'$ 的充要条件为 $e(a)\in A''$

根据[[MK364][推论]] $A''$ 为 $\mathcal{S}$ 上[[~/文档/note/离散数学/lssx.org::MK82][有限]]个端点在 $B'$ 中的区间的并

易证 $A'$ 亦为 $\mathcal{N}$ 上[[~/文档/note/离散数学/lssx.org::MK82][有限]]个端点在 $B$ 中的区间的并

根据[[MK289][推论2]]可得 $A'=A\cap Y'$ ，则根据 $\mathcal{N}\prec\mathcal{M}$ ，均为[[MK355][无端点线性稠密序]]且 $A\in\text{Def}_1(\mathcal{M},X)$

则根据[[MK361][引理4]]可得 $A$ 为 $\mathcal{M}$ 上[[~/文档/note/离散数学/lssx.org::MK82][有限]]个端点在 $B$ 中的区间的并

**** [[~/文档/note/离散数学/lssx.org::MK171][良序]]不可刻画

[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 以及其[[MK129][表达式]]集合 $\Gamma$ ，若[[MK355][公理（1）（2）（3）]]均在 $\Gamma$ 中且 $\Gamma$ [[MK222][一致]]

若有[[MK195][无穷模型]] $\mathcal{M}=\left<M,\{\left<p_<,<\right>\}\right>\vDash\Gamma$ 则存在[[MK153][结构]] $\mathcal{N}=\left<N,\{\left<p_<,\lessdot\right>\}\right>$ 满足 $\left<N,\lessdot\right>$ 不是[[~/文档/note/离散数学/lssx.org::MK171][良序]]

***** 证明

定义 $\Gamma^*=\Gamma\cup\left\{p_<(x_j,x_i)\big|0<i<j<\infty\right\}$ 对于任意 $\Gamma'\subset\Gamma^*$ 且 $|\Gamma'|=n<\infty$

由于 $\Gamma'$ 是[[~/文档/note/离散数学/lssx.org::MK82][有限集]]，则可取 $m$ 足够大满足 $\Gamma'-\Gamma\subset\left\{p_<(x_j,x_i)\big|0<i<j<m\right\}$

根据条件可得 $\Gamma$ 有[[MK195][无穷模型]] $\mathcal{M}\vDash\Gamma$ ，由于 $\mathcal{M}\vDash\Gamma$ 且 $\Gamma$ 是[[MK355][线性序]]

则易证可取 $\{a_1,...,a_n\}\subset M$ 满足 $a_i<a_{i+1}$ 则定义 $\mathcal{M}$ 的[[MK154][赋值]] $v$ 满足 $v(x_i)=a_i$

故对于任意 $0<i<j<m$ 可得 $\left<\mathcal{M},v\right>\vDash p_<(x_j,x_i)$ 即有 $\left<\mathcal{M},v\right>\vDash\Gamma'-\Gamma$  

由于 $\mathcal{M}\vDash\Gamma$ 则有 $\mathcal{M}\vDash\Gamma'\cap\Gamma$ 进而有 $\left<\mathcal{M},v\right>\vDash\Gamma'\cap\Gamma$ ，即有 $\left<\mathcal{M},v\right>\vDash\Gamma'$

根据[[MK254][完备性定理]]可得 $\Gamma'$ [[MK222][一致]]

综上所述，对于任意 $\Gamma^*$ 的[[~/文档/note/离散数学/lssx.org::MK82][有限]]子集 $\Gamma'$ 均有 $\Gamma'$ [[MK222][一致]]，则根据[[MK271][紧致性定理]]可得 $\Gamma^*$ 一致

同理根据[[MK254][完备性定理]]可得 $\Gamma^*$ [[MK189][可满足]]，则存在[[MK153][结构]] $\mathcal{N}=\left<N,\{\left<p_<,\lessdot\right>\}\right>$ 及其[[MK154][赋值]] $v$ 使得 $\left<\mathcal{N},v\right>\vDash\Gamma^*$

显然有 $\left<\mathcal{N},v\right>\vDash\Gamma$ 定义 $v(x_i)=a_i$ 则有 $a_i\in N$ 且对于任意 $j>i$ 有 $a_j\lessdot a_i$ 

即存在无限递降序列 $\\...\lessdot a_k\lessdot...\lessdot a_2\lessdot a_1$ 则显然 $\left<N,\lessdot\right>$ 不是[[~/文档/note/离散数学/lssx.org::MK171][良序]]

***** 注

该定理表明无法通过[[MK153][一阶语言]]来描述[[~/文档/note/离散数学/lssx.org::MK171][良序]]性质，即对于任意[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 的任意[[MK129][表达式]]集合 $\Gamma$ 

都无法对任意[[MK153][结构]] $\mathcal{N}=\left<N,I\right>$ 描述 $N$ 中的子集存在[[~/文档/note/离散数学/lssx.org::MK166][最小元]]

其关键在于无法仅通过 $\Gamma$ 描述全集 $N$ 以及其任意子集

例如 $\Gamma$ 包含[[MK151][语句]] $(\forall x_1((\forall x_4((x_4\in x_1)\to p\in(x_4,c_0)))\to(\exists x_2(\forall x_3((x_3\in x_1)\to p_<(x_2,x_3))))))$

当且仅当 $I(c_0)=N$ 上述语句可描述[[~/文档/note/离散数学/lssx.org::MK171][良序]]性质

对于其他 $I(c_0)\ne N$ 的不同[[MK153][结构]]，上述语句均无法描述该性质

**** 类型定理<<MK395>>

[[MK354][语言]] $\mathcal{L}_{\mathcal{A}_<}$ 定义[[MK153][结构]] $\mathcal{M}=\left<\mathbb{Q},\{\left<p_<,<\right>\}\right>$ 即论域为 $\mathbb{Q}$ 且 $p_<$ 对应为有理数的小于

任取 $X\subset\mathbb{Q}$ 满足 $|X|=m\in\mathbb{N}$ 并依次做以下定义：

（1） $C_X=\left\{c_x\big|x\in X\right\}$ 是以 $x$ 为[[~/文档/note/离散数学/lssx.org::MK48][下标]]的[[MK108][常元符号]]

（2） $\mathcal{A}_{<\cup C_X}=\mathcal{A}_<\cup C_X$ 则有[[MK295][扩充语言]] $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$

（3） $\mathcal{M}_X=\left<\mathbb{Q},\{\left<p_<,<\right>\}\cup\left\{\left<c_x,x\right>\big|x\in X\right\}\right>$ 则显然 $\mathcal{M}_X$ 是 $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 的[[MK153][结构]]
 
（4） $T_X=\left\{\theta\big|\theta\in\Theta_X\land\mathcal{M}_X\vDash\theta\right\}$ 其中 $\Theta_X$ 是 $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 下所有的[[MK144][语句]]

显然 $\mathcal{T}_X=\left<\mathcal{L}_{\mathcal{A}_{<\cup C_X}},\mathbb{L}_{\mathcal{A}_{<\cup C_X}},T_X,T^*_X\right>$ 是 $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 的[[MK220][一阶理论]]

则共有 $2m+1$ 个包含 $T_X$ 的[[MK322][ $1$ 元类型]] $\Gamma(x_1)$ 共有 $2m+1$ 个，且每一个都是[[MK329][根本型]]

***** 证明

****** 存在唯一 $\phi_i$ 满足 $\phi_i\in\Gamma(x_1)$ <<MK159>>

由于 $X\subset\mathbb{Q}$ [[~/文档/note/离散数学/lssx.org::MK82][有限]]，则根据有理数小于关系排列 $X=\{a_1,...,a_m\}$ 满足 $a_1<...<a_m$

定义如下表达式：

（1） $\phi_0=p_<(x_1,c_{a_1}),\phi_1=p_<(c_{a_m},x_1)$

（2） $\phi_i=(p_<(a_{i-1},x_1)\land p_<(x_1,a_{i}))$ 其中 $2\leq i\leq m$

（3） $\phi_i=(x_1\hat{=}a_i)$ 其中 $m+1\leq i\leq 2m$

定义 $\varphi_1=\left(\forall x_1\left(\bigvee_{i=1}^{2m}\phi_i\right)\right),\varphi_{2,i}=\left(\forall x_1\left(\phi_i\to\left(\bigwedge_{j\ne i}(\lnot\phi_j)\right)\right)\right)$

则显然 $\mathcal{M}_X\vDash\varphi_1$ 以及 $\mathcal{M}_X\vDash\left\{\varphi_{2,i}\big|0\leq i\leq 2m\}$

显然均为[[MK144][语句]]，故有 $\left\{\varphi_1,\varphi_2\right\}\subset T_X$ 对于任意包含 $T_X$ 的[[MK322][ $1$ 元类型]] $\Gamma$ 亦有 $\left\{\varphi_1\right\}\cup\left\{\varphi_{2,i}\big|0\leq i\leq m\right\}\subset\Gamma$

根据[[MK222][一致]]以及[[MK255][完备性]]可得存在 $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 的[[MK153][结构]] $\mathcal{M}^*_X$ 满足 $\mathcal{M}^*_X\vDash\Gamma$

则根据[[MK158][满足]]、[[MK171][逻辑或]]以及[[MK170][逻辑与]]可得有且仅有一个 $0\leq i\leq 2m$ 满足 $\mathcal{M}^*_X\vDash\phi_i$ 且 $\mathcal{M}^*_X\vDash(\lnot\phi_j),j\ne i$

显然 $\phi_i$ 是[[MK322][关于 $x_1$ 的表达式]]且根据 $\mathcal{M}^*_X\vDash\phi_i$ 以及[[MK255][完备性]]可得 $\{\phi_i\}\cup\Gamma$ [[MK222][一致]]，根据[[MK322][类型]]可得 $\phi_i\in\Gamma$

假设存在 $\phi_j\in\Gamma,j\ne i$ 则 $\mathcal{M}^*_X\vDash\phi_j$ 与 $\mathcal{M}^*_X\vDash(\lnot\phi_j)$ 矛盾，故假设不成立

综上所述，对于任意包含 $T_X$ 的[[MK322][ $1$ 元类型]] $\Gamma$ 均存在唯一 $\phi_i$ 满足 $\phi_i\in\Gamma$

****** 是[[MK329][根本型]]

任意包含 $T_X$ 的[[MK322][ $1$ 元类型]] $\Gamma$ 根据上一步证明可得存在唯一 $\phi_i\in\Gamma$ ，任取 $\psi\in\Gamma$

对于任意 $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 的[[MK153][结构]] $\mathcal{M}=\left<M,I\right>$ 以及任意 $\mathcal{M}$ [[MK154][赋值]] $v$ 若有 $\mathcal{M}\vDash T_X$

则根据以下证明可得 $\left<\mathcal{M},v\right>\vDash(\phi_i\to\psi)$ 则根据[[MK257][完备性]]可得 $T_X\vdash(\phi_i\to\psi)$

综上所述，对于任意 $T_X$ 的[[MK322][ $1$ 元类型]] $\Gamma$ 若有 $\phi_i\in\Gamma$ 则对于任意 $\psi\in\Gamma$ 均有 $T_X\vdash(\phi_i\to\psi)$

即 $\Gamma$ 是 $\mathcal{T}_X$ 的[[MK329][根本型]]，且 $\phi_i$ 是[[MK328][判定式]]
 
******* 若 $\left<\mathcal{M},v\right>\not\vDash\phi_i$

则根据[[MK158][满足]]有 $\left<\mathcal{M},v\right>\vDash(\phi_i\to\psi)$

******* 若 $\left<\mathcal{M},v\right>\vDash\phi_i$

假设 $\left<\mathcal{M},v\right>\not\vDash\psi$ 则根据以下证明可退出矛盾，故假设不成立，即若 $\left<\mathcal{M},v\right>\vDash\phi_i$ 则 $\left<\mathcal{M},v\right>\vDash\psi$

即根据[[MK158][满足]]有 $\left<\mathcal{M},v\right>\vDash(\phi_i\to\psi)$

******** [[MK295][裁剪结构]]性质<<MK161>>

任意 $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 的[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 定义 $\mathcal{N}'=\left<N,J'\right>$ 其中 $J'=J-\left\{\left<c_x,x\right>\big|x\in X\right\}$

显然 $\mathcal{A}_{<}\subset\mathcal{A}_{<\cup C_X}$ 故 $\mathcal{L}_{\mathcal{A}_<}$ 是 $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 的[[MK152][裁剪语言]]，则显然 $\mathcal{N}'$ 是 $\mathcal{N}$ 的[[MK295][裁剪结构]]

任意 $\phi\in\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 根据[[MK384][引理8]]替换所有 $\phi$ 中[[MK140][受限]]和[[MK106][量词]]中的[[MK107][变元符号]] $x_j$ 为 $x_{m+j}$ 替换后表达式为 $\phi'$

对于任意 $\mathcal{N}$ 的[[MK154][赋值]] $\eta$ 根据[[MK384][引理8]] $\left<\mathcal{N},\eta\right>\vDash\phi'$ 的充要条件为 $\left<\mathcal{N},\eta\right>\vDash\phi$

定义 $\phi^*[j]=\begin{cases}\phi[j]&\phi[j]\not\in C_X\\x_{i+1}&\phi[j]=a_i\in C_X\end{cases}$  显然 $\phi^*$ 是 $\mathcal{L}_{\mathcal{A}_<}$ 的[[MK129][表达式]]，任取 $\mathcal{N}'$ 的[[MK154][赋值]] $\mu$

满足 $\mu(x_{i+1})=I(c_{a_i}),\mu(x_1)=\eta(x_1)$ 根据[[MK296][定理1]]可得 $\left<\mathcal{N}',\mu\right>\vDash\phi^*$ 的充要条件为 $\left<\mathcal{N},\mu\right>\vDash\phi^*$

根据[[MK176][替换定理]]可得 $\left<\mathcal{N},\mu\right>\vDash\phi^*$ 的充要条件为 $\left<\mathcal{N},\mu\right>\vDash\phi'$

由于 $\phi'$ 中仅包含[[MK140][自由变元]] $x_1$ 根据[[MK168][局部确定]]可得 $\left<\mathcal{N},\mu\right>\vDash\phi'$ 的充要条件是 $\left<\mathcal{N},\eta\right>\vDash\phi'$

综上所述，对于任意 $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 的[[MK153][结构]] $\mathcal{N}=\left<N,J\right>$ 及其任意[[MK154][赋值]] $\eta$ ，任意 $\phi\in\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 

存在 $\mathcal{L}_{\mathcal{A}_<}$ 的[[MK295][裁剪结构]] $\mathcal{N}'=\left<N,J'\right>$ 对于任意 $\mathcal{N}'$ 的[[MK154][赋值]] $\mu$ 满足 $\mu(x_{i+1}) =I(c_{a_i}),\mu(x_1) =\eta(x_1)$

均有 $\left<\mathcal{N},\eta\right>\vDash\phi$ 的充要条件是 $\left<\mathcal{N}',\mu\right>\vDash\phi^*$ ，定义 $\mathcal{M}$ 的裁剪结构是 $\mathcal{M}'=\left<M,I'\right>$ 

******** $A\cap\left\{r\big|\mathcal{M}'\vDash\phi^*_i[a^*,I(c_{a_1}),...,I(c_{a_m})]\right\}\ne\varnothing$ <<MK391>>

根据 $T_X$ 定义以及[[MK389][引理2]]可得 $\mathcal{T}_X$ 是[[MK264][完全理论]]，显然 $(\exists x_1(\phi_i\land\psi))$ 是 $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 的[[MK144][语句]]

由于 $\Gamma$ [[MK222][一致]]且 $\psi\in\Gamma,\phi_i\in\Gamma$ 故根据[[MK255][完备性]]可得存在 $\mathcal{L}_{\mathcal{A}_{<\cup C_X}}$ 的[[MK153][结构]] $\mathcal{N}$ [[MK154][赋值]] $\rho$ 使得 $\left<\mathcal{N},\rho\right>\vDash\Gamma$

即有 $\left<\mathcal{N},\rho\right>\vDash\psi,\left<\mathcal{N},\rho\right>\vDash\phi_i$ 即有 $\left<\mathcal{N},\rho\right>\vDash(\phi_i\land\psi)$ 根据[[MK172][存在量词]] $\mathcal{N}\vDash(\exists x_1(\phi_i\land\psi))$   

由于 $T_X\subset\Gamma$ 故根据[[MK255][完备性]]有 $T_X\cup\{(\exists x_1(\phi_i\land\psi))\}$ [[MK222][一致]]根据[[MK270][引理6]]有 $T_X\vdash(\exists x_1(\phi_i\land\psi))$

根据[[MK257][完备性]]以及 $\mathcal{M}_X\vDash T_X$ 可得 $\mathcal{M}_X\vDash(\exists x_1(\phi_i\land\psi))$ 则根据 $T_X$ 定义可得 $(\exists x_1(\phi_i\land\psi))\in T_X$ 

故可得 $\mathcal{M}\vDash(\exists x_1(\phi_i\land\psi))$ 根据[[MK172][存在量词]]易证存在 $a^*\in M$ 使得 $\mathcal{M}'\vDash(\phi_i\land\psi)[a^*]$

根[[MK161][裁剪性质]]易证 $\mathcal{M}'\vDash(\phi^*_i\land\psi^*)[a^*,I(c_{a_1}),...,I(c_{a_m})]$

进一步根据[[MK170][逻辑与]]可得 $\mathcal{M}'\vDash\phi^*_i[a^*,I(c_{a_1}),...,I(c_{a_m})]$ 且 $\mathcal{M}'\vDash\psi^*[a^*,I(c_{a_1}),...,I(c_{a_m})]$

由于 $A=\left\{r\big|\mathcal{M}'\vDash\psi^*[r,I(c_{a_1}),...,I(c_{a_m})]\right\}$ ，则有 $a^*\in A\cap\left\{r\big|\mathcal{M}'\vDash\phi^*_i[a^*,I(c_{a_1}),...,I(c_{a_m})]\right\}$

即 $A\cap\left\{r\big|\mathcal{M}'\vDash\phi^*_i[a^*,I(c_{a_1}),...,I(c_{a_m})]\right\}\ne\varnothing$

******** 推出矛盾

根据 $\left<\mathcal{M},v\right>\vDash\phi_i,\left<\mathcal{M},v\right>\not\vDash\psi$ 以及[[MK161][裁剪性质]]可得任取[[MK295][裁剪结构]] $\mathcal{M}'$ 的[[MK154][赋值]] $\mu$

满足 $\mu(x_{i+1}) =I(c_{a_i}),\mu(x_1) =v(x_1)$ 则有 $\left<\mathcal{M}',\mu\right>\vDash\phi_i^*,\left<\mathcal{M}',\mu\right>\not\vDash\psi^*$

即 $\mathcal{M}'\vDash\phi_i^*[v(x_1),I(c_{a_1}),...,I(c_{a_m})],\mathcal{M}'\not\vDash\psi^*[v(x_1),I(c_{a_1}),...,I(c_{a_m})]$

根据上一步 $A$ 定义以及[[MK313][可定义性]]有 $A\in\text{Def}_1(\mathcal{M}',\left\{I(c_{a_1}),...,I(c_{a_m})\right\})$ 根据上一步证明有 $A\ne\varnothing$

由于 $T_X=\left\{\theta\big|\theta\in\Theta_X\land\mathcal{M}_X\vDash\theta\right\}$ 故显然 $T_{\text{odl}}\subset T_X$ 由于 $T_{\text{odl}}$ 不含新增的[[MK108][常元符号]]

根据[[MK296][定理1]]易证 $\mathcal{M}'\vDash T_{\text{odl}}$ 故根据[[MK366][区间定理]]可得 $A$ 是为[[~/文档/note/离散数学/lssx.org::MK82][有限]]个端点在 $\left\{I(c_{a_1}),...,I(c_{a_m})\right\}$ 中的开区间

以及 $\left\{I(c_{a_1}),...,I(c_{a_m})\right\}$ 中的点的并，显然是[[MK159][之前证明]]中所有 $\phi_j,0\leq j\leq 2m$ 描述的区间或点

定义 $\phi_j^*,0\leq j\leq 2m$ 为所有[[MK159][之前证明]]中定义的 $\phi_i$ 经过[[MK161][裁剪结构]]中的方法替换后的[[MK129][表达式]]

故有 $A=\bigcup_{k=0}^n\left\{r\big|\mathcal{M}'\vDash\phi^*_{j_k}[r,I(c_{a_1}),...,I(c_{a_m})]\right\}$

********* 存在 $k$ 满足 $j_k=i$

则有 $v(x_1)\in\left\{r\big|\mathcal{M}'\vDash\phi^*_i[r,I(c_{a_1}),...,I(c_{a_m})]\right\}\subset A$ 根据 $A=\left\{r\big|\mathcal{M}'\vDash\psi^*[r,I(c_{a_1}),...,I(c_{a_m})]\right\}$

有 $\mathcal{M}'\vDash\psi^*_i[v(x_1),I(c_{a_1}),...,I(c_{a_m})]$ 与 $\mathcal{M}'\not\vDash\psi^*[v(x_1),I(c_{a_1}),...,I(c_{a_m})]$ 矛盾

********* 不存在 $k$ 满足 $j_k=i$

根据[[MK159][之前证明]]有 $\varphi_{2,i}=\left(\forall x_1\left(\phi_i\to\left(\bigwedge_{j\ne i}(\lnot\phi_j)\right)\right)\right)\in T_X$

根据[[MK161][裁剪性质]]易证 $\mathcal{M}'\vDash\varphi_{2,i}[a,I(c_{a_1}),...,I(c_{a_m})]$ 根据[[MK158][满足]]易证对于任意 $r\in M$

均有 $\mathcal{M}'\vDash\left(\phi_i\to\left(\bigwedge_{j\ne i}(\lnot\phi_j)\right)\right)[r,I(c_{a_1}),...,I(c_{a_m})]$

则对于任意 $a\in\left\{r\big|\mathcal{M}'\vDash\phi^*_i[r,I(c_{a_1}),...,I(c_{a_m})]\right\}$ 任意 $\phi^*_j,j\ne i$

均有 $\mathcal{M}'\vDash(\lnot\phi^*_j)[r,I(c_{a_1}),...,I(c_{a_m})]$

根据[[MK158][满足]] $\mathcal{M}'\not\vDash\phi^*_j[r,I(c_{a_1}),...,I(c_{a_m})]$ 即 $a\not\in\left\{r\big|\mathcal{M}'\vDash\phi^*_j[r,I(c_{a_1}),...,I(c_{a_m})]\right\}$

根据 $A=\bigcup_{k=0}^n\left\{r\big|\mathcal{M}'\vDash\phi^*_{j_k}[r,I(c_{a_1}),...,I(c_{a_m})]\right\}$ 以及任意 $0\leq k \leq n$ 均有 $j_k\ne i$

可得 $A\cap\left\{r\big|\mathcal{M}'\vDash\phi^*_i[r,I(c_{a_1}),...,I(c_{a_m})]\right\}=\varnothing$ 与[[MK391][之前证明]]矛盾

****** 证明个数

对于任意 $\Gamma_1,\Gamma_2$ 均有 $\phi_i\in\Gamma_1,\phi_i\in\Gamma_2$ 则根据上一步证明可得 $\Gamma_1,\Gamma_2$ 是[[MK329][根本型]]

且 $\phi_i$ 均为 $\Gamma_1,\Gamma_2$ 的[[MK328][判定式]]，即有 $\Gamma_1=\left\{\psi(x_1)\big|(\psi\in\mathcal{L}_{\mathcal{A}_{<\cup C_X}}\land T_X\vdash(\phi_i\to\psi))\right\}=\Gamma_2$ 

又根据[[MK159][之前证明]]可得 $\mathcal{T}_X$ 有且仅有 $2m+1$ 个[[MK322][ $1$ 元类型]]

**** [[MK397][适合量词消去]]<<MK486>>

[[MK220][一阶理论]] $\mathcal{T}_{\text{odl}}=\left<\mathcal{L}_{\mathcal{A}_<},\mathbb{L}\cap\mathcal{L}_{\mathcal{A}_<},T_{\text{odl}},T^*_{\text{odl}}\right>$ [[MK397][适合量词消去]]

***** 证明

****** 存在等价范式<<MK453>>

对于任意不含[[MK106][量词]]的 $\phi\in\mathcal{L}_{\mathcal{A}_<}$ 根据下列证明可得存在 $\varphi$ 满足

（1） $\varphi=\left(\bigvee_{i=1}^p\theta_i\right)$ 其中 $\theta_i=\left(\bigwedge_{j=2}^{u_i}(x_{k_{j-1}}\hat{=}x_{k_{j}})\land\bigwedge_{j=u_i+1}^{q_i} p_<(x_{k_j},x_{k_{j+1}})\right)$

（2） $T_\text{odl}\vdash(\phi\leftrightarrow\varphi)$

（3） 不存在 $x_\alpha,x_\beta$ 使得[[MK139][子表达式]] $(x_\alpha\hat{=}x_\beta),(x_\beta\hat{=}x_\alpha),p_<(x_\alpha,x_\beta),p_<(x_\beta,x_\alpha)$ 在任意 $\theta_i$ 中出现 $1$ 次以上

******* $\phi$ [[MK189][不可满足]]<<MK448>>

则对于任意 $\mathcal{T}_\text{odl}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\not\vDash\phi$ 根据[[MK355][公理（1）]]以及[[MK197][特化公理]]

可得 $T\vdash((\forall x_1(\lnot p_<(x_1,x_1)))\to(\lnot p_<(x_0,x_0)))$ 根据[[MK210][导出引理]] $T\vdash(\lnot p_<(x_0,x_0))$

根据[[MK257][完备性]]可得 $\left<\mathcal{M},v\right>\vDash(\lnot p_<(x_0,x_0))$ 根据[[MK158][满足]] $\left<\mathcal{M},v\right>\not\vDash p_<(x_0,x_0)$

同理易证 $\left<\mathcal{M},v\right>\vDash((\phi\to p_<(x_0,x_0))\land(p_<(x_0,x_0)\to\phi))=(\phi\leftrightarrow p_<(x_0,x_0))$

综上所述，对于任意 $\mathcal{T}_\text{odl}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash(\phi\leftrightarrow p_<(x_0,x_0))$

根据[[MK257][完备性]]可得 $T_\text{odl}\vdash(\phi\leftrightarrow p_<(x_0,x_0))$

******* $\phi$ [[MK193][普遍真实]]

则对于任意 $\mathcal{T}_\text{odl}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash\phi$ 根据[[MK197][恒等律]]可得 $T\vdash(x_0\hat{=}x_0)$

根据[[MK257][完备性]]可得 $\left<\mathcal{M},v\right>\vDash(x_0\hat{=}x_0)$ 根据[[MK158][满足]] $\left<\mathcal{M},v\right>\vDash(\phi\leftrightarrow(x_0\hat{ =}x_0))$

综上所述，对于任意则对于任意 $\mathcal{T}_\text{odl}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 均有 $\left<\mathcal{M},v\right>\vDash(\phi\leftrightarrow(x_0\hat{ =}x_0))$

综上所述 $T_\text{odl}\vdash(\phi\leftrightarrow(x_0\hat{ =}x_0))$

******* $\phi$ [[MK189][可满足]]

定义 $z(\phi)$ 为 $\phi$ 中去除所有[[MK117][项]]后 $($ 和 $)$ 的对数，根据以下证明， $|\phi|<\infty$ 以及数学归纳法可证

任意不含[[MK106][量词]]的 $\phi\in\mathcal{L}_{\mathcal{A}_<}$ 即不是[[MK189][不可满足]]又不是[[MK193][普遍真实]]存在 $\varphi$ 满足：

（1） $\varphi=\left(\bigvee_{i=1}^p\theta_i\right)$ 其中 $\theta_i=\left(\bigwedge_{j=2}^{u_i}(x_{k_{j-1}}\hat{=}x_{k_{j}})\land\bigwedge_{j=u_i+1}^{q_i} p_<(x_{k_j},x_{k_{j+1}})\right)$

（2） $T_\text{odl}\vdash(\phi\leftrightarrow\varphi)$

（3） 不存在 $x_\alpha,x_\beta$ 使得[[MK139][子表达式]] $(x_\alpha\hat{=}x_\beta),(x_\beta\hat{=}x_\alpha),p_<(x_\alpha,x_\beta),p_<(x_\beta,x_\alpha)$ 在任意 $\theta_i$ 中出现 $1$ 次以上

******** $z(\phi)=1$

根据[[MK119][项可读性]]可得任意[[MK117][项]] $\tau$ 有且仅有 $\tau=x_i,\tau=c_i,\tau=f(\tai_1,...,\tau_k)$ 三种形式

由于 $\mathcal{A}_<$ 不含[[M108][常元符号]]和[[MK109][函数符号]]，故仅有可能 $\tau=x_i$ 且显然均为[[MK189][可满足]]

又根据[[MK137][表达式可读性]]可得此时有且仅有以下情况

********* $\phi=(x_i\hat{=}x_j)$

若 $i=j$ 则根据[[MK197][恒等律]] $T\vdash\phi$ 根据[[MK257][完备性]] $\phi$ [[MK193][普遍真实]]，与假设不符。故必有 $i\ne j$

此时根据[[MK197][自蕴含]]易证 $T\vdash(\phi\leftrightarrow (x_i\hat{=}x_j))$

********* $\phi=p_<(x_i,x_j)$

若 $i=j$ 则 $\phi=p_<(x_i,x_i)$ 根据[[MK355][公理（1）]]以及[[MK197][特化公理]] $T_\text{odl}\vdash(\lnot p_<(x_i,x_i))$

根据[[MK257][完备性]] $\phi$ [[MK189][不可满足]]，故矛盾。故必有 $i\ne j$

此时根据[[MK197][自蕴含]]易证 $T\vdash(\phi\leftrightarrow p_<(x_i,x_j))$

******** 归纳假设

任意不含[[MK106][量词]]的 $\phi\in\mathcal{L}_{\mathcal{A}_<}$ 即不是[[MK189][不可满足]]又不是[[MK193][普遍真实]]，且 $1\leq z(\phi)<n$ 均存在 $\varphi$ 满足：

（1） $\varphi=\left(\bigvee_{i=1}^p\theta_i\right)$ 其中 $\theta_i=\left(\bigwedge_{j=2}^{u_i}(x_{k_{j-1}}\hat{=}x_{k_{j}})\land\bigwedge_{j=u_i+1}^{q_i} p_<(x_{k_j},x_{k_{j+1}})\right)$

（2） $T_\text{odl}\vdash(\phi\leftrightarrow\varphi)$

（3） 不存在 $x_\alpha,x_\beta$ 使得[[MK139][子表达式]] $(x_\alpha\hat{=}x_\beta),(x_\beta\hat{=}x_\alpha),p_<(x_\alpha,x_\beta),p_<(x_\beta,x_\alpha)$

     在任意 $\theta_i$ 中出现 $1$ 次以上

******** $z(\phi)=n$

根据[[MK137][可读性]]可得不含[[MK106][量词]]的 $\phi\in\mathcal{L}_{\mathcal{A}_<}$ 有且仅有以下两种形式

********* $\phi=(\lnot\psi)$

显然 $z(\psi)<n$ 若 $\psi$ [[MK189][不可满足]]，则 $\varphi=p_<(x_0,x_0)$ ，若 $\psi$ [[MK193][普遍真实]]，则 $\varphi=(x_0\hat{=}x_0)$ 

若均不是，根据归纳假设可得存在满足条件的 $\psi'=\left(\bigvee_{i=1}^{p'}\left(\bigwedge_{j=2}^{u'_i}(x_{k_{j-1}}\hat{ =}x_{k_{j}})\land\bigwedge_{j=u'_i+1}^{q'_i} p_<(x_{k_j},x_{k_{j+1}})\right)\right)$ 

对于任意 $\mathcal{T}_\text{odl}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 根据[[MK186][德摩根律]]、[[MK447][三歧性]]、[[MK197][特化公理]]以及[[MK257][完备性]]有：

\begin{aligned}
&\left<\mathcal{M},v\right>\vDash\left(\lnot\left(\bigvee_{i=1}^{p'}\left(\bigwedge_{j=2}^{u'_i}(x_{k_{j-1}}\hat{=}x_{k_{j}})\land\bigwedge_{j=u'_i+1}^{q'_i} p_<(x_{k_j},x_{k_{j+1}})\right)\right)\right)\\
\Leftrightarrow&\left<\mathcal{M},v\right>\vDash\left(\bigwedge_{i=1}^{p'}\left(\lnot\left(\bigwedge_{j=2}^{u'_i}(x_{k_{j-1}}\hat{=}x_{k_{j}})\land\bigwedge_{j=u'_i+1}^{q'_i} p_<(x_{k_j},x_{k_{j+1}})\right)\right)\right)\\
\Leftrightarrow&\left<\mathcal{M},v\right>\vDash\left(\bigwedge_{i=1}^{p'}\left(\bigvee_{j=2}^{u'_i}(\lnot(x_{k_{j-1}}\hat{=}x_{k_{j}}))\lor\bigvee_{j=u'_i+1}^{q'_i} (\lnot p_<(x_{k_j},x_{k_{j+1}}))\right)\right)\\
\Leftrightarrow&\left<\mathcal{M},v\right>\vDash\left(\bigwedge_{i=1}^{p'}\left(\bigvee_{j=2}^{u'_i}(p_<(x_{k_{j-1}},x_{k_{j}})\lor p_<(x_{k_{j-1}},x_{k_{j}}))\lor\bigvee_{j=u'_i+1}^{q'_i} ((x_{k_j}\hat{=}x_{k_{j+1}})\lor p_<(x_{k_{j+1}},x_{k_{j}}))\right)\right)\\

\end{aligned}

又根据[[MK451][与/或交换]]以及[[MK452][与/或分配]]可从上试中整理出 $\varphi'$

满足 $\varphi'=\left(\bigvee_{i=1}^p\theta'_i\right)$ 其中 $\theta'_i=\left(\bigwedge_{j=2}^{u_i}(x_{k_{j-1}}\hat{=}x_{k_{j}})\land\bigwedge_{j=u_i+1}^{q_i} p_<(x_{k_j},x_{k_{j+1}})\right)$

即有 $\left<\mathcal{M},v\right>\vDash(\lnot\psi')$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\varphi'$ 根据[[MK449][引理1]]可得 $T_\text{odl}\vdash((\lnot\psi')\leftrightarrow\varphi')$

根据[[MK392][等价替换]]以及 $T_\text{odl}\vdash(\phi\leftrightarrow(\lnot\psi'))$ ，同理可得 $T_\text{odl}\vdash(\phi\leftrightarrow\varphi')$

对于任意 $\theta'_i$ 存在任意 $(x _\alpha\hat{=}x _\beta),(x _\beta\hat{=}x _\alpha),p_<(x _\alpha,x _\beta),p_<(x _\beta,x _\alpha)$ 出现 $1$ 次以上

根据[[MK451][与交换]]、[[MK454][与吸收]]以及[[MK449][引理1]]易证存在 $\theta_i$ 满足上述[[MK139][子表达式]]仅出现 $1$ 次且有 $T\vdash(\theta'_i\leftrightarrow\theta_i)$

否则 $\theta_i=\theta'_i$ ，定义 $\varphi=\left(\bigvee_{i=1}^p\theta_i\right)$ ，根据[[MK392][等价替换]]易证 $T\vdash(\varphi'\leftrightarrow\varphi)$ 同理可证 $T _\text{odl}\vdash(\phi\leftrightarrow\varphi)$

********* $\phi=(\psi_1\to\psi_2)$

根据[[MK158][满足]]、[[MK171][逻辑或]]以及[[MK449][引理1]]易证 $T_\text{odl}\vdash((\psi_1\to\psi_2)\leftrightarrow((\lnot\psi_1)\lor\psi_2))$

显然 $z(\psi_1)<n,z(\psi_2)<n$ 则根据上一步证明可得存在 $\varphi_1$ 满足：

（1） $\varphi_1=\left(\bigvee_{i=1}^{p_1}\theta_{i,1}\right)$ 其中 $\theta_{i,1}=\left(\bigwedge_{j=2}^{u_{i,1}}(x_{k_{j-1}}\hat{=}x_{k_{j}})\land\bigwedge_{j=u_{i,1}+1}^{q_{i,1}} p_<(x_{k_j},x_{k_{j+1}})\right)$

（2） $T_\text{odl}\vdash((\lnot\psi_1)\leftrightarrow\varphi_1)$

（3） 不存在 $x_\alpha,x_\beta$ 使得[[MK139][子表达式]] $(x_\alpha\hat{=}x_\beta),(x_\beta\hat{=}x_\alpha),p_<(x_\alpha,x_\beta),p_<(x_\beta,x_\alpha)$

     在任意 $\theta_{i,1}$ 中出现 $1$ 次以上


若 $\psi_2$ [[MK189][不可满足]]，则 $\varphi_2=p_<(x_0,x_0)$ ，若 $\psi_2$ [[MK193][普遍真实]]，则 $\varphi_2=(x_0\hat{=}x_0)$ 

若均不是，根据归纳假设可得存在 $\varphi_2$ 满足：

（1） $\varphi_2=\left(\bigvee_{i=2}^{p_1}\theta_{i,2}\right)$ 其中 $\theta_{i,1}=\left(\bigwedge_{j=2}^{u_{i,2}}(x_{k_{j-1}}\hat{=}x_{k_{j}})\land\bigwedge_{j=u_{i,2}+1}^{q_{i,2}} p_<(x_{k_j},x_{k_{j+1}})\right)$

（2） $T_\text{odl}\vdash(\psi_2\leftrightarrow\varphi_2)$

（3） 不存在 $x_\alpha,x_\beta$ 使得[[MK139][子表达式]] $(x_\alpha\hat{=}x_\beta),(x_\beta\hat{=}x_\alpha),p_<(x_\alpha,x_\beta),p_<(x_\beta,x_\alpha)$

     在任意 $\theta_{i,2}$ 中出现 $1$ 次以上

根据[[MK392][等价替换]]可得 $T_\text{odl}\vdash((\psi_1\to\psi_2)\leftrightarrow(\varphi_1\lor\varphi_2))$

显然根据[[MK451][与/或交换]]以及[[MK449][引理1]]易证有 $\varphi$ 满足：

（1） $T_\text{odl}\vdash(\varphi\leftrightarrow(\varphi_1\lor\varphi_2))$

（2） $\varphi=\left(\bigvee_{i=1}^p\theta_i\right)$ 其中 $\theta_i=\left(\bigwedge_{j=2}^{u_i}(x_{k_{j-1}}\hat{=}x_{k_{j}})\land\bigwedge_{j=u_i+1}^{q_i} p_<(x_{k_j},x_{k_{j+1}})\right)$

（3） 不存在 $x_\alpha,x_\beta$ 使得[[MK139][子表达式]] $(x_\alpha\hat{=}x_\beta),(x_\beta\hat{=}x_\alpha),p_<(x_\alpha,x_\beta),p_<(x_\beta,x_\alpha)$

     在任意 $\theta_i$ 中出现 $1$ 次以上

根据[[MK392][等价替换]]可得 $T_\text{odl}\vdash(\phi\leftrightarrow\varphi)$

****** 证明结论

对于任意不含[[MK106][量词]]的 $\phi\in\mathcal{L}_{\mathcal{A}_<}$ ，根据[[MK453][之前证明]]可得存在 $\varphi$ 满足

（1） $\varphi=\left(\bigvee_{i=1}^p\theta_i\right)$ 其中 $\theta_i=\left(\bigwedge_{j=2}^{u_i}(x_{k_{j-1}}\hat{=}x_{k_{j}})\land\bigwedge_{j=u_i+1}^{q_i} p_<(x_{k_j},x_{k_{j+1}})\right)$

（2） $T_\text{odl}\vdash(\phi\leftrightarrow\varphi)$

（3） 不存在 $x_\alpha,x_\beta$ 使得[[MK139][子表达式]] $(x_\alpha\hat{=}x_\beta),(x_\beta\hat{=}x_\alpha),p_<(x_\alpha,x_\beta),p_<(x_\beta,x_\alpha)$ 在任意 $\theta_i$ 中出现 $1$ 次以上

则对于任意 $x_l$ 根据如下证明可得存在 $\theta'_i$ 满足 $T\vdash((\exists x_l\theta_i)\leftrightarrow\theta'_i)$

根据[[MK184][量词分配]]以及[[MK449][引理1]]可得 $T_\text{odl}\vdash\left(\left(\exists x_l\left(\bigvee_{i=1}^p\theta_i\right)\right)\leftrightarrow\left(\bigvee_{i=1}^p(\exists x_l\theta_i)\right)\right)$

根据[[MK392][等价替换]]可得 $T_\text{odl}\vdash\left(\left(\exists x_l\left(\bigvee_{i=1}^p\theta_i\right)\right)\leftrightarrow\left(\bigvee_{i=1}^p\theta'_i\right)\right)$ 显然有 $\left(\exists x_l\left(\bigvee_{i=1}^p\theta_i\right)\right)=(\exists x_l\varphi)$

即 $T_\text{odl}\vdash\left((\exists x_l\varphi)\leftrightarrow\left(\bigvee_{i=1}^p\theta'_i\right)\right)$ 又根据[[MK392][等价替换]]可得 $T _\text{odl}\vdash\left((\exists x_l\phi)\leftrightarrow\left(\bigvee_{i=1}^p\theta'_i\right)\right)$

综上所述，对于任意不含[[MK106][量词]]的 $\phi\in\mathcal{L}_{\mathcal{A}_<}$ 以及[[MK107][变元符号]] $x_l$ 均有 $T _\text{odl}\vdash\left((\exists x_l\phi)\leftrightarrow\left(\bigvee_{i=1}^p\theta'_i\right)\right)$

其中 $\left(\bigvee_{i=1}^p\theta'_i\right)$ 不含[[MK106][量词]]，则根据[[MK459][推论]]可得 $\mathcal{T} _\text{odl}$ [[MK397][适合量词消去]]

******* 定义 $\theta'_i$ 并证明 $T\vdash((\exists x_l\theta_i)\leftrightarrow\theta'_i)$

******** $\theta_i$ 不含 $x_i$

定义 $\theta'_i=\theta_i$ ，根据[[MK455][无关量词]]以及[[MK449][引理1]]易证 $T\vdash((\exists x_l\theta_i)\leftrightarrow\theta'_i)$

******** $\theta_i$ 含[[MK139][子表达式]] $(x_l\hat{=}x_k)$

定义 $\theta_i'=\theta_i(\left<x_l\right>,\left<x_k\right>)$ 由于不含[[MK106][量词]]，故显然任意 $x_l$ 在 $\theta_i$ 中均为[[MK141][自由出现]]，故替换为 $x_k$

对于任意 $\mathcal{T}_\text{odl}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$ 根据以下证明可得 $\left<\mathcal{M},v\right>\vDash(\exists x_l\theta_i)$ 的充要条件

是 $\left<\mathcal{M},v\right>\vDash\theta'_i$ ，根据[[MK449][引理1]]可得 $T\vdash((\exists x_l\theta_i)\leftrightarrow\theta'_i)$

********* 充分

若 $\left<\mathcal{M},v\right>\vDash(\exists x_l\theta_i)$ 则根据[[MK158][满足]]存在 $\mathcal{M}$ 的[[MK154][赋值]] $v'$ 满足：

（1） 对于任意 $z\ne l$ 均有 $v'(x_z)=v(x_z)$

（2） $\left<\mathcal{M},v'\right>\vDash\theta_i$

则根据[[MK170][逻辑与]]可得 $\left<\mathcal{M},v'\right>\vDash(x_l\hat{=}x_k)$ ，则根据[[MK158][满足]]有 $v'(x_l)=v'(x_k)$

根据[[MK176][替换定理]]有 $\left<\mathcal{M},v'\right>\vDash\theta_i(\left<x_l\right>,\left<x_k\right>)=\theta'_i$ 又由于 $\theta'_i$ 中不含 $x_l$ ，则根据[[MK168][局部确定]]可得 $\left<\mathcal{M},v\right>\vDash\theta'_i$ 

********* 必要

若 $\left<\mathcal{M},v\right>\vDash\theta'_i$ ，则有 $\left<\mathcal{M},v\right>\vDash(x_l\hat{=}x_k)$ ，则根据[[MK158][满足]]有 $v(x_l)=v(x_k)$ ，根据[[MK176][替换定理]]有 $\left<\mathcal{M},v\right>\vDash\theta_i$

根据[[MK158][满足]]易证 $\left<\mathcal{M},v\right>\vDash(\exists x_l\theta_i)$ 

******** 以上均不是

若存[[MK107][变元符号]] $x_{u_1},...,x_{u_a},x_{v_1},...,x_{v_b}$ 使得对于任意 $1\leq y\leq a$ 均有 $p_<(x_{u_y},x_l)$ 在 $\theta_i$ 中，

且对于任意 $1\leq z\leq b$ 均有 $p_<(x_l,x_{v_z})$ 是 $\theta_i$ 的[[MK139][子表达式]]则定义

定义 $$\theta'_{i,1}=\left(\bigwedge_{j=2}^{u_i}(x_{k_{j-1}}\hat{=}x_{k_{j}})\land\bigwedge_{j=u_i+1,k_j\not\in\{u_1,...,u_a\},k_{j+1}\not\in\{v_1,...,v_b\}}^{q_i} p_<(x_{k_j},x_{k_{j+1}})\right)$$

定义 $$\theta'_{i,2}=\left(\bigwedge_{1\leq y\leq a,1\leq z\leq b}p_<(x_{u_y},x_{v_z})\right)$$

定义 $\theta'_i=\left(\theta_{i,1}\land\theta_{i,2}\right)$ 即将所有 $p_<(x_{u_y},x_l),p_<(x_l,x_{v_z})$ 删除

且对于任意 $1\leq y\leq a,1\leq z\leq b$ 添加 $p_<(x_y,x_z)$ 。则对于任意 $\mathcal{T}_\text{odl}$ 的[[MK221][模型]] $\mathcal{M}$ 及其[[MK154][赋值]] $v$

根据以下证明可得 $\left<\mathcal{M},v\right>\vDash(\exists x_l\theta_i)$ 的充要条件是 $\left<\mathcal{M},v\right>\vDash\theta'_i$

则根据[[MK449][引理1]]可得 $T\vdash((\exists x_l\theta_i)\leftrightarrow\theta'_i)$

********* 充分

若 $\left<\mathcal{M},v\right>\vDash(\exists x_l\theta_i)$ 则根据[[MK158][满足]]存在 $\mathcal{M}$ 的[[MK154][赋值]] $v'$ 满足：

（1） 对于任意 $z\ne l$ 均有 $v'(x_z)=v(x_z)$

（2） $\left<\mathcal{M},v'\right>\vDash\theta_i$

由于 $\theta'_{i,1}$ 中的所有[[MK139][子表达式]]均是 $\theta_i$ 的[[MK139][子表达式]]，则根据[[MK170][逻辑与]]易证 $\left<\mathcal{M},v'\right>\vDash\theta'_{i,1}$

对于任意 $p_<(x_{u_y},x_{v_z})$ 是 $\theta'_{i,2}$ 中的[[MK139][子表达式]]，根据 $\theta'_i$ 定义可得存在 $p_<(x_{u_y},x_l),p_<(x_l,x_{v_z})$

是 $\theta_i$ 的[[MK139][子表达式]]，则根据[[MK170][逻辑与]]易证 $\left<\mathcal{M},v'\right>\vDash p_<(x_{u_y},x_l),\left<\mathcal{M},v'\right>\vDash p_<(x_l,x_{v_z})$

根据[[MK355][公理（2）]]、[[MK197][特化公理]]以及[[MK257][完备性]]易证 $\left<\mathcal{M},v'\right>\vDash((p_<(x_{u_y},x_l)\land p_<(x_l,x_{v_z}))\to p_<(x_{u_y},x_{v_z}))$

根据[[MK158][满足]]易证 $\left<\mathcal{M},v'\right>\vDash p_<(x_{u_y},x_{v_z})$ ，又结合[[MK170][逻辑与]]可得 $\left<\mathcal{M},v'\right>\vDash\theta'_{i,2}$

由于 $\left<\mathcal{M},v'\right>\vDash\theta'_{i,1}$ 以及 $\left<\mathcal{M},v'\right>\vDash\theta'_{i,2}$ ，故根据[[MK170][逻辑与]]可得 $\left<\mathcal{M},v'\right>\vDash\theta'_{i}$

********* 必要

若 $\left<\mathcal{M},v\right>\vDash\theta'_i$ 则根据[[MK170][逻辑与]]可得 $\left<\mathcal{M},v\right>\vDash\theta'_{i,1}$ 以及 $\left<\mathcal{M},v\right>\vDash\theta'_{i,2}$

根据[[MK456][引理8]]可得满足引理条件的排序 $\left<x_{u'_1},...,x_{u'_a}\right>$ 以及 $\left<x_{v'_1},...,x_{v'_b}\right>$ 取 $x_{u'_a},x_{v'_1}$

********** 若不存在 $x_{v'_1}$ <<MK458>>

根据[[MK355][公理（4）]]、[[MK197][特化公理]]以及[[MK257][完备性]]易证 $\left<\mathcal{M},v\right>\vDash(\exists x_lp_<(x_{u'_a},x_l))$

即存在 $\mathcal{M}$ 的[[MK154][赋值]] $v'$ 满足 $\left<\mathcal{M},v'\right>\vDash p_<(x_{u'_a},x_l)$ 以及 $v'(x_z)=v(x_z),z\ne l$

根据[[MK456][引理8]]对于任意 $x_{u_y},1\leq y\leq a$ 若 $u_y\ne u'_a$ 均有 $\left<\mathcal{M},v\right>\vDash((x_{u_z}\hat{=}x_{u'_a})\lor p_<(x_{u_y},x_{u'_a}))$

则根据 $\left<\mathcal{M},v'\right>\vDash p_<(x_{u'_a},x_l)$ 以及[[MK457][引理9]]可得 $\left<\mathcal{M},v'\right>\vDash p_<(x_{u_y},x_l)$ 

综上所述 $\left<\mathcal{M},v'\right>\vDash \left(\bigwedge_{1\leq y\leq a}p_<(x_{u_y},x_l)\right)$

由于 $\theta'_{i,1}$ 不含 $x_l$ ，则根据 $v'(x_z)=v(x_z),z\ne l, \left<\mathcal{M},v\right>\vDash\theta_{i,1}$ 以及[[MK168][局部确定]]

可得 $\left<\mathcal{M},v'\right>\vDash\theta'_{i,1}$ 则根据 $\theta'_i$ 定义以及[[MK170][逻辑与]]可得 $\left<\mathcal{M},v'\right>\vDash\theta_i$ 

********** 若不存在 $x_{u'_a}$

根据[[MK355][公理（5）]]和上一步同样可证存在 $v'$ 满足 $v'(x_z)=v(x_z),z\ne l$ 以及 $\left<\mathcal{M},v'\right>\vDash\theta_i$ 

********** 若均存在

根据 $\theta'_{i,2}$ 定义易证 $p_<(x_{u'_a},x_{v'_1})$ 是 $\theta'_{i,2}$ 的[[MK139][子表达式]]，又由于 $\left<\mathcal{M},v\right>\vDash\theta'_{i,2}$

则根据[[MK170][逻辑与]]可得 $\left<\mathcal{M},v\right>\vDashp_<(x_{u'_a},x_{v'_1})$ 结合[[MK355][公理（6）]]、[[MK197][特化公理]]以及[[MK257][完备性]]

易证 $\left<\mathcal{M},v\right>\vDash(\exists x_l(p_<(x_{u'_a},x_l)\land p_<(x_l,x_{v'_1})))$

即存在 $\mathcal{M}$ 的[[MK154][赋值]] $v'$ 满足 $\left<\mathcal{M},v'\right>\vDash(p_<(x_{u'_a},x_l)\land p_<(x_l,x_{v'_1}))$ 以及 $v'(x_z)=v(x_z),z\ne l$

根据[[MK458][之前证明]]可得对于任意 $x_{u_y},1\leq y\leq a$ 均有 $\left<\mathcal{M},v'\right>\vDash p_<(x_{u_y},x_l)$

根据上一步证明可得任意 $x_{u_z},1\leq z\leq b$ 均有 $\left<\mathcal{M},v'\right>\vDash p_<(x_l,x_{u_z})$

*** 性质

**** 一致性

无断点线性稠密序的[[MK356][理论]] $\mathcal{T}_{\text{odl}}$ 是[[MK222][一致]]的

***** 证明

显然 $\mathcal{M}=<\mathbb{R},\{<p_<,<\ >\}>$ 是 $\mathcal{T}_{\text{odl}}$ 的[[MK195][模型]]，即易证 $T_{\text{odl}}$ [[MK189][可满足]]

即根据[[MK254][第一完备性]]可得 $T_{\text{odl}}$ [[MK222][一致]]

**** 完全性

无端点线性稠密序的[[MK356][理论]] $\mathcal{T}_{\text{odl}}$ 是[[MK264][完全]]的

***** 证明

根据[[MK366][区间定理]]可得对于两个任意 $\mathcal{T}_{\text{odl}}$ 的[[MK195][模型]] $\mathcal{M}_1,\mathcal{M}_2$ 均与 $\left<\mathbb{Q},\{\left<p_<,<\right>\}\right>$ [[MK281][同样]]

又根据[[MK281][同样]]定义易证 $\mathcal{M}_1,\mathcal{M}_2$ [[MK281][同样]]，则根据[[MK267][引理3（2）]]可得 $\mathcal{T}_{\text{odl}}$ 是[[MK264][完全理论]]

**** 模型完全性

无端点线性稠密序的[[MK356][理论]] $\mathcal{T}_{\text{odl}}$ 是[[MK485][模型完全]]的

***** 证明

根据[[MK486][之前证明]]可得 $\mathcal{T}_{\text{odl}}$ [[MK397][适合量词消去]]，又根据[[MK487][定理5]]可得对于任意 $\mathcal{T}_{\text{old}}$ 的[[MK221][模型]] $\mathcal{M}=\left<M,I\right>,\mathcal{N}=\left<N,J\right>$

满足 $\mathcal{N}$ 是 $\mathcal{M}$ 的[[MK282][子结构]]，则 $\mathcal{N}$ 是 $\mathcal{M}$ 的[[MK287][同质子结构]]，即可得 $\mathcal{T}_{\text{odl}}$ 是[[MK485][模型完全]]的
